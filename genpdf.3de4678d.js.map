{"mappings":"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","sources":["src/genpdf.ts","node_modules/jspdf/src/jspdf.js","node_modules/jspdf/src/libs/FileSaver.js","node_modules/jspdf/src/libs/globalObject.js","node_modules/jspdf/src/libs/console.js","node_modules/jspdf/src/libs/rgbcolor.js","node_modules/jspdf/src/libs/AtobBtoa.js","node_modules/jspdf/src/libs/pdfsecurity.js","node_modules/jspdf/src/libs/md5.js","node_modules/jspdf/src/libs/rc4.js","node_modules/jspdf/src/libs/pdfname.js","node_modules/buffer/index.js","node_modules/base64-js/index.js","node_modules/ieee754/index.js","node_modules/jspdf/src/modules/addimage.js","node_modules/jspdf/src/modules/png_support.js","node_modules/fflate/esm/browser.js","node_modules/jspdf/src/libs/png.js"],"sourcesContent":["import { jsPDF } from \"jspdf/src/jspdf\";\nimport \"jspdf/src/modules/addimage\";\nimport \"jspdf/src/modules/png_support\";\nimport iterate from \"iterare\";\n\nconst inner_button = 1.25;\nconst outer_button = 1.625;\nconst page_width = 8.5;\nconst page_height = 11;\nconst ncols = 4;\nconst nrows = 5;\nconst margin = 0.25;\nconst gap = (page_width - (margin * 2 + outer_button * ncols)) / (ncols - 1);\n\nconst outer_radius = outer_button / 2 - inner_button / 2;\n\nfunction* make_poss(n: number, w: number, padding: number, startp: number) {\n    let p = startp;\n    for (let i = 0; i < n; i++) {\n        yield p;\n        p += w + padding;\n    }\n}\n\nconst calc_dims = (x: number, y: number): [Dimension, Dimension] => {\n    const inner_dims: Dimension = [x + outer_radius, y + outer_radius, inner_button, inner_button];\n    const outer_dims: Dimension = [x, y, outer_button, outer_button];\n    return [inner_dims, outer_dims];\n};\n\nconst poss = (n: number) => make_poss(n, outer_button, gap, margin);\n\ntype Dimension = [number, number, number, number];\nconst button_positions: [number, number, Dimension, Dimension][] = [];\nfor (const y of poss(nrows)) {\n    for (const x of poss(ncols)) {\n        button_positions.push([x, y, ...calc_dims(x, y)]);\n    }\n}\n\nexport type Alt = { blob: Blob; full: boolean; pixel: boolean };\n\nexport const genPdf = async (layers: Iterable<Iterable<Alt>>) => {\n    const lays = await Promise.all(\n        iterate(layers).map((layer) =>\n            Promise.all(\n                iterate(layer).map(async ({ blob, ...alt }) => {\n                    const DPI = 300;\n                    const size = (alt.full ? inner_button : outer_button) * DPI;\n                    const img = await loadImage(blob);\n                    const canv = document.createElement(\"canvas\");\n                    canv.width = size;\n                    canv.height = size;\n                    const ctx = canv.getContext(\"2d\")!;\n\n                    const r = size / 2;\n                    ctx.ellipse(r, r, r, r, 0, 0, Math.PI * 2);\n                    ctx.clip();\n\n                    ctx.imageSmoothingEnabled = !alt.pixel;\n                    ctx.drawImage(img, 0, 0, size, size);\n\n                    return { canv: canv.toDataURL(\"image/png\"), ...alt };\n                })\n            )\n        )\n    );\n    const doc = new jsPDF({ unit: \"in\", format: \"letter\", compress: true, putOnlyUsedFonts: true });\n    let l = 0;\n    for (const layer of lays) {\n        let i = 0;\n        for (const [_x, _y, inner_dims, outer_dims] of button_positions) {\n            const alt = layer[i];\n            const dims = alt.full ? outer_dims : inner_dims;\n            doc.addImage(alt.canv, \"PNG\", ...dims, `l${l}a${i}`);\n            i = (i + 1) % layer.length;\n        }\n        l += 1;\n    }\n\n    const r = outer_button / 2;\n    doc.setLineWidth(1 / 72);\n    for (const [x, y] of button_positions) {\n        doc.circle(x + r, y + r, r);\n    }\n\n    return doc;\n};\n\nconst loadImage = (blob: Blob): Promise<CanvasImageSource> => {\n    const url = URL.createObjectURL(blob);\n    const prom = new Promise<HTMLImageElement>((res, rej) => {\n        const img = new Image();\n        img.addEventListener(\"load\", () => res(img));\n        img.addEventListener(\"error\", (e) => rej(e.error));\n        img.src = url;\n    });\n    return prom.finally(() => URL.revokeObjectURL(url));\n};\n","/* eslint-disable no-console */\n\n// @if MODULE_FORMAT!='cjs'\nimport { saveAs } from \"./libs/FileSaver.js\";\n// @endif\nimport { globalObject } from \"./libs/globalObject.js\";\nimport { RGBColor } from \"./libs/rgbcolor.js\";\nimport { btoa } from \"./libs/AtobBtoa.js\";\nimport { console } from \"./libs/console.js\";\nimport { PDFSecurity } from \"./libs/pdfsecurity.js\";\nimport { toPDFName } from \"./libs/pdfname.js\";\n/**\n * jsPDF's Internal PubSub Implementation.\n * Backward compatible rewritten on 2014 by\n * Diego Casorran, https://github.com/diegocr\n *\n * @class\n * @name PubSub\n * @ignore\n */\nfunction PubSub(context) {\n  if (typeof context !== \"object\") {\n    throw new Error(\n      \"Invalid Context passed to initialize PubSub (jsPDF-module)\"\n    );\n  }\n  var topics = {};\n\n  this.subscribe = function(topic, callback, once) {\n    once = once || false;\n    if (\n      typeof topic !== \"string\" ||\n      typeof callback !== \"function\" ||\n      typeof once !== \"boolean\"\n    ) {\n      throw new Error(\n        \"Invalid arguments passed to PubSub.subscribe (jsPDF-module)\"\n      );\n    }\n\n    if (!topics.hasOwnProperty(topic)) {\n      topics[topic] = {};\n    }\n\n    var token = Math.random().toString(35);\n    topics[topic][token] = [callback, !!once];\n\n    return token;\n  };\n\n  this.unsubscribe = function(token) {\n    for (var topic in topics) {\n      if (topics[topic][token]) {\n        delete topics[topic][token];\n        if (Object.keys(topics[topic]).length === 0) {\n          delete topics[topic];\n        }\n        return true;\n      }\n    }\n    return false;\n  };\n\n  this.publish = function(topic) {\n    if (topics.hasOwnProperty(topic)) {\n      var args = Array.prototype.slice.call(arguments, 1),\n        tokens = [];\n\n      for (var token in topics[topic]) {\n        var sub = topics[topic][token];\n        try {\n          sub[0].apply(context, args);\n        } catch (ex) {\n          if (globalObject.console) {\n            console.error(\"jsPDF PubSub Error\", ex.message, ex);\n          }\n        }\n        if (sub[1]) tokens.push(token);\n      }\n      if (tokens.length) tokens.forEach(this.unsubscribe);\n    }\n  };\n\n  this.getTopics = function() {\n    return topics;\n  };\n}\n\nfunction GState(parameters) {\n  if (!(this instanceof GState)) {\n    return new GState(parameters);\n  }\n\n  /**\n   * @name GState#opacity\n   * @type {any}\n   */\n  /**\n   * @name GState#stroke-opacity\n   * @type {any}\n   */\n  var supported = \"opacity,stroke-opacity\".split(\",\");\n  for (var p in parameters) {\n    if (parameters.hasOwnProperty(p) && supported.indexOf(p) >= 0) {\n      this[p] = parameters[p];\n    }\n  }\n  /**\n   * @name GState#id\n   * @type {string}\n   */\n  this.id = \"\"; // set by addGState()\n  /**\n   * @name GState#objectNumber\n   * @type {number}\n   */\n  this.objectNumber = -1; // will be set by putGState()\n}\n\nGState.prototype.equals = function equals(other) {\n  var ignore = \"id,objectNumber,equals\";\n  var p;\n  if (!other || typeof other !== typeof this) return false;\n  var count = 0;\n  for (p in this) {\n    if (ignore.indexOf(p) >= 0) continue;\n    if (this.hasOwnProperty(p) && !other.hasOwnProperty(p)) return false;\n    if (this[p] !== other[p]) return false;\n    count++;\n  }\n  for (p in other) {\n    if (other.hasOwnProperty(p) && ignore.indexOf(p) < 0) count--;\n  }\n  return count === 0;\n};\n\nfunction Pattern(gState, matrix) {\n  this.gState = gState;\n  this.matrix = matrix;\n\n  this.id = \"\"; // set by addPattern()\n  this.objectNumber = -1; // will be set by putPattern()\n}\n\nfunction ShadingPattern(type, coords, colors, gState, matrix) {\n  if (!(this instanceof ShadingPattern)) {\n    return new ShadingPattern(type, coords, colors, gState, matrix);\n  }\n\n  // see putPattern() for information how they are realized\n  this.type = type === \"axial\" ? 2 : 3;\n  this.coords = coords;\n  this.colors = colors;\n\n  Pattern.call(this, gState, matrix);\n}\n\nfunction TilingPattern(boundingBox, xStep, yStep, gState, matrix) {\n  if (!(this instanceof TilingPattern)) {\n    return new TilingPattern(boundingBox, xStep, yStep, gState, matrix);\n  }\n\n  this.boundingBox = boundingBox;\n  this.xStep = xStep;\n  this.yStep = yStep;\n\n  this.stream = \"\"; // set by endTilingPattern();\n\n  this.cloneIndex = 0;\n\n  Pattern.call(this, gState, matrix);\n}\n\n/**\n * Creates new jsPDF document object instance.\n * @name jsPDF\n * @class\n * @param {Object} [options] - Collection of settings initializing the jsPDF-instance\n * @param {string} [options.orientation=portrait] - Orientation of the first page. Possible values are \"portrait\" or \"landscape\" (or shortcuts \"p\" or \"l\").<br />\n * @param {string} [options.unit=mm] Measurement unit (base unit) to be used when coordinates are specified.<br />\n * Possible values are \"pt\" (points), \"mm\", \"cm\", \"in\", \"px\", \"pc\", \"em\" or \"ex\". Note that in order to get the correct scaling for \"px\"\n * units, you need to enable the hotfix \"px_scaling\" by setting options.hotfixes = [\"px_scaling\"].\n * @param {string/Array} [options.format=a4] The format of the first page. Can be:<ul><li>a0 - a10</li><li>b0 - b10</li><li>c0 - c10</li><li>dl</li><li>letter</li><li>government-letter</li><li>legal</li><li>junior-legal</li><li>ledger</li><li>tabloid</li><li>credit-card</li></ul><br />\n * Default is \"a4\". If you want to use your own format just pass instead of one of the above predefined formats the size as an number-array, e.g. [595.28, 841.89]\n * @param {boolean} [options.putOnlyUsedFonts=false] Only put fonts into the PDF, which were used.\n * @param {boolean} [options.compress=false] Compress the generated PDF.\n * @param {number} [options.precision=16] Precision of the element-positions.\n * @param {number} [options.userUnit=1.0] Not to be confused with the base unit. Please inform yourself before you use it.\n * @param {string[]} [options.hotfixes] An array of strings to enable hotfixes such as correct pixel scaling.\n * @param {Object} [options.encryption]\n * @param {string} [options.encryption.userPassword] Password for the user bound by the given permissions list.\n * @param {string} [options.encryption.ownerPassword] Both userPassword and ownerPassword should be set for proper authentication.\n * @param {string[]} [options.encryption.userPermissions] Array of permissions \"print\", \"modify\", \"copy\", \"annot-forms\", accessible by the user.\n * @param {number|\"smart\"} [options.floatPrecision=16]\n * @returns {jsPDF} jsPDF-instance\n * @description\n * ```\n * {\n *  orientation: 'p',\n *  unit: 'mm',\n *  format: 'a4',\n *  putOnlyUsedFonts:true,\n *  floatPrecision: 16 // or \"smart\", default is 16\n * }\n * ```\n *\n * @constructor\n */\nfunction jsPDF(options) {\n  var orientation = typeof arguments[0] === \"string\" ? arguments[0] : \"p\";\n  var unit = arguments[1];\n  var format = arguments[2];\n  var compressPdf = arguments[3];\n  var filters = [];\n  var userUnit = 1.0;\n  var precision;\n  var floatPrecision = 16;\n  var defaultPathOperation = \"S\";\n  var encryptionOptions = null;\n\n  options = options || {};\n\n  if (typeof options === \"object\") {\n    orientation = options.orientation;\n    unit = options.unit || unit;\n    format = options.format || format;\n    compressPdf = options.compress || options.compressPdf || compressPdf;\n    encryptionOptions = options.encryption || null;\n    if (encryptionOptions !== null) {\n      encryptionOptions.userPassword = encryptionOptions.userPassword || \"\";\n      encryptionOptions.ownerPassword = encryptionOptions.ownerPassword || \"\";\n      encryptionOptions.userPermissions =\n        encryptionOptions.userPermissions || [];\n    }\n    userUnit =\n      typeof options.userUnit === \"number\" ? Math.abs(options.userUnit) : 1.0;\n    if (typeof options.precision !== \"undefined\") {\n      precision = options.precision;\n    }\n    if (typeof options.floatPrecision !== \"undefined\") {\n      floatPrecision = options.floatPrecision;\n    }\n    defaultPathOperation = options.defaultPathOperation || \"S\";\n  }\n\n  filters =\n    options.filters || (compressPdf === true ? [\"FlateEncode\"] : filters);\n\n  unit = unit || \"mm\";\n  orientation = (\"\" + (orientation || \"P\")).toLowerCase();\n  var putOnlyUsedFonts = options.putOnlyUsedFonts || false;\n  var usedFonts = {};\n\n  var API = {\n    internal: {},\n    __private__: {}\n  };\n\n  API.__private__.PubSub = PubSub;\n\n  var pdfVersion = \"1.3\";\n  var getPdfVersion = (API.__private__.getPdfVersion = function() {\n    return pdfVersion;\n  });\n\n  API.__private__.setPdfVersion = function(value) {\n    pdfVersion = value;\n  };\n\n  // Size in pt of various paper formats\n  var pageFormats = {\n    a0: [2383.94, 3370.39],\n    a1: [1683.78, 2383.94],\n    a2: [1190.55, 1683.78],\n    a3: [841.89, 1190.55],\n    a4: [595.28, 841.89],\n    a5: [419.53, 595.28],\n    a6: [297.64, 419.53],\n    a7: [209.76, 297.64],\n    a8: [147.4, 209.76],\n    a9: [104.88, 147.4],\n    a10: [73.7, 104.88],\n    b0: [2834.65, 4008.19],\n    b1: [2004.09, 2834.65],\n    b2: [1417.32, 2004.09],\n    b3: [1000.63, 1417.32],\n    b4: [708.66, 1000.63],\n    b5: [498.9, 708.66],\n    b6: [354.33, 498.9],\n    b7: [249.45, 354.33],\n    b8: [175.75, 249.45],\n    b9: [124.72, 175.75],\n    b10: [87.87, 124.72],\n    c0: [2599.37, 3676.54],\n    c1: [1836.85, 2599.37],\n    c2: [1298.27, 1836.85],\n    c3: [918.43, 1298.27],\n    c4: [649.13, 918.43],\n    c5: [459.21, 649.13],\n    c6: [323.15, 459.21],\n    c7: [229.61, 323.15],\n    c8: [161.57, 229.61],\n    c9: [113.39, 161.57],\n    c10: [79.37, 113.39],\n    dl: [311.81, 623.62],\n    letter: [612, 792],\n    \"government-letter\": [576, 756],\n    legal: [612, 1008],\n    \"junior-legal\": [576, 360],\n    ledger: [1224, 792],\n    tabloid: [792, 1224],\n    \"credit-card\": [153, 243]\n  };\n\n  API.__private__.getPageFormats = function() {\n    return pageFormats;\n  };\n\n  var getPageFormat = (API.__private__.getPageFormat = function(value) {\n    return pageFormats[value];\n  });\n\n  format = format || \"a4\";\n\n  var ApiMode = {\n    COMPAT: \"compat\",\n    ADVANCED: \"advanced\"\n  };\n  var apiMode = ApiMode.COMPAT;\n\n  function advancedAPI() {\n    // prepend global change of basis matrix\n    // (Now, instead of converting every coordinate to the pdf coordinate system, we apply a matrix\n    // that does this job for us (however, texts, images and similar objects must be drawn bottom up))\n    this.saveGraphicsState();\n    out(\n      new Matrix(\n        scaleFactor,\n        0,\n        0,\n        -scaleFactor,\n        0,\n        getPageHeight() * scaleFactor\n      ).toString() + \" cm\"\n    );\n    this.setFontSize(this.getFontSize() / scaleFactor);\n\n    // The default in MrRio's implementation is \"S\" (stroke), whereas the default in the yWorks implementation\n    // was \"n\" (none). Although this has nothing to do with transforms, we should use the API switch here.\n    defaultPathOperation = \"n\";\n\n    apiMode = ApiMode.ADVANCED;\n  }\n\n  function compatAPI() {\n    this.restoreGraphicsState();\n    defaultPathOperation = \"S\";\n    apiMode = ApiMode.COMPAT;\n  }\n\n  /**\n   * @function combineFontStyleAndFontWeight\n   * @param {string} fontStyle Fontstyle or variant. Example: \"italic\".\n   * @param {number | string} fontWeight Weight of the Font. Example: \"normal\" | 400\n   * @returns {string}\n   * @private\n   */\n  var combineFontStyleAndFontWeight = (API.__private__.combineFontStyleAndFontWeight = function(\n    fontStyle,\n    fontWeight\n  ) {\n    if (\n      (fontStyle == \"bold\" && fontWeight == \"normal\") ||\n      (fontStyle == \"bold\" && fontWeight == 400) ||\n      (fontStyle == \"normal\" && fontWeight == \"italic\") ||\n      (fontStyle == \"bold\" && fontWeight == \"italic\")\n    ) {\n      throw new Error(\"Invalid Combination of fontweight and fontstyle\");\n    }\n    if (fontWeight) {\n      fontStyle =\n        fontWeight == 400 || fontWeight === \"normal\"\n          ? fontStyle === \"italic\"\n            ? \"italic\"\n            : \"normal\"\n          : (fontWeight == 700 || fontWeight === \"bold\") &&\n            fontStyle === \"normal\"\n          ? \"bold\"\n          : (fontWeight == 700 ? \"bold\" : fontWeight) + \"\" + fontStyle;\n    }\n    return fontStyle;\n  });\n\n  /**\n   * @callback ApiSwitchBody\n   * @param {jsPDF} pdf\n   */\n\n  /**\n   * For compatibility reasons jsPDF offers two API modes which differ in the way they convert between the the usual\n   * screen coordinates and the PDF coordinate system.\n   *   - \"compat\": Offers full compatibility across all plugins but does not allow arbitrary transforms\n   *   - \"advanced\": Allows arbitrary transforms and more advanced features like pattern fills. Some plugins might\n   *     not support this mode, though.\n   * Initial mode is \"compat\".\n   *\n   * You can either provide a callback to the body argument, which means that jsPDF will automatically switch back to\n   * the original API mode afterwards; or you can omit the callback and switch back manually using {@link compatAPI}.\n   *\n   * Note, that the calls to {@link saveGraphicsState} and {@link restoreGraphicsState} need to be balanced within the\n   * callback or between calls of this method and its counterpart {@link compatAPI}. Calls to {@link beginFormObject}\n   * or {@link beginTilingPattern} need to be closed by their counterparts before switching back to \"compat\" API mode.\n   *\n   * @param {ApiSwitchBody=} body When provided, this callback will be called after the API mode has been switched.\n   * The API mode will be switched back automatically afterwards.\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name advancedAPI\n   */\n  API.advancedAPI = function(body) {\n    var doSwitch = apiMode === ApiMode.COMPAT;\n\n    if (doSwitch) {\n      advancedAPI.call(this);\n    }\n\n    if (typeof body !== \"function\") {\n      return this;\n    }\n\n    body(this);\n\n    if (doSwitch) {\n      compatAPI.call(this);\n    }\n\n    return this;\n  };\n\n  /**\n   * Switches to \"compat\" API mode. See {@link advancedAPI} for more details.\n   *\n   * @param {ApiSwitchBody=} body When provided, this callback will be called after the API mode has been switched.\n   * The API mode will be switched back automatically afterwards.\n   * @return {jsPDF}\n   * @memberof jsPDF#\n   * @name compatApi\n   */\n  API.compatAPI = function(body) {\n    var doSwitch = apiMode === ApiMode.ADVANCED;\n\n    if (doSwitch) {\n      compatAPI.call(this);\n    }\n\n    if (typeof body !== \"function\") {\n      return this;\n    }\n\n    body(this);\n\n    if (doSwitch) {\n      advancedAPI.call(this);\n    }\n\n    return this;\n  };\n\n  /**\n   * @return {boolean} True iff the current API mode is \"advanced\". See {@link advancedAPI}.\n   * @memberof jsPDF#\n   * @name isAdvancedAPI\n   */\n  API.isAdvancedAPI = function() {\n    return apiMode === ApiMode.ADVANCED;\n  };\n\n  var advancedApiModeTrap = function(methodName) {\n    if (apiMode !== ApiMode.ADVANCED) {\n      throw new Error(\n        methodName +\n          \" is only available in 'advanced' API mode. \" +\n          \"You need to call advancedAPI() first.\"\n      );\n    }\n  };\n\n  var roundToPrecision = (API.roundToPrecision = API.__private__.roundToPrecision = function(\n    number,\n    parmPrecision\n  ) {\n    var tmpPrecision = precision || parmPrecision;\n    if (isNaN(number) || isNaN(tmpPrecision)) {\n      throw new Error(\"Invalid argument passed to jsPDF.roundToPrecision\");\n    }\n    return number.toFixed(tmpPrecision).replace(/0+$/, \"\");\n  });\n\n  // high precision float\n  var hpf;\n  if (typeof floatPrecision === \"number\") {\n    hpf = API.hpf = API.__private__.hpf = function(number) {\n      if (isNaN(number)) {\n        throw new Error(\"Invalid argument passed to jsPDF.hpf\");\n      }\n      return roundToPrecision(number, floatPrecision);\n    };\n  } else if (floatPrecision === \"smart\") {\n    hpf = API.hpf = API.__private__.hpf = function(number) {\n      if (isNaN(number)) {\n        throw new Error(\"Invalid argument passed to jsPDF.hpf\");\n      }\n      if (number > -1 && number < 1) {\n        return roundToPrecision(number, 16);\n      } else {\n        return roundToPrecision(number, 5);\n      }\n    };\n  } else {\n    hpf = API.hpf = API.__private__.hpf = function(number) {\n      if (isNaN(number)) {\n        throw new Error(\"Invalid argument passed to jsPDF.hpf\");\n      }\n      return roundToPrecision(number, 16);\n    };\n  }\n  var f2 = (API.f2 = API.__private__.f2 = function(number) {\n    if (isNaN(number)) {\n      throw new Error(\"Invalid argument passed to jsPDF.f2\");\n    }\n    return roundToPrecision(number, 2);\n  });\n\n  var f3 = (API.__private__.f3 = function(number) {\n    if (isNaN(number)) {\n      throw new Error(\"Invalid argument passed to jsPDF.f3\");\n    }\n    return roundToPrecision(number, 3);\n  });\n\n  var scale = (API.scale = API.__private__.scale = function(number) {\n    if (isNaN(number)) {\n      throw new Error(\"Invalid argument passed to jsPDF.scale\");\n    }\n    if (apiMode === ApiMode.COMPAT) {\n      return number * scaleFactor;\n    } else if (apiMode === ApiMode.ADVANCED) {\n      return number;\n    }\n  });\n\n  var transformY = function(y) {\n    if (apiMode === ApiMode.COMPAT) {\n      return getPageHeight() - y;\n    } else if (apiMode === ApiMode.ADVANCED) {\n      return y;\n    }\n  };\n\n  var transformScaleY = function(y) {\n    return scale(transformY(y));\n  };\n\n  /**\n   * @name setPrecision\n   * @memberof jsPDF#\n   * @function\n   * @instance\n   * @param {string} precision\n   * @returns {jsPDF}\n   */\n  API.__private__.setPrecision = API.setPrecision = function(value) {\n    if (typeof parseInt(value, 10) === \"number\") {\n      precision = parseInt(value, 10);\n    }\n  };\n\n  var fileId = \"00000000000000000000000000000000\";\n\n  var getFileId = (API.__private__.getFileId = function() {\n    return fileId;\n  });\n\n  var setFileId = (API.__private__.setFileId = function(value) {\n    if (typeof value !== \"undefined\" && /^[a-fA-F0-9]{32}$/.test(value)) {\n      fileId = value.toUpperCase();\n    } else {\n      fileId = fileId\n        .split(\"\")\n        .map(function() {\n          return \"ABCDEF0123456789\".charAt(Math.floor(Math.random() * 16));\n        })\n        .join(\"\");\n    }\n\n    if (encryptionOptions !== null) {\n      encryption = new PDFSecurity(\n        encryptionOptions.userPermissions,\n        encryptionOptions.userPassword,\n        encryptionOptions.ownerPassword,\n        fileId\n      );\n    }\n    return fileId;\n  });\n\n  /**\n   * @name setFileId\n   * @memberof jsPDF#\n   * @function\n   * @instance\n   * @param {string} value GUID.\n   * @returns {jsPDF}\n   */\n  API.setFileId = function(value) {\n    setFileId(value);\n    return this;\n  };\n\n  /**\n   * @name getFileId\n   * @memberof jsPDF#\n   * @function\n   * @instance\n   *\n   * @returns {string} GUID.\n   */\n  API.getFileId = function() {\n    return getFileId();\n  };\n\n  var creationDate;\n\n  var convertDateToPDFDate = (API.__private__.convertDateToPDFDate = function(\n    parmDate\n  ) {\n    var result = \"\";\n    var tzoffset = parmDate.getTimezoneOffset(),\n      tzsign = tzoffset < 0 ? \"+\" : \"-\",\n      tzhour = Math.floor(Math.abs(tzoffset / 60)),\n      tzmin = Math.abs(tzoffset % 60),\n      timeZoneString = [tzsign, padd2(tzhour), \"'\", padd2(tzmin), \"'\"].join(\"\");\n\n    result = [\n      \"D:\",\n      parmDate.getFullYear(),\n      padd2(parmDate.getMonth() + 1),\n      padd2(parmDate.getDate()),\n      padd2(parmDate.getHours()),\n      padd2(parmDate.getMinutes()),\n      padd2(parmDate.getSeconds()),\n      timeZoneString\n    ].join(\"\");\n    return result;\n  });\n\n  var convertPDFDateToDate = (API.__private__.convertPDFDateToDate = function(\n    parmPDFDate\n  ) {\n    var year = parseInt(parmPDFDate.substr(2, 4), 10);\n    var month = parseInt(parmPDFDate.substr(6, 2), 10) - 1;\n    var date = parseInt(parmPDFDate.substr(8, 2), 10);\n    var hour = parseInt(parmPDFDate.substr(10, 2), 10);\n    var minutes = parseInt(parmPDFDate.substr(12, 2), 10);\n    var seconds = parseInt(parmPDFDate.substr(14, 2), 10);\n    // var timeZoneHour = parseInt(parmPDFDate.substr(16, 2), 10);\n    // var timeZoneMinutes = parseInt(parmPDFDate.substr(20, 2), 10);\n\n    var resultingDate = new Date(year, month, date, hour, minutes, seconds, 0);\n    return resultingDate;\n  });\n\n  var setCreationDate = (API.__private__.setCreationDate = function(date) {\n    var tmpCreationDateString;\n    var regexPDFCreationDate = /^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\\+0[0-9]|\\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/;\n    if (typeof date === \"undefined\") {\n      date = new Date();\n    }\n\n    if (date instanceof Date) {\n      tmpCreationDateString = convertDateToPDFDate(date);\n    } else if (regexPDFCreationDate.test(date)) {\n      tmpCreationDateString = date;\n    } else {\n      throw new Error(\"Invalid argument passed to jsPDF.setCreationDate\");\n    }\n    creationDate = tmpCreationDateString;\n    return creationDate;\n  });\n\n  var getCreationDate = (API.__private__.getCreationDate = function(type) {\n    var result = creationDate;\n    if (type === \"jsDate\") {\n      result = convertPDFDateToDate(creationDate);\n    }\n    return result;\n  });\n\n  /**\n   * @name setCreationDate\n   * @memberof jsPDF#\n   * @function\n   * @instance\n   * @param {Object} date\n   * @returns {jsPDF}\n   */\n  API.setCreationDate = function(date) {\n    setCreationDate(date);\n    return this;\n  };\n\n  /**\n   * @name getCreationDate\n   * @memberof jsPDF#\n   * @function\n   * @instance\n   * @param {Object} type\n   * @returns {Object}\n   */\n  API.getCreationDate = function(type) {\n    return getCreationDate(type);\n  };\n\n  var padd2 = (API.__private__.padd2 = function(number) {\n    return (\"0\" + parseInt(number)).slice(-2);\n  });\n\n  var padd2Hex = (API.__private__.padd2Hex = function(hexString) {\n    hexString = hexString.toString();\n    return (\"00\" + hexString).substr(hexString.length);\n  });\n\n  var objectNumber = 0; // 'n' Current object number\n  var offsets = []; // List of offsets. Activated and reset by buildDocument(). Pupulated by various calls buildDocument makes.\n  var content = [];\n  var contentLength = 0;\n  var additionalObjects = [];\n\n  var pages = [];\n  var currentPage;\n  var hasCustomDestination = false;\n  var outputDestination = content;\n\n  var resetDocument = function() {\n    //reset fields relevant for objectNumber generation and xref.\n    objectNumber = 0;\n    contentLength = 0;\n    content = [];\n    offsets = [];\n    additionalObjects = [];\n\n    rootDictionaryObjId = newObjectDeferred();\n    resourceDictionaryObjId = newObjectDeferred();\n  };\n\n  API.__private__.setCustomOutputDestination = function(destination) {\n    hasCustomDestination = true;\n    outputDestination = destination;\n  };\n  var setOutputDestination = function(destination) {\n    if (!hasCustomDestination) {\n      outputDestination = destination;\n    }\n  };\n\n  API.__private__.resetCustomOutputDestination = function() {\n    hasCustomDestination = false;\n    outputDestination = content;\n  };\n\n  var out = (API.__private__.out = function(string) {\n    string = string.toString();\n    contentLength += string.length + 1;\n    outputDestination.push(string);\n\n    return outputDestination;\n  });\n\n  var write = (API.__private__.write = function(value) {\n    return out(\n      arguments.length === 1\n        ? value.toString()\n        : Array.prototype.join.call(arguments, \" \")\n    );\n  });\n\n  var getArrayBuffer = (API.__private__.getArrayBuffer = function(data) {\n    var len = data.length,\n      ab = new ArrayBuffer(len),\n      u8 = new Uint8Array(ab);\n\n    while (len--) u8[len] = data.charCodeAt(len);\n    return ab;\n  });\n\n  var standardFonts = [\n    [\"Helvetica\", \"helvetica\", \"normal\", \"WinAnsiEncoding\"],\n    [\"Helvetica-Bold\", \"helvetica\", \"bold\", \"WinAnsiEncoding\"],\n    [\"Helvetica-Oblique\", \"helvetica\", \"italic\", \"WinAnsiEncoding\"],\n    [\"Helvetica-BoldOblique\", \"helvetica\", \"bolditalic\", \"WinAnsiEncoding\"],\n    [\"Courier\", \"courier\", \"normal\", \"WinAnsiEncoding\"],\n    [\"Courier-Bold\", \"courier\", \"bold\", \"WinAnsiEncoding\"],\n    [\"Courier-Oblique\", \"courier\", \"italic\", \"WinAnsiEncoding\"],\n    [\"Courier-BoldOblique\", \"courier\", \"bolditalic\", \"WinAnsiEncoding\"],\n    [\"Times-Roman\", \"times\", \"normal\", \"WinAnsiEncoding\"],\n    [\"Times-Bold\", \"times\", \"bold\", \"WinAnsiEncoding\"],\n    [\"Times-Italic\", \"times\", \"italic\", \"WinAnsiEncoding\"],\n    [\"Times-BoldItalic\", \"times\", \"bolditalic\", \"WinAnsiEncoding\"],\n    [\"ZapfDingbats\", \"zapfdingbats\", \"normal\", null],\n    [\"Symbol\", \"symbol\", \"normal\", null]\n  ];\n\n  API.__private__.getStandardFonts = function() {\n    return standardFonts;\n  };\n\n  var activeFontSize = options.fontSize || 16;\n\n  /**\n   * Sets font size for upcoming text elements.\n   *\n   * @param {number} size Font size in points.\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setFontSize\n   */\n  API.__private__.setFontSize = API.setFontSize = function(size) {\n    if (apiMode === ApiMode.ADVANCED) {\n      activeFontSize = size / scaleFactor;\n    } else {\n      activeFontSize = size;\n    }\n    return this;\n  };\n\n  /**\n   * Gets the fontsize for upcoming text elements.\n   *\n   * @function\n   * @instance\n   * @returns {number}\n   * @memberof jsPDF#\n   * @name getFontSize\n   */\n  var getFontSize = (API.__private__.getFontSize = API.getFontSize = function() {\n    if (apiMode === ApiMode.COMPAT) {\n      return activeFontSize;\n    } else {\n      return activeFontSize * scaleFactor;\n    }\n  });\n\n  var R2L = options.R2L || false;\n\n  /**\n   * Set value of R2L functionality.\n   *\n   * @param {boolean} value\n   * @function\n   * @instance\n   * @returns {jsPDF} jsPDF-instance\n   * @memberof jsPDF#\n   * @name setR2L\n   */\n  API.__private__.setR2L = API.setR2L = function(value) {\n    R2L = value;\n    return this;\n  };\n\n  /**\n   * Get value of R2L functionality.\n   *\n   * @function\n   * @instance\n   * @returns {boolean} jsPDF-instance\n   * @memberof jsPDF#\n   * @name getR2L\n   */\n  API.__private__.getR2L = API.getR2L = function() {\n    return R2L;\n  };\n\n  var zoomMode; // default: 1;\n\n  var setZoomMode = (API.__private__.setZoomMode = function(zoom) {\n    var validZoomModes = [\n      undefined,\n      null,\n      \"fullwidth\",\n      \"fullheight\",\n      \"fullpage\",\n      \"original\"\n    ];\n\n    if (/^(?:\\d+\\.\\d*|\\d*\\.\\d+|\\d+)%$/.test(zoom)) {\n      zoomMode = zoom;\n    } else if (!isNaN(zoom)) {\n      zoomMode = parseInt(zoom, 10);\n    } else if (validZoomModes.indexOf(zoom) !== -1) {\n      zoomMode = zoom;\n    } else {\n      throw new Error(\n        'zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. \"' +\n          zoom +\n          '\" is not recognized.'\n      );\n    }\n  });\n\n  API.__private__.getZoomMode = function() {\n    return zoomMode;\n  };\n\n  var pageMode; // default: 'UseOutlines';\n  var setPageMode = (API.__private__.setPageMode = function(pmode) {\n    var validPageModes = [\n      undefined,\n      null,\n      \"UseNone\",\n      \"UseOutlines\",\n      \"UseThumbs\",\n      \"FullScreen\"\n    ];\n\n    if (validPageModes.indexOf(pmode) == -1) {\n      throw new Error(\n        'Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. \"' +\n          pmode +\n          '\" is not recognized.'\n      );\n    }\n    pageMode = pmode;\n  });\n\n  API.__private__.getPageMode = function() {\n    return pageMode;\n  };\n\n  var layoutMode; // default: 'continuous';\n  var setLayoutMode = (API.__private__.setLayoutMode = function(layout) {\n    var validLayoutModes = [\n      undefined,\n      null,\n      \"continuous\",\n      \"single\",\n      \"twoleft\",\n      \"tworight\",\n      \"two\"\n    ];\n\n    if (validLayoutModes.indexOf(layout) == -1) {\n      throw new Error(\n        'Layout mode must be one of continuous, single, twoleft, tworight. \"' +\n          layout +\n          '\" is not recognized.'\n      );\n    }\n    layoutMode = layout;\n  });\n\n  API.__private__.getLayoutMode = function() {\n    return layoutMode;\n  };\n\n  /**\n   * Set the display mode options of the page like zoom and layout.\n   *\n   * @name setDisplayMode\n   * @memberof jsPDF#\n   * @function\n   * @instance\n   * @param {integer|String} zoom   You can pass an integer or percentage as\n   * a string. 2 will scale the document up 2x, '200%' will scale up by the\n   * same amount. You can also set it to 'fullwidth', 'fullheight',\n   * 'fullpage', or 'original'.\n   *\n   * Only certain PDF readers support this, such as Adobe Acrobat.\n   *\n   * @param {string} layout Layout mode can be: 'continuous' - this is the\n   * default continuous scroll. 'single' - the single page mode only shows one\n   * page at a time. 'twoleft' - two column left mode, first page starts on\n   * the left, and 'tworight' - pages are laid out in two columns, with the\n   * first page on the right. This would be used for books.\n   * @param {string} pmode 'UseOutlines' - it shows the\n   * outline of the document on the left. 'UseThumbs' - shows thumbnails along\n   * the left. 'FullScreen' - prompts the user to enter fullscreen mode.\n   *\n   * @returns {jsPDF}\n   */\n  API.__private__.setDisplayMode = API.setDisplayMode = function(\n    zoom,\n    layout,\n    pmode\n  ) {\n    setZoomMode(zoom);\n    setLayoutMode(layout);\n    setPageMode(pmode);\n    return this;\n  };\n\n  var documentProperties = {\n    title: \"\",\n    subject: \"\",\n    author: \"\",\n    keywords: \"\",\n    creator: \"\"\n  };\n\n  API.__private__.getDocumentProperty = function(key) {\n    if (Object.keys(documentProperties).indexOf(key) === -1) {\n      throw new Error(\"Invalid argument passed to jsPDF.getDocumentProperty\");\n    }\n    return documentProperties[key];\n  };\n\n  API.__private__.getDocumentProperties = function() {\n    return documentProperties;\n  };\n\n  /**\n   * Adds a properties to the PDF document.\n   *\n   * @param {Object} A property_name-to-property_value object structure.\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setDocumentProperties\n   */\n  API.__private__.setDocumentProperties = API.setProperties = API.setDocumentProperties = function(\n    properties\n  ) {\n    // copying only those properties we can render.\n    for (var property in documentProperties) {\n      if (documentProperties.hasOwnProperty(property) && properties[property]) {\n        documentProperties[property] = properties[property];\n      }\n    }\n    return this;\n  };\n\n  API.__private__.setDocumentProperty = function(key, value) {\n    if (Object.keys(documentProperties).indexOf(key) === -1) {\n      throw new Error(\"Invalid arguments passed to jsPDF.setDocumentProperty\");\n    }\n    return (documentProperties[key] = value);\n  };\n\n  var fonts = {}; // collection of font objects, where key is fontKey - a dynamically created label for a given font.\n  var fontmap = {}; // mapping structure fontName > fontStyle > font key - performance layer. See addFont()\n  var activeFontKey; // will be string representing the KEY of the font as combination of fontName + fontStyle\n  var fontStateStack = []; //\n  var patterns = {}; // collection of pattern objects\n  var patternMap = {}; // see fonts\n  var gStates = {}; // collection of graphic state objects\n  var gStatesMap = {}; // see fonts\n  var activeGState = null;\n  var scaleFactor; // Scale factor\n  var page = 0;\n  var pagesContext = [];\n  var events = new PubSub(API);\n  var hotfixes = options.hotfixes || [];\n\n  var renderTargets = {};\n  var renderTargetMap = {};\n  var renderTargetStack = [];\n  var pageX;\n  var pageY;\n  var pageMatrix; // only used for FormObjects\n\n  /**\n   * A matrix object for 2D homogenous transformations: <br>\n   * | a b 0 | <br>\n   * | c d 0 | <br>\n   * | e f 1 | <br>\n   * pdf multiplies matrices righthand: v' = v x m1 x m2 x ...\n   *\n   * @class\n   * @name Matrix\n   * @param {number} sx\n   * @param {number} shy\n   * @param {number} shx\n   * @param {number} sy\n   * @param {number} tx\n   * @param {number} ty\n   * @constructor\n   */\n  var Matrix = function(sx, shy, shx, sy, tx, ty) {\n    if (!(this instanceof Matrix)) {\n      return new Matrix(sx, shy, shx, sy, tx, ty);\n    }\n\n    if (isNaN(sx)) sx = 1;\n    if (isNaN(shy)) shy = 0;\n    if (isNaN(shx)) shx = 0;\n    if (isNaN(sy)) sy = 1;\n    if (isNaN(tx)) tx = 0;\n    if (isNaN(ty)) ty = 0;\n\n    this._matrix = [sx, shy, shx, sy, tx, ty];\n  };\n\n  /**\n   * @name sx\n   * @memberof Matrix#\n   */\n  Object.defineProperty(Matrix.prototype, \"sx\", {\n    get: function() {\n      return this._matrix[0];\n    },\n    set: function(value) {\n      this._matrix[0] = value;\n    }\n  });\n\n  /**\n   * @name shy\n   * @memberof Matrix#\n   */\n  Object.defineProperty(Matrix.prototype, \"shy\", {\n    get: function() {\n      return this._matrix[1];\n    },\n    set: function(value) {\n      this._matrix[1] = value;\n    }\n  });\n\n  /**\n   * @name shx\n   * @memberof Matrix#\n   */\n  Object.defineProperty(Matrix.prototype, \"shx\", {\n    get: function() {\n      return this._matrix[2];\n    },\n    set: function(value) {\n      this._matrix[2] = value;\n    }\n  });\n\n  /**\n   * @name sy\n   * @memberof Matrix#\n   */\n  Object.defineProperty(Matrix.prototype, \"sy\", {\n    get: function() {\n      return this._matrix[3];\n    },\n    set: function(value) {\n      this._matrix[3] = value;\n    }\n  });\n\n  /**\n   * @name tx\n   * @memberof Matrix#\n   */\n  Object.defineProperty(Matrix.prototype, \"tx\", {\n    get: function() {\n      return this._matrix[4];\n    },\n    set: function(value) {\n      this._matrix[4] = value;\n    }\n  });\n\n  /**\n   * @name ty\n   * @memberof Matrix#\n   */\n  Object.defineProperty(Matrix.prototype, \"ty\", {\n    get: function() {\n      return this._matrix[5];\n    },\n    set: function(value) {\n      this._matrix[5] = value;\n    }\n  });\n\n  Object.defineProperty(Matrix.prototype, \"a\", {\n    get: function() {\n      return this._matrix[0];\n    },\n    set: function(value) {\n      this._matrix[0] = value;\n    }\n  });\n\n  Object.defineProperty(Matrix.prototype, \"b\", {\n    get: function() {\n      return this._matrix[1];\n    },\n    set: function(value) {\n      this._matrix[1] = value;\n    }\n  });\n\n  Object.defineProperty(Matrix.prototype, \"c\", {\n    get: function() {\n      return this._matrix[2];\n    },\n    set: function(value) {\n      this._matrix[2] = value;\n    }\n  });\n\n  Object.defineProperty(Matrix.prototype, \"d\", {\n    get: function() {\n      return this._matrix[3];\n    },\n    set: function(value) {\n      this._matrix[3] = value;\n    }\n  });\n\n  Object.defineProperty(Matrix.prototype, \"e\", {\n    get: function() {\n      return this._matrix[4];\n    },\n    set: function(value) {\n      this._matrix[4] = value;\n    }\n  });\n\n  Object.defineProperty(Matrix.prototype, \"f\", {\n    get: function() {\n      return this._matrix[5];\n    },\n    set: function(value) {\n      this._matrix[5] = value;\n    }\n  });\n\n  /**\n   * @name rotation\n   * @memberof Matrix#\n   */\n  Object.defineProperty(Matrix.prototype, \"rotation\", {\n    get: function() {\n      return Math.atan2(this.shx, this.sx);\n    }\n  });\n\n  /**\n   * @name scaleX\n   * @memberof Matrix#\n   */\n  Object.defineProperty(Matrix.prototype, \"scaleX\", {\n    get: function() {\n      return this.decompose().scale.sx;\n    }\n  });\n\n  /**\n   * @name scaleY\n   * @memberof Matrix#\n   */\n  Object.defineProperty(Matrix.prototype, \"scaleY\", {\n    get: function() {\n      return this.decompose().scale.sy;\n    }\n  });\n\n  /**\n   * @name isIdentity\n   * @memberof Matrix#\n   */\n  Object.defineProperty(Matrix.prototype, \"isIdentity\", {\n    get: function() {\n      if (this.sx !== 1) {\n        return false;\n      }\n      if (this.shy !== 0) {\n        return false;\n      }\n      if (this.shx !== 0) {\n        return false;\n      }\n      if (this.sy !== 1) {\n        return false;\n      }\n      if (this.tx !== 0) {\n        return false;\n      }\n      if (this.ty !== 0) {\n        return false;\n      }\n      return true;\n    }\n  });\n\n  /**\n   * Join the Matrix Values to a String\n   *\n   * @function join\n   * @param {string} separator Specifies a string to separate each pair of adjacent elements of the array. The separator is converted to a string if necessary. If omitted, the array elements are separated with a comma (\",\"). If separator is an empty string, all elements are joined without any characters in between them.\n   * @returns {string} A string with all array elements joined.\n   * @memberof Matrix#\n   */\n  Matrix.prototype.join = function(separator) {\n    return [this.sx, this.shy, this.shx, this.sy, this.tx, this.ty]\n      .map(hpf)\n      .join(separator);\n  };\n\n  /**\n   * Multiply the matrix with given Matrix\n   *\n   * @function multiply\n   * @param matrix\n   * @returns {Matrix}\n   * @memberof Matrix#\n   */\n  Matrix.prototype.multiply = function(matrix) {\n    var sx = matrix.sx * this.sx + matrix.shy * this.shx;\n    var shy = matrix.sx * this.shy + matrix.shy * this.sy;\n    var shx = matrix.shx * this.sx + matrix.sy * this.shx;\n    var sy = matrix.shx * this.shy + matrix.sy * this.sy;\n    var tx = matrix.tx * this.sx + matrix.ty * this.shx + this.tx;\n    var ty = matrix.tx * this.shy + matrix.ty * this.sy + this.ty;\n\n    return new Matrix(sx, shy, shx, sy, tx, ty);\n  };\n\n  /**\n   * @function decompose\n   * @memberof Matrix#\n   */\n  Matrix.prototype.decompose = function() {\n    var a = this.sx;\n    var b = this.shy;\n    var c = this.shx;\n    var d = this.sy;\n    var e = this.tx;\n    var f = this.ty;\n\n    var scaleX = Math.sqrt(a * a + b * b);\n    a /= scaleX;\n    b /= scaleX;\n\n    var shear = a * c + b * d;\n    c -= a * shear;\n    d -= b * shear;\n\n    var scaleY = Math.sqrt(c * c + d * d);\n    c /= scaleY;\n    d /= scaleY;\n    shear /= scaleY;\n\n    if (a * d < b * c) {\n      a = -a;\n      b = -b;\n      shear = -shear;\n      scaleX = -scaleX;\n    }\n\n    return {\n      scale: new Matrix(scaleX, 0, 0, scaleY, 0, 0),\n      translate: new Matrix(1, 0, 0, 1, e, f),\n      rotate: new Matrix(a, b, -b, a, 0, 0),\n      skew: new Matrix(1, 0, shear, 1, 0, 0)\n    };\n  };\n\n  /**\n   * @function toString\n   * @memberof Matrix#\n   */\n  Matrix.prototype.toString = function(parmPrecision) {\n    return this.join(\" \");\n  };\n\n  /**\n   * @function inversed\n   * @memberof Matrix#\n   */\n  Matrix.prototype.inversed = function() {\n    var a = this.sx,\n      b = this.shy,\n      c = this.shx,\n      d = this.sy,\n      e = this.tx,\n      f = this.ty;\n\n    var quot = 1 / (a * d - b * c);\n\n    var aInv = d * quot;\n    var bInv = -b * quot;\n    var cInv = -c * quot;\n    var dInv = a * quot;\n    var eInv = -aInv * e - cInv * f;\n    var fInv = -bInv * e - dInv * f;\n\n    return new Matrix(aInv, bInv, cInv, dInv, eInv, fInv);\n  };\n\n  /**\n   * @function applyToPoint\n   * @memberof Matrix#\n   */\n  Matrix.prototype.applyToPoint = function(pt) {\n    var x = pt.x * this.sx + pt.y * this.shx + this.tx;\n    var y = pt.x * this.shy + pt.y * this.sy + this.ty;\n    return new Point(x, y);\n  };\n\n  /**\n   * @function applyToRectangle\n   * @memberof Matrix#\n   */\n  Matrix.prototype.applyToRectangle = function(rect) {\n    var pt1 = this.applyToPoint(rect);\n    var pt2 = this.applyToPoint(new Point(rect.x + rect.w, rect.y + rect.h));\n    return new Rectangle(pt1.x, pt1.y, pt2.x - pt1.x, pt2.y - pt1.y);\n  };\n\n  /**\n   * Clone the Matrix\n   *\n   * @function clone\n   * @memberof Matrix#\n   * @name clone\n   * @instance\n   */\n  Matrix.prototype.clone = function() {\n    var sx = this.sx;\n    var shy = this.shy;\n    var shx = this.shx;\n    var sy = this.sy;\n    var tx = this.tx;\n    var ty = this.ty;\n\n    return new Matrix(sx, shy, shx, sy, tx, ty);\n  };\n\n  API.Matrix = Matrix;\n\n  /**\n   * Multiplies two matrices. (see {@link Matrix})\n   * @param {Matrix} m1\n   * @param {Matrix} m2\n   * @memberof jsPDF#\n   * @name matrixMult\n   */\n  var matrixMult = (API.matrixMult = function(m1, m2) {\n    return m2.multiply(m1);\n  });\n\n  /**\n   * The identity matrix (equivalent to new Matrix(1, 0, 0, 1, 0, 0)).\n   * @type {Matrix}\n   * @memberof! jsPDF#\n   * @name identityMatrix\n   */\n  var identityMatrix = new Matrix(1, 0, 0, 1, 0, 0);\n  API.unitMatrix = API.identityMatrix = identityMatrix;\n\n  /**\n   * Adds a new pattern for later use.\n   * @param {String} key The key by it can be referenced later. The keys must be unique!\n   * @param {API.Pattern} pattern The pattern\n   */\n  var addPattern = function(key, pattern) {\n    // only add it if it is not already present (the keys provided by the user must be unique!)\n    if (patternMap[key]) return;\n\n    var prefix = pattern instanceof ShadingPattern ? \"Sh\" : \"P\";\n    var patternKey = prefix + (Object.keys(patterns).length + 1).toString(10);\n    pattern.id = patternKey;\n\n    patternMap[key] = patternKey;\n    patterns[patternKey] = pattern;\n\n    events.publish(\"addPattern\", pattern);\n  };\n\n  /**\n   * A pattern describing a shading pattern.\n   *\n   * Only available in \"advanced\" API mode.\n   *\n   * @param {String} type One of \"axial\" or \"radial\"\n   * @param {Array<Number>} coords Either [x1, y1, x2, y2] for \"axial\" type describing the two interpolation points\n   * or [x1, y1, r, x2, y2, r2] for \"radial\" describing inner and the outer circle.\n   * @param {Array<Object>} colors An array of objects with the fields \"offset\" and \"color\". \"offset\" describes\n   * the offset in parameter space [0, 1]. \"color\" is an array of length 3 describing RGB values in [0, 255].\n   * @param {GState=} gState An additional graphics state that gets applied to the pattern (optional).\n   * @param {Matrix=} matrix A matrix that describes the transformation between the pattern coordinate system\n   * and the use coordinate system (optional).\n   * @constructor\n   * @extends API.Pattern\n   */\n  API.ShadingPattern = ShadingPattern;\n\n  /**\n   * A PDF Tiling pattern.\n   *\n   * Only available in \"advanced\" API mode.\n   *\n   * @param {Array.<Number>} boundingBox The bounding box at which one pattern cell gets clipped.\n   * @param {Number} xStep Horizontal spacing between pattern cells.\n   * @param {Number} yStep Vertical spacing between pattern cells.\n   * @param {API.GState=} gState An additional graphics state that gets applied to the pattern (optional).\n   * @param {Matrix=} matrix A matrix that describes the transformation between the pattern coordinate system\n   * and the use coordinate system (optional).\n   * @constructor\n   * @extends API.Pattern\n   */\n  API.TilingPattern = TilingPattern;\n\n  /**\n   * Adds a new {@link API.ShadingPattern} for later use. Only available in \"advanced\" API mode.\n   * @param {String} key\n   * @param {Pattern} pattern\n   * @function\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name addPattern\n   */\n  API.addShadingPattern = function(key, pattern) {\n    advancedApiModeTrap(\"addShadingPattern()\");\n\n    addPattern(key, pattern);\n    return this;\n  };\n\n  /**\n   * Begins a new tiling pattern. All subsequent render calls are drawn to this pattern until {@link API.endTilingPattern}\n   * gets called. Only available in \"advanced\" API mode.\n   * @param {API.Pattern} pattern\n   * @memberof jsPDF#\n   * @name beginTilingPattern\n   */\n  API.beginTilingPattern = function(pattern) {\n    advancedApiModeTrap(\"beginTilingPattern()\");\n\n    beginNewRenderTarget(\n      pattern.boundingBox[0],\n      pattern.boundingBox[1],\n      pattern.boundingBox[2] - pattern.boundingBox[0],\n      pattern.boundingBox[3] - pattern.boundingBox[1],\n      pattern.matrix\n    );\n  };\n\n  /**\n   * Ends a tiling pattern and sets the render target to the one active before {@link API.beginTilingPattern} has been called.\n   *\n   * Only available in \"advanced\" API mode.\n   *\n   * @param {string} key A unique key that is used to reference this pattern at later use.\n   * @param {API.Pattern} pattern The pattern to end.\n   * @memberof jsPDF#\n   * @name endTilingPattern\n   */\n  API.endTilingPattern = function(key, pattern) {\n    advancedApiModeTrap(\"endTilingPattern()\");\n\n    // retrieve the stream\n    pattern.stream = pages[currentPage].join(\"\\n\");\n\n    addPattern(key, pattern);\n\n    events.publish(\"endTilingPattern\", pattern);\n\n    // restore state from stack\n    renderTargetStack.pop().restore();\n  };\n\n  var newObject = (API.__private__.newObject = function() {\n    var oid = newObjectDeferred();\n    newObjectDeferredBegin(oid, true);\n    return oid;\n  });\n\n  // Does not output the object.  The caller must call newObjectDeferredBegin(oid) before outputing any data\n  var newObjectDeferred = (API.__private__.newObjectDeferred = function() {\n    objectNumber++;\n    offsets[objectNumber] = function() {\n      return contentLength;\n    };\n    return objectNumber;\n  });\n\n  var newObjectDeferredBegin = function(oid, doOutput) {\n    doOutput = typeof doOutput === \"boolean\" ? doOutput : false;\n    offsets[oid] = contentLength;\n    if (doOutput) {\n      out(oid + \" 0 obj\");\n    }\n    return oid;\n  };\n  // Does not output the object until after the pages have been output.\n  // Returns an object containing the objectId and content.\n  // All pages have been added so the object ID can be estimated to start right after.\n  // This does not modify the current objectNumber;  It must be updated after the newObjects are output.\n  var newAdditionalObject = (API.__private__.newAdditionalObject = function() {\n    var objId = newObjectDeferred();\n    var obj = {\n      objId: objId,\n      content: \"\"\n    };\n    additionalObjects.push(obj);\n    return obj;\n  });\n\n  var rootDictionaryObjId = newObjectDeferred();\n  var resourceDictionaryObjId = newObjectDeferred();\n\n  /////////////////////\n  // Private functions\n  /////////////////////\n\n  var decodeColorString = (API.__private__.decodeColorString = function(color) {\n    var colorEncoded = color.split(\" \");\n    if (\n      colorEncoded.length === 2 &&\n      (colorEncoded[1] === \"g\" || colorEncoded[1] === \"G\")\n    ) {\n      // convert grayscale value to rgb so that it can be converted to hex for consistency\n      var floatVal = parseFloat(colorEncoded[0]);\n      colorEncoded = [floatVal, floatVal, floatVal, \"r\"];\n    } else if (\n      colorEncoded.length === 5 &&\n      (colorEncoded[4] === \"k\" || colorEncoded[4] === \"K\")\n    ) {\n      // convert CMYK values to rbg so that it can be converted to hex for consistency\n      var red = (1.0 - colorEncoded[0]) * (1.0 - colorEncoded[3]);\n      var green = (1.0 - colorEncoded[1]) * (1.0 - colorEncoded[3]);\n      var blue = (1.0 - colorEncoded[2]) * (1.0 - colorEncoded[3]);\n\n      colorEncoded = [red, green, blue, \"r\"];\n    }\n    var colorAsRGB = \"#\";\n    for (var i = 0; i < 3; i++) {\n      colorAsRGB += (\n        \"0\" + Math.floor(parseFloat(colorEncoded[i]) * 255).toString(16)\n      ).slice(-2);\n    }\n    return colorAsRGB;\n  });\n\n  var encodeColorString = (API.__private__.encodeColorString = function(\n    options\n  ) {\n    var color;\n\n    if (typeof options === \"string\") {\n      options = {\n        ch1: options\n      };\n    }\n    var ch1 = options.ch1;\n    var ch2 = options.ch2;\n    var ch3 = options.ch3;\n    var ch4 = options.ch4;\n    var letterArray =\n      options.pdfColorType === \"draw\" ? [\"G\", \"RG\", \"K\"] : [\"g\", \"rg\", \"k\"];\n\n    if (typeof ch1 === \"string\" && ch1.charAt(0) !== \"#\") {\n      var rgbColor = new RGBColor(ch1);\n      if (rgbColor.ok) {\n        ch1 = rgbColor.toHex();\n      } else if (!/^\\d*\\.?\\d*$/.test(ch1)) {\n        throw new Error(\n          'Invalid color \"' + ch1 + '\" passed to jsPDF.encodeColorString.'\n        );\n      }\n    }\n    //convert short rgb to long form\n    if (typeof ch1 === \"string\" && /^#[0-9A-Fa-f]{3}$/.test(ch1)) {\n      ch1 = \"#\" + ch1[1] + ch1[1] + ch1[2] + ch1[2] + ch1[3] + ch1[3];\n    }\n\n    if (typeof ch1 === \"string\" && /^#[0-9A-Fa-f]{6}$/.test(ch1)) {\n      var hex = parseInt(ch1.substr(1), 16);\n      ch1 = (hex >> 16) & 255;\n      ch2 = (hex >> 8) & 255;\n      ch3 = hex & 255;\n    }\n\n    if (\n      typeof ch2 === \"undefined\" ||\n      (typeof ch4 === \"undefined\" && ch1 === ch2 && ch2 === ch3)\n    ) {\n      // Gray color space.\n      if (typeof ch1 === \"string\") {\n        color = ch1 + \" \" + letterArray[0];\n      } else {\n        switch (options.precision) {\n          case 2:\n            color = f2(ch1 / 255) + \" \" + letterArray[0];\n            break;\n          case 3:\n          default:\n            color = f3(ch1 / 255) + \" \" + letterArray[0];\n        }\n      }\n    } else if (typeof ch4 === \"undefined\" || typeof ch4 === \"object\") {\n      // assume RGBA\n      if (ch4 && !isNaN(ch4.a)) {\n        //TODO Implement transparency.\n        //WORKAROUND use white for now, if transparent, otherwise handle as rgb\n        if (ch4.a === 0) {\n          color = [\"1.\", \"1.\", \"1.\", letterArray[1]].join(\" \");\n          return color;\n        }\n      }\n      // assume RGB\n      if (typeof ch1 === \"string\") {\n        color = [ch1, ch2, ch3, letterArray[1]].join(\" \");\n      } else {\n        switch (options.precision) {\n          case 2:\n            color = [\n              f2(ch1 / 255),\n              f2(ch2 / 255),\n              f2(ch3 / 255),\n              letterArray[1]\n            ].join(\" \");\n            break;\n          default:\n          case 3:\n            color = [\n              f3(ch1 / 255),\n              f3(ch2 / 255),\n              f3(ch3 / 255),\n              letterArray[1]\n            ].join(\" \");\n        }\n      }\n    } else {\n      // assume CMYK\n      if (typeof ch1 === \"string\") {\n        color = [ch1, ch2, ch3, ch4, letterArray[2]].join(\" \");\n      } else {\n        switch (options.precision) {\n          case 2:\n            color = [f2(ch1), f2(ch2), f2(ch3), f2(ch4), letterArray[2]].join(\n              \" \"\n            );\n            break;\n          case 3:\n          default:\n            color = [f3(ch1), f3(ch2), f3(ch3), f3(ch4), letterArray[2]].join(\n              \" \"\n            );\n        }\n      }\n    }\n    return color;\n  });\n\n  var getFilters = (API.__private__.getFilters = function() {\n    return filters;\n  });\n\n  var putStream = (API.__private__.putStream = function(options) {\n    options = options || {};\n    var data = options.data || \"\";\n    var filters = options.filters || getFilters();\n    var alreadyAppliedFilters = options.alreadyAppliedFilters || [];\n    var addLength1 = options.addLength1 || false;\n    var valueOfLength1 = data.length;\n    var objectId = options.objectId;\n    var encryptor = function(data) {\n      return data;\n    };\n    if (encryptionOptions !== null && typeof objectId == \"undefined\") {\n      throw new Error(\n        \"ObjectId must be passed to putStream for file encryption\"\n      );\n    }\n    if (encryptionOptions !== null) {\n      encryptor = encryption.encryptor(objectId, 0);\n    }\n\n    var processedData = {};\n    if (filters === true) {\n      filters = [\"FlateEncode\"];\n    }\n    var keyValues = options.additionalKeyValues || [];\n    if (typeof jsPDF.API.processDataByFilters !== \"undefined\") {\n      processedData = jsPDF.API.processDataByFilters(data, filters);\n    } else {\n      processedData = { data: data, reverseChain: [] };\n    }\n    var filterAsString =\n      processedData.reverseChain +\n      (Array.isArray(alreadyAppliedFilters)\n        ? alreadyAppliedFilters.join(\" \")\n        : alreadyAppliedFilters.toString());\n\n    if (processedData.data.length !== 0) {\n      keyValues.push({\n        key: \"Length\",\n        value: processedData.data.length\n      });\n      if (addLength1 === true) {\n        keyValues.push({\n          key: \"Length1\",\n          value: valueOfLength1\n        });\n      }\n    }\n\n    if (filterAsString.length != 0) {\n      if (filterAsString.split(\"/\").length - 1 === 1) {\n        keyValues.push({\n          key: \"Filter\",\n          value: filterAsString\n        });\n      } else {\n        keyValues.push({\n          key: \"Filter\",\n          value: \"[\" + filterAsString + \"]\"\n        });\n\n        for (var j = 0; j < keyValues.length; j += 1) {\n          if (keyValues[j].key === \"DecodeParms\") {\n            var decodeParmsArray = [];\n\n            for (\n              var i = 0;\n              i < processedData.reverseChain.split(\"/\").length - 1;\n              i += 1\n            ) {\n              decodeParmsArray.push(\"null\");\n            }\n\n            decodeParmsArray.push(keyValues[j].value);\n            keyValues[j].value = \"[\" + decodeParmsArray.join(\" \") + \"]\";\n          }\n        }\n      }\n    }\n\n    out(\"<<\");\n    for (var k = 0; k < keyValues.length; k++) {\n      out(\"/\" + keyValues[k].key + \" \" + keyValues[k].value);\n    }\n    out(\">>\");\n    if (processedData.data.length !== 0) {\n      out(\"stream\");\n      out(encryptor(processedData.data));\n      out(\"endstream\");\n    }\n  });\n\n  var putPage = (API.__private__.putPage = function(page) {\n    var pageNumber = page.number;\n    var data = page.data;\n    var pageObjectNumber = page.objId;\n    var pageContentsObjId = page.contentsObjId;\n\n    newObjectDeferredBegin(pageObjectNumber, true);\n    out(\"<</Type /Page\");\n    out(\"/Parent \" + page.rootDictionaryObjId + \" 0 R\");\n    out(\"/Resources \" + page.resourceDictionaryObjId + \" 0 R\");\n    out(\n      \"/MediaBox [\" +\n        parseFloat(hpf(page.mediaBox.bottomLeftX)) +\n        \" \" +\n        parseFloat(hpf(page.mediaBox.bottomLeftY)) +\n        \" \" +\n        hpf(page.mediaBox.topRightX) +\n        \" \" +\n        hpf(page.mediaBox.topRightY) +\n        \"]\"\n    );\n    if (page.cropBox !== null) {\n      out(\n        \"/CropBox [\" +\n          hpf(page.cropBox.bottomLeftX) +\n          \" \" +\n          hpf(page.cropBox.bottomLeftY) +\n          \" \" +\n          hpf(page.cropBox.topRightX) +\n          \" \" +\n          hpf(page.cropBox.topRightY) +\n          \"]\"\n      );\n    }\n\n    if (page.bleedBox !== null) {\n      out(\n        \"/BleedBox [\" +\n          hpf(page.bleedBox.bottomLeftX) +\n          \" \" +\n          hpf(page.bleedBox.bottomLeftY) +\n          \" \" +\n          hpf(page.bleedBox.topRightX) +\n          \" \" +\n          hpf(page.bleedBox.topRightY) +\n          \"]\"\n      );\n    }\n\n    if (page.trimBox !== null) {\n      out(\n        \"/TrimBox [\" +\n          hpf(page.trimBox.bottomLeftX) +\n          \" \" +\n          hpf(page.trimBox.bottomLeftY) +\n          \" \" +\n          hpf(page.trimBox.topRightX) +\n          \" \" +\n          hpf(page.trimBox.topRightY) +\n          \"]\"\n      );\n    }\n\n    if (page.artBox !== null) {\n      out(\n        \"/ArtBox [\" +\n          hpf(page.artBox.bottomLeftX) +\n          \" \" +\n          hpf(page.artBox.bottomLeftY) +\n          \" \" +\n          hpf(page.artBox.topRightX) +\n          \" \" +\n          hpf(page.artBox.topRightY) +\n          \"]\"\n      );\n    }\n\n    if (typeof page.userUnit === \"number\" && page.userUnit !== 1.0) {\n      out(\"/UserUnit \" + page.userUnit);\n    }\n\n    events.publish(\"putPage\", {\n      objId: pageObjectNumber,\n      pageContext: pagesContext[pageNumber],\n      pageNumber: pageNumber,\n      page: data\n    });\n    out(\"/Contents \" + pageContentsObjId + \" 0 R\");\n    out(\">>\");\n    out(\"endobj\");\n    // Page content\n    var pageContent = data.join(\"\\n\");\n\n    if (apiMode === ApiMode.ADVANCED) {\n      // if the user forgot to switch back to COMPAT mode, we must balance the graphics stack again\n      pageContent += \"\\nQ\";\n    }\n\n    newObjectDeferredBegin(pageContentsObjId, true);\n    putStream({\n      data: pageContent,\n      filters: getFilters(),\n      objectId: pageContentsObjId\n    });\n    out(\"endobj\");\n    return pageObjectNumber;\n  });\n\n  var putPages = (API.__private__.putPages = function() {\n    var n,\n      i,\n      pageObjectNumbers = [];\n\n    for (n = 1; n <= page; n++) {\n      pagesContext[n].objId = newObjectDeferred();\n      pagesContext[n].contentsObjId = newObjectDeferred();\n    }\n\n    for (n = 1; n <= page; n++) {\n      pageObjectNumbers.push(\n        putPage({\n          number: n,\n          data: pages[n],\n          objId: pagesContext[n].objId,\n          contentsObjId: pagesContext[n].contentsObjId,\n          mediaBox: pagesContext[n].mediaBox,\n          cropBox: pagesContext[n].cropBox,\n          bleedBox: pagesContext[n].bleedBox,\n          trimBox: pagesContext[n].trimBox,\n          artBox: pagesContext[n].artBox,\n          userUnit: pagesContext[n].userUnit,\n          rootDictionaryObjId: rootDictionaryObjId,\n          resourceDictionaryObjId: resourceDictionaryObjId\n        })\n      );\n    }\n    newObjectDeferredBegin(rootDictionaryObjId, true);\n    out(\"<</Type /Pages\");\n    var kids = \"/Kids [\";\n    for (i = 0; i < page; i++) {\n      kids += pageObjectNumbers[i] + \" 0 R \";\n    }\n    out(kids + \"]\");\n    out(\"/Count \" + page);\n    out(\">>\");\n    out(\"endobj\");\n    events.publish(\"postPutPages\");\n  });\n\n  var putFont = function(font) {\n    events.publish(\"putFont\", {\n      font: font,\n      out: out,\n      newObject: newObject,\n      putStream: putStream\n    });\n\n    if (font.isAlreadyPutted !== true) {\n      font.objectNumber = newObject();\n      out(\"<<\");\n      out(\"/Type /Font\");\n      out(\"/BaseFont /\" + toPDFName(font.postScriptName));\n      out(\"/Subtype /Type1\");\n      if (typeof font.encoding === \"string\") {\n        out(\"/Encoding /\" + font.encoding);\n      }\n      out(\"/FirstChar 32\");\n      out(\"/LastChar 255\");\n      out(\">>\");\n      out(\"endobj\");\n    }\n  };\n\n  var putFonts = function() {\n    for (var fontKey in fonts) {\n      if (fonts.hasOwnProperty(fontKey)) {\n        if (\n          putOnlyUsedFonts === false ||\n          (putOnlyUsedFonts === true && usedFonts.hasOwnProperty(fontKey))\n        ) {\n          putFont(fonts[fontKey]);\n        }\n      }\n    }\n  };\n\n  var putXObject = function(xObject) {\n    xObject.objectNumber = newObject();\n\n    var options = [];\n    options.push({ key: \"Type\", value: \"/XObject\" });\n    options.push({ key: \"Subtype\", value: \"/Form\" });\n    options.push({\n      key: \"BBox\",\n      value:\n        \"[\" +\n        [\n          hpf(xObject.x),\n          hpf(xObject.y),\n          hpf(xObject.x + xObject.width),\n          hpf(xObject.y + xObject.height)\n        ].join(\" \") +\n        \"]\"\n    });\n    options.push({\n      key: \"Matrix\",\n      value: \"[\" + xObject.matrix.toString() + \"]\"\n    });\n    // TODO: /Resources\n\n    var stream = xObject.pages[1].join(\"\\n\");\n    putStream({\n      data: stream,\n      additionalKeyValues: options,\n      objectId: xObject.objectNumber\n    });\n    out(\"endobj\");\n  };\n\n  var putXObjects = function() {\n    for (var xObjectKey in renderTargets) {\n      if (renderTargets.hasOwnProperty(xObjectKey)) {\n        putXObject(renderTargets[xObjectKey]);\n      }\n    }\n  };\n\n  var interpolateAndEncodeRGBStream = function(colors, numberSamples) {\n    var tValues = [];\n    var t;\n    var dT = 1.0 / (numberSamples - 1);\n    for (t = 0.0; t < 1.0; t += dT) {\n      tValues.push(t);\n    }\n    tValues.push(1.0);\n    // add first and last control point if not present\n    if (colors[0].offset != 0.0) {\n      var c0 = {\n        offset: 0.0,\n        color: colors[0].color\n      };\n      colors.unshift(c0);\n    }\n    if (colors[colors.length - 1].offset != 1.0) {\n      var c1 = {\n        offset: 1.0,\n        color: colors[colors.length - 1].color\n      };\n      colors.push(c1);\n    }\n    var out = \"\";\n    var index = 0;\n\n    for (var i = 0; i < tValues.length; i++) {\n      t = tValues[i];\n      while (t > colors[index + 1].offset) index++;\n      var a = colors[index].offset;\n      var b = colors[index + 1].offset;\n      var d = (t - a) / (b - a);\n\n      var aColor = colors[index].color;\n      var bColor = colors[index + 1].color;\n\n      out +=\n        padd2Hex(Math.round((1 - d) * aColor[0] + d * bColor[0]).toString(16)) +\n        padd2Hex(Math.round((1 - d) * aColor[1] + d * bColor[1]).toString(16)) +\n        padd2Hex(Math.round((1 - d) * aColor[2] + d * bColor[2]).toString(16));\n    }\n    return out.trim();\n  };\n\n  var putShadingPattern = function(pattern, numberSamples) {\n    /*\n       Axial patterns shade between the two points specified in coords, radial patterns between the inner\n       and outer circle.\n       The user can specify an array (colors) that maps t-Values in [0, 1] to RGB colors. These are now\n       interpolated to equidistant samples and written to pdf as a sample (type 0) function.\n       */\n    // The number of color samples that should be used to describe the shading.\n    // The higher, the more accurate the gradient will be.\n    numberSamples || (numberSamples = 21);\n    var funcObjectNumber = newObject();\n    var stream = interpolateAndEncodeRGBStream(pattern.colors, numberSamples);\n\n    var options = [];\n    options.push({ key: \"FunctionType\", value: \"0\" });\n    options.push({ key: \"Domain\", value: \"[0.0 1.0]\" });\n    options.push({ key: \"Size\", value: \"[\" + numberSamples + \"]\" });\n    options.push({ key: \"BitsPerSample\", value: \"8\" });\n    options.push({ key: \"Range\", value: \"[0.0 1.0 0.0 1.0 0.0 1.0]\" });\n    options.push({ key: \"Decode\", value: \"[0.0 1.0 0.0 1.0 0.0 1.0]\" });\n\n    putStream({\n      data: stream,\n      additionalKeyValues: options,\n      alreadyAppliedFilters: [\"/ASCIIHexDecode\"],\n      objectId: funcObjectNumber\n    });\n    out(\"endobj\");\n\n    pattern.objectNumber = newObject();\n    out(\"<< /ShadingType \" + pattern.type);\n    out(\"/ColorSpace /DeviceRGB\");\n    var coords =\n      \"/Coords [\" +\n      hpf(parseFloat(pattern.coords[0])) +\n      \" \" + // x1\n      hpf(parseFloat(pattern.coords[1])) +\n      \" \"; // y1\n    if (pattern.type === 2) {\n      // axial\n      coords +=\n        hpf(parseFloat(pattern.coords[2])) +\n        \" \" + // x2\n        hpf(parseFloat(pattern.coords[3])); // y2\n    } else {\n      // radial\n      coords +=\n        hpf(parseFloat(pattern.coords[2])) +\n        \" \" + // r1\n        hpf(parseFloat(pattern.coords[3])) +\n        \" \" + // x2\n        hpf(parseFloat(pattern.coords[4])) +\n        \" \" + // y2\n        hpf(parseFloat(pattern.coords[5])); // r2\n    }\n    coords += \"]\";\n    out(coords);\n\n    if (pattern.matrix) {\n      out(\"/Matrix [\" + pattern.matrix.toString() + \"]\");\n    }\n    out(\"/Function \" + funcObjectNumber + \" 0 R\");\n    out(\"/Extend [true true]\");\n    out(\">>\");\n    out(\"endobj\");\n  };\n\n  var putTilingPattern = function(pattern, deferredResourceDictionaryIds) {\n    var resourcesObjectId = newObjectDeferred();\n    var patternObjectId = newObject();\n\n    deferredResourceDictionaryIds.push({\n      resourcesOid: resourcesObjectId,\n      objectOid: patternObjectId\n    });\n\n    pattern.objectNumber = patternObjectId;\n    var options = [];\n    options.push({ key: \"Type\", value: \"/Pattern\" });\n    options.push({ key: \"PatternType\", value: \"1\" }); // tiling pattern\n    options.push({ key: \"PaintType\", value: \"1\" }); // colored tiling pattern\n    options.push({ key: \"TilingType\", value: \"1\" }); // constant spacing\n    options.push({\n      key: \"BBox\",\n      value: \"[\" + pattern.boundingBox.map(hpf).join(\" \") + \"]\"\n    });\n    options.push({ key: \"XStep\", value: hpf(pattern.xStep) });\n    options.push({ key: \"YStep\", value: hpf(pattern.yStep) });\n    options.push({ key: \"Resources\", value: resourcesObjectId + \" 0 R\" });\n    if (pattern.matrix) {\n      options.push({\n        key: \"Matrix\",\n        value: \"[\" + pattern.matrix.toString() + \"]\"\n      });\n    }\n\n    putStream({\n      data: pattern.stream,\n      additionalKeyValues: options,\n      objectId: pattern.objectNumber\n    });\n    out(\"endobj\");\n  };\n\n  var putPatterns = function(deferredResourceDictionaryIds) {\n    var patternKey;\n    for (patternKey in patterns) {\n      if (patterns.hasOwnProperty(patternKey)) {\n        if (patterns[patternKey] instanceof ShadingPattern) {\n          putShadingPattern(patterns[patternKey]);\n        } else if (patterns[patternKey] instanceof TilingPattern) {\n          putTilingPattern(patterns[patternKey], deferredResourceDictionaryIds);\n        }\n      }\n    }\n  };\n\n  var putGState = function(gState) {\n    gState.objectNumber = newObject();\n    out(\"<<\");\n    for (var p in gState) {\n      switch (p) {\n        case \"opacity\":\n          out(\"/ca \" + f2(gState[p]));\n          break;\n        case \"stroke-opacity\":\n          out(\"/CA \" + f2(gState[p]));\n          break;\n      }\n    }\n    out(\">>\");\n    out(\"endobj\");\n  };\n\n  var putGStates = function() {\n    var gStateKey;\n    for (gStateKey in gStates) {\n      if (gStates.hasOwnProperty(gStateKey)) {\n        putGState(gStates[gStateKey]);\n      }\n    }\n  };\n\n  var putXobjectDict = function() {\n    out(\"/XObject <<\");\n    for (var xObjectKey in renderTargets) {\n      if (\n        renderTargets.hasOwnProperty(xObjectKey) &&\n        renderTargets[xObjectKey].objectNumber >= 0\n      ) {\n        out(\n          \"/\" +\n            xObjectKey +\n            \" \" +\n            renderTargets[xObjectKey].objectNumber +\n            \" 0 R\"\n        );\n      }\n    }\n\n    // Loop through images, or other data objects\n    events.publish(\"putXobjectDict\");\n    out(\">>\");\n  };\n\n  var putEncryptionDict = function() {\n    encryption.oid = newObject();\n    out(\"<<\");\n    out(\"/Filter /Standard\");\n    out(\"/V \" + encryption.v);\n    out(\"/R \" + encryption.r);\n    out(\"/U <\" + encryption.toHexString(encryption.U) + \">\");\n    out(\"/O <\" + encryption.toHexString(encryption.O) + \">\");\n    out(\"/P \" + encryption.P);\n    out(\">>\");\n    out(\"endobj\");\n  };\n\n  var putFontDict = function() {\n    out(\"/Font <<\");\n\n    for (var fontKey in fonts) {\n      if (fonts.hasOwnProperty(fontKey)) {\n        if (\n          putOnlyUsedFonts === false ||\n          (putOnlyUsedFonts === true && usedFonts.hasOwnProperty(fontKey))\n        ) {\n          out(\"/\" + fontKey + \" \" + fonts[fontKey].objectNumber + \" 0 R\");\n        }\n      }\n    }\n    out(\">>\");\n  };\n\n  var putShadingPatternDict = function() {\n    if (Object.keys(patterns).length > 0) {\n      out(\"/Shading <<\");\n      for (var patternKey in patterns) {\n        if (\n          patterns.hasOwnProperty(patternKey) &&\n          patterns[patternKey] instanceof ShadingPattern &&\n          patterns[patternKey].objectNumber >= 0\n        ) {\n          out(\n            \"/\" + patternKey + \" \" + patterns[patternKey].objectNumber + \" 0 R\"\n          );\n        }\n      }\n\n      events.publish(\"putShadingPatternDict\");\n      out(\">>\");\n    }\n  };\n\n  var putTilingPatternDict = function(objectOid) {\n    if (Object.keys(patterns).length > 0) {\n      out(\"/Pattern <<\");\n      for (var patternKey in patterns) {\n        if (\n          patterns.hasOwnProperty(patternKey) &&\n          patterns[patternKey] instanceof API.TilingPattern &&\n          patterns[patternKey].objectNumber >= 0 &&\n          patterns[patternKey].objectNumber < objectOid // prevent cyclic dependencies\n        ) {\n          out(\n            \"/\" + patternKey + \" \" + patterns[patternKey].objectNumber + \" 0 R\"\n          );\n        }\n      }\n      events.publish(\"putTilingPatternDict\");\n      out(\">>\");\n    }\n  };\n\n  var putGStatesDict = function() {\n    if (Object.keys(gStates).length > 0) {\n      var gStateKey;\n      out(\"/ExtGState <<\");\n      for (gStateKey in gStates) {\n        if (\n          gStates.hasOwnProperty(gStateKey) &&\n          gStates[gStateKey].objectNumber >= 0\n        ) {\n          out(\"/\" + gStateKey + \" \" + gStates[gStateKey].objectNumber + \" 0 R\");\n        }\n      }\n\n      events.publish(\"putGStateDict\");\n      out(\">>\");\n    }\n  };\n\n  var putResourceDictionary = function(objectIds) {\n    newObjectDeferredBegin(objectIds.resourcesOid, true);\n    out(\"<<\");\n    out(\"/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]\");\n    putFontDict();\n    putShadingPatternDict();\n    putTilingPatternDict(objectIds.objectOid);\n    putGStatesDict();\n    putXobjectDict();\n    out(\">>\");\n    out(\"endobj\");\n  };\n\n  var putResources = function() {\n    // FormObjects, Patterns etc. might use other FormObjects/Patterns/Images\n    // which means their resource dictionaries must contain the already resolved\n    // object ids. For this reason we defer the serialization of the resource\n    // dicts until all objects have been serialized and have object ids.\n    //\n    // In order to prevent cyclic dependencies (which Adobe Reader doesn't like),\n    // we only put all oids that are smaller than the oid of the object the\n    // resource dict belongs to. This is correct behavior, since the streams\n    // may only use other objects that have already been defined and thus appear\n    // earlier in their respective collection.\n    // Currently, this only affects tiling patterns, but a (more) correct\n    // implementation of FormObjects would also define their own resource dicts.\n    var deferredResourceDictionaryIds = [];\n\n    putFonts();\n    putGStates();\n    putXObjects();\n    putPatterns(deferredResourceDictionaryIds);\n\n    events.publish(\"putResources\");\n    deferredResourceDictionaryIds.forEach(putResourceDictionary);\n    putResourceDictionary({\n      resourcesOid: resourceDictionaryObjId,\n      objectOid: Number.MAX_SAFE_INTEGER // output all objects\n    });\n    events.publish(\"postPutResources\");\n  };\n\n  var putAdditionalObjects = function() {\n    events.publish(\"putAdditionalObjects\");\n    for (var i = 0; i < additionalObjects.length; i++) {\n      var obj = additionalObjects[i];\n      newObjectDeferredBegin(obj.objId, true);\n      out(obj.content);\n      out(\"endobj\");\n    }\n    events.publish(\"postPutAdditionalObjects\");\n  };\n\n  var addFontToFontDictionary = function(font) {\n    fontmap[font.fontName] = fontmap[font.fontName] || {};\n    fontmap[font.fontName][font.fontStyle] = font.id;\n  };\n\n  var addFont = function(\n    postScriptName,\n    fontName,\n    fontStyle,\n    encoding,\n    isStandardFont\n  ) {\n    var font = {\n      id: \"F\" + (Object.keys(fonts).length + 1).toString(10),\n      postScriptName: postScriptName,\n      fontName: fontName,\n      fontStyle: fontStyle,\n      encoding: encoding,\n      isStandardFont: isStandardFont || false,\n      metadata: {}\n    };\n\n    events.publish(\"addFont\", {\n      font: font,\n      instance: this\n    });\n\n    fonts[font.id] = font;\n    addFontToFontDictionary(font);\n    return font.id;\n  };\n\n  var addFonts = function(arrayOfFonts) {\n    for (var i = 0, l = standardFonts.length; i < l; i++) {\n      var fontKey = addFont.call(\n        this,\n        arrayOfFonts[i][0],\n        arrayOfFonts[i][1],\n        arrayOfFonts[i][2],\n        standardFonts[i][3],\n        true\n      );\n\n      if (putOnlyUsedFonts === false) {\n        usedFonts[fontKey] = true;\n      }\n      // adding aliases for standard fonts, this time matching the capitalization\n      var parts = arrayOfFonts[i][0].split(\"-\");\n      addFontToFontDictionary({\n        id: fontKey,\n        fontName: parts[0],\n        fontStyle: parts[1] || \"\"\n      });\n    }\n    events.publish(\"addFonts\", {\n      fonts: fonts,\n      dictionary: fontmap\n    });\n  };\n\n  var SAFE = function __safeCall(fn) {\n    fn.foo = function __safeCallWrapper() {\n      try {\n        return fn.apply(this, arguments);\n      } catch (e) {\n        var stack = e.stack || \"\";\n        if (~stack.indexOf(\" at \")) stack = stack.split(\" at \")[1];\n        var m =\n          \"Error in function \" +\n          stack.split(\"\\n\")[0].split(\"<\")[0] +\n          \": \" +\n          e.message;\n        if (globalObject.console) {\n          globalObject.console.error(m, e);\n          if (globalObject.alert) alert(m);\n        } else {\n          throw new Error(m);\n        }\n      }\n    };\n    fn.foo.bar = fn;\n    return fn.foo;\n  };\n\n  var to8bitStream = function(text, flags) {\n    /**\n     * PDF 1.3 spec:\n     * \"For text strings encoded in Unicode, the first two bytes must be 254 followed by\n     * 255, representing the Unicode byte order marker, U+FEFF. (This sequence conflicts\n     * with the PDFDocEncoding character sequence thorn ydieresis, which is unlikely\n     * to be a meaningful beginning of a word or phrase.) The remainder of the\n     * string consists of Unicode character codes, according to the UTF-16 encoding\n     * specified in the Unicode standard, version 2.0. Commonly used Unicode values\n     * are represented as 2 bytes per character, with the high-order byte appearing first\n     * in the string.\"\n     *\n     * In other words, if there are chars in a string with char code above 255, we\n     * recode the string to UCS2 BE - string doubles in length and BOM is prepended.\n     *\n     * HOWEVER!\n     * Actual *content* (body) text (as opposed to strings used in document properties etc)\n     * does NOT expect BOM. There, it is treated as a literal GID (Glyph ID)\n     *\n     * Because of Adobe's focus on \"you subset your fonts!\" you are not supposed to have\n     * a font that maps directly Unicode (UCS2 / UTF16BE) code to font GID, but you could\n     * fudge it with \"Identity-H\" encoding and custom CIDtoGID map that mimics Unicode\n     * code page. There, however, all characters in the stream are treated as GIDs,\n     * including BOM, which is the reason we need to skip BOM in content text (i.e. that\n     * that is tied to a font).\n     *\n     * To signal this \"special\" PDFEscape / to8bitStream handling mode,\n     * API.text() function sets (unless you overwrite it with manual values\n     * given to API.text(.., flags) )\n     * flags.autoencode = true\n     * flags.noBOM = true\n     *\n     * ===================================================================================\n     * `flags` properties relied upon:\n     *   .sourceEncoding = string with encoding label.\n     *                     \"Unicode\" by default. = encoding of the incoming text.\n     *                     pass some non-existing encoding name\n     *                     (ex: 'Do not touch my strings! I know what I am doing.')\n     *                     to make encoding code skip the encoding step.\n     *   .outputEncoding = Either valid PDF encoding name\n     *                     (must be supported by jsPDF font metrics, otherwise no encoding)\n     *                     or a JS object, where key = sourceCharCode, value = outputCharCode\n     *                     missing keys will be treated as: sourceCharCode === outputCharCode\n     *   .noBOM\n     *       See comment higher above for explanation for why this is important\n     *   .autoencode\n     *       See comment higher above for explanation for why this is important\n     */\n\n    var i,\n      l,\n      sourceEncoding,\n      encodingBlock,\n      outputEncoding,\n      newtext,\n      isUnicode,\n      ch,\n      bch;\n\n    flags = flags || {};\n    sourceEncoding = flags.sourceEncoding || \"Unicode\";\n    outputEncoding = flags.outputEncoding;\n\n    // This 'encoding' section relies on font metrics format\n    // attached to font objects by, among others,\n    // \"Willow Systems' standard_font_metrics plugin\"\n    // see jspdf.plugin.standard_font_metrics.js for format\n    // of the font.metadata.encoding Object.\n    // It should be something like\n    //   .encoding = {'codePages':['WinANSI....'], 'WinANSI...':{code:code, ...}}\n    //   .widths = {0:width, code:width, ..., 'fof':divisor}\n    //   .kerning = {code:{previous_char_code:shift, ..., 'fof':-divisor},...}\n    if (\n      (flags.autoencode || outputEncoding) &&\n      fonts[activeFontKey].metadata &&\n      fonts[activeFontKey].metadata[sourceEncoding] &&\n      fonts[activeFontKey].metadata[sourceEncoding].encoding\n    ) {\n      encodingBlock = fonts[activeFontKey].metadata[sourceEncoding].encoding;\n\n      // each font has default encoding. Some have it clearly defined.\n      if (!outputEncoding && fonts[activeFontKey].encoding) {\n        outputEncoding = fonts[activeFontKey].encoding;\n      }\n\n      // Hmmm, the above did not work? Let's try again, in different place.\n      if (!outputEncoding && encodingBlock.codePages) {\n        outputEncoding = encodingBlock.codePages[0]; // let's say, first one is the default\n      }\n\n      if (typeof outputEncoding === \"string\") {\n        outputEncoding = encodingBlock[outputEncoding];\n      }\n      // we want output encoding to be a JS Object, where\n      // key = sourceEncoding's character code and\n      // value = outputEncoding's character code.\n      if (outputEncoding) {\n        isUnicode = false;\n        newtext = [];\n        for (i = 0, l = text.length; i < l; i++) {\n          ch = outputEncoding[text.charCodeAt(i)];\n          if (ch) {\n            newtext.push(String.fromCharCode(ch));\n          } else {\n            newtext.push(text[i]);\n          }\n\n          // since we are looping over chars anyway, might as well\n          // check for residual unicodeness\n          if (newtext[i].charCodeAt(0) >> 8) {\n            /* more than 255 */\n            isUnicode = true;\n          }\n        }\n        text = newtext.join(\"\");\n      }\n    }\n\n    i = text.length;\n    // isUnicode may be set to false above. Hence the triple-equal to undefined\n    while (isUnicode === undefined && i !== 0) {\n      if (text.charCodeAt(i - 1) >> 8) {\n        /* more than 255 */\n        isUnicode = true;\n      }\n      i--;\n    }\n    if (!isUnicode) {\n      return text;\n    }\n\n    newtext = flags.noBOM ? [] : [254, 255];\n    for (i = 0, l = text.length; i < l; i++) {\n      ch = text.charCodeAt(i);\n      bch = ch >> 8; // divide by 256\n      if (bch >> 8) {\n        /* something left after dividing by 256 second time */\n        throw new Error(\n          \"Character at position \" +\n            i +\n            \" of string '\" +\n            text +\n            \"' exceeds 16bits. Cannot be encoded into UCS-2 BE\"\n        );\n      }\n      newtext.push(bch);\n      newtext.push(ch - (bch << 8));\n    }\n    return String.fromCharCode.apply(undefined, newtext);\n  };\n\n  var pdfEscape = (API.__private__.pdfEscape = API.pdfEscape = function(\n    text,\n    flags\n  ) {\n    /**\n     * Replace '/', '(', and ')' with pdf-safe versions\n     *\n     * Doing to8bitStream does NOT make this PDF display unicode text. For that\n     * we also need to reference a unicode font and embed it - royal pain in the rear.\n     *\n     * There is still a benefit to to8bitStream - PDF simply cannot handle 16bit chars,\n     * which JavaScript Strings are happy to provide. So, while we still cannot display\n     * 2-byte characters property, at least CONDITIONALLY converting (entire string containing)\n     * 16bit chars to (USC-2-BE) 2-bytes per char + BOM streams we ensure that entire PDF\n     * is still parseable.\n     * This will allow immediate support for unicode in document properties strings.\n     */\n    return to8bitStream(text, flags)\n      .replace(/\\\\/g, \"\\\\\\\\\")\n      .replace(/\\(/g, \"\\\\(\")\n      .replace(/\\)/g, \"\\\\)\");\n  });\n\n  var beginPage = (API.__private__.beginPage = function(format) {\n    pages[++page] = [];\n    pagesContext[page] = {\n      objId: 0,\n      contentsObjId: 0,\n      userUnit: Number(userUnit),\n      artBox: null,\n      bleedBox: null,\n      cropBox: null,\n      trimBox: null,\n      mediaBox: {\n        bottomLeftX: 0,\n        bottomLeftY: 0,\n        topRightX: Number(format[0]),\n        topRightY: Number(format[1])\n      }\n    };\n    _setPage(page);\n    setOutputDestination(pages[currentPage]);\n  });\n\n  var _addPage = function(parmFormat, parmOrientation) {\n    var dimensions, width, height;\n\n    orientation = parmOrientation || orientation;\n\n    if (typeof parmFormat === \"string\") {\n      dimensions = getPageFormat(parmFormat.toLowerCase());\n      if (Array.isArray(dimensions)) {\n        width = dimensions[0];\n        height = dimensions[1];\n      }\n    }\n\n    if (Array.isArray(parmFormat)) {\n      width = parmFormat[0] * scaleFactor;\n      height = parmFormat[1] * scaleFactor;\n    }\n\n    if (isNaN(width)) {\n      width = format[0];\n      height = format[1];\n    }\n\n    if (width > 14400 || height > 14400) {\n      console.warn(\n        \"A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400\"\n      );\n      width = Math.min(14400, width);\n      height = Math.min(14400, height);\n    }\n\n    format = [width, height];\n\n    switch (orientation.substr(0, 1)) {\n      case \"l\":\n        if (height > width) {\n          format = [height, width];\n        }\n        break;\n      case \"p\":\n        if (width > height) {\n          format = [height, width];\n        }\n        break;\n    }\n\n    beginPage(format);\n\n    // Set line width\n    setLineWidth(lineWidth);\n    // Set draw color\n    out(strokeColor);\n    // resurrecting non-default line caps, joins\n    if (lineCapID !== 0) {\n      out(lineCapID + \" J\");\n    }\n    if (lineJoinID !== 0) {\n      out(lineJoinID + \" j\");\n    }\n    events.publish(\"addPage\", {\n      pageNumber: page\n    });\n  };\n\n  var _deletePage = function(n) {\n    if (n > 0 && n <= page) {\n      pages.splice(n, 1);\n      pagesContext.splice(n, 1);\n      page--;\n      if (currentPage > page) {\n        currentPage = page;\n      }\n      this.setPage(currentPage);\n    }\n  };\n\n  var _setPage = function(n) {\n    if (n > 0 && n <= page) {\n      currentPage = n;\n    }\n  };\n\n  var getNumberOfPages = (API.__private__.getNumberOfPages = API.getNumberOfPages = function() {\n    return pages.length - 1;\n  });\n\n  /**\n   * Returns a document-specific font key - a label assigned to a\n   * font name + font type combination at the time the font was added\n   * to the font inventory.\n   *\n   * Font key is used as label for the desired font for a block of text\n   * to be added to the PDF document stream.\n   * @private\n   * @function\n   * @param fontName {string} can be undefined on \"falthy\" to indicate \"use current\"\n   * @param fontStyle {string} can be undefined on \"falthy\" to indicate \"use current\"\n   * @returns {string} Font key.\n   * @ignore\n   */\n  var getFont = function(fontName, fontStyle, options) {\n    var key = undefined,\n      fontNameLowerCase;\n    options = options || {};\n\n    fontName =\n      fontName !== undefined ? fontName : fonts[activeFontKey].fontName;\n    fontStyle =\n      fontStyle !== undefined ? fontStyle : fonts[activeFontKey].fontStyle;\n    fontNameLowerCase = fontName.toLowerCase();\n\n    if (\n      fontmap[fontNameLowerCase] !== undefined &&\n      fontmap[fontNameLowerCase][fontStyle] !== undefined\n    ) {\n      key = fontmap[fontNameLowerCase][fontStyle];\n    } else if (\n      fontmap[fontName] !== undefined &&\n      fontmap[fontName][fontStyle] !== undefined\n    ) {\n      key = fontmap[fontName][fontStyle];\n    } else {\n      if (options.disableWarning === false) {\n        console.warn(\n          \"Unable to look up font label for font '\" +\n            fontName +\n            \"', '\" +\n            fontStyle +\n            \"'. Refer to getFontList() for available fonts.\"\n        );\n      }\n    }\n\n    if (!key && !options.noFallback) {\n      key = fontmap[\"times\"][fontStyle];\n      if (key == null) {\n        key = fontmap[\"times\"][\"normal\"];\n      }\n    }\n    return key;\n  };\n\n  var putInfo = (API.__private__.putInfo = function() {\n    var objectId = newObject();\n    var encryptor = function(data) {\n      return data;\n    };\n    if (encryptionOptions !== null) {\n      encryptor = encryption.encryptor(objectId, 0);\n    }\n    out(\"<<\");\n    out(\"/Producer (\" + pdfEscape(encryptor(\"jsPDF \" + jsPDF.version)) + \")\");\n    for (var key in documentProperties) {\n      if (documentProperties.hasOwnProperty(key) && documentProperties[key]) {\n        out(\n          \"/\" +\n            key.substr(0, 1).toUpperCase() +\n            key.substr(1) +\n            \" (\" +\n            pdfEscape(encryptor(documentProperties[key])) +\n            \")\"\n        );\n      }\n    }\n    out(\"/CreationDate (\" + pdfEscape(encryptor(creationDate)) + \")\");\n    out(\">>\");\n    out(\"endobj\");\n  });\n\n  var putCatalog = (API.__private__.putCatalog = function(options) {\n    options = options || {};\n    var tmpRootDictionaryObjId =\n      options.rootDictionaryObjId || rootDictionaryObjId;\n    newObject();\n    out(\"<<\");\n    out(\"/Type /Catalog\");\n    out(\"/Pages \" + tmpRootDictionaryObjId + \" 0 R\");\n    // PDF13ref Section 7.2.1\n    if (!zoomMode) zoomMode = \"fullwidth\";\n    switch (zoomMode) {\n      case \"fullwidth\":\n        out(\"/OpenAction [3 0 R /FitH null]\");\n        break;\n      case \"fullheight\":\n        out(\"/OpenAction [3 0 R /FitV null]\");\n        break;\n      case \"fullpage\":\n        out(\"/OpenAction [3 0 R /Fit]\");\n        break;\n      case \"original\":\n        out(\"/OpenAction [3 0 R /XYZ null null 1]\");\n        break;\n      default:\n        var pcn = \"\" + zoomMode;\n        if (pcn.substr(pcn.length - 1) === \"%\")\n          zoomMode = parseInt(zoomMode) / 100;\n        if (typeof zoomMode === \"number\") {\n          out(\"/OpenAction [3 0 R /XYZ null null \" + f2(zoomMode) + \"]\");\n        }\n    }\n    if (!layoutMode) layoutMode = \"continuous\";\n    switch (layoutMode) {\n      case \"continuous\":\n        out(\"/PageLayout /OneColumn\");\n        break;\n      case \"single\":\n        out(\"/PageLayout /SinglePage\");\n        break;\n      case \"two\":\n      case \"twoleft\":\n        out(\"/PageLayout /TwoColumnLeft\");\n        break;\n      case \"tworight\":\n        out(\"/PageLayout /TwoColumnRight\");\n        break;\n    }\n    if (pageMode) {\n      /**\n       * A name object specifying how the document should be displayed when opened:\n       * UseNone      : Neither document outline nor thumbnail images visible -- DEFAULT\n       * UseOutlines  : Document outline visible\n       * UseThumbs    : Thumbnail images visible\n       * FullScreen   : Full-screen mode, with no menu bar, window controls, or any other window visible\n       */\n      out(\"/PageMode /\" + pageMode);\n    }\n    events.publish(\"putCatalog\");\n    out(\">>\");\n    out(\"endobj\");\n  });\n\n  var putTrailer = (API.__private__.putTrailer = function() {\n    out(\"trailer\");\n    out(\"<<\");\n    out(\"/Size \" + (objectNumber + 1));\n    // Root and Info must be the last and second last objects written respectively\n    out(\"/Root \" + objectNumber + \" 0 R\");\n    out(\"/Info \" + (objectNumber - 1) + \" 0 R\");\n    if (encryptionOptions !== null) {\n      out(\"/Encrypt \" + encryption.oid + \" 0 R\");\n    }\n    out(\"/ID [ <\" + fileId + \"> <\" + fileId + \"> ]\");\n    out(\">>\");\n  });\n\n  var putHeader = (API.__private__.putHeader = function() {\n    out(\"%PDF-\" + pdfVersion);\n    out(\"%\\xBA\\xDF\\xAC\\xE0\");\n  });\n\n  var putXRef = (API.__private__.putXRef = function() {\n    var p = \"0000000000\";\n\n    out(\"xref\");\n    out(\"0 \" + (objectNumber + 1));\n    out(\"0000000000 65535 f \");\n    for (var i = 1; i <= objectNumber; i++) {\n      var offset = offsets[i];\n      if (typeof offset === \"function\") {\n        out((p + offsets[i]()).slice(-10) + \" 00000 n \");\n      } else {\n        if (typeof offsets[i] !== \"undefined\") {\n          out((p + offsets[i]).slice(-10) + \" 00000 n \");\n        } else {\n          out(\"0000000000 00000 n \");\n        }\n      }\n    }\n  });\n\n  var buildDocument = (API.__private__.buildDocument = function() {\n    resetDocument();\n    setOutputDestination(content);\n\n    events.publish(\"buildDocument\");\n\n    putHeader();\n    putPages();\n    putAdditionalObjects();\n    putResources();\n    if (encryptionOptions !== null) putEncryptionDict();\n    putInfo();\n    putCatalog();\n\n    var offsetOfXRef = contentLength;\n    putXRef();\n    putTrailer();\n    out(\"startxref\");\n    out(\"\" + offsetOfXRef);\n    out(\"%%EOF\");\n\n    setOutputDestination(pages[currentPage]);\n\n    return content.join(\"\\n\");\n  });\n\n  var getBlob = (API.__private__.getBlob = function(data) {\n    return new Blob([getArrayBuffer(data)], {\n      type: \"application/pdf\"\n    });\n  });\n\n  /**\n   * Generates the PDF document.\n   *\n   * If `type` argument is undefined, output is raw body of resulting PDF returned as a string.\n   *\n   * @param {string} type A string identifying one of the possible output types.<br/>\n   *                      Possible values are: <br/>\n   *                          'arraybuffer' -> (ArrayBuffer)<br/>\n   *                          'blob' -> (Blob)<br/>\n   *                          'bloburi'/'bloburl' -> (string)<br/>\n   *                          'datauristring'/'dataurlstring' -> (string)<br/>\n   *                          'datauri'/'dataurl' -> (undefined) -> change location to generated datauristring/dataurlstring<br/>\n   *                          'dataurlnewwindow' -> (window | null | undefined) throws error if global isn't a window object(node)<br/>\n   *                          'pdfobjectnewwindow' -> (window | null) throws error if global isn't a window object(node)<br/>\n   *                          'pdfjsnewwindow' -> (wind | null)\n   * @param {Object|string} options An object providing some additional signalling to PDF generator.<br/>\n   *                                Possible options are 'filename'.<br/>\n   *                                A string can be passed instead of {filename:string} and defaults to 'generated.pdf'\n   * @function\n   * @instance\n   * @returns {string|window|ArrayBuffer|Blob|jsPDF|null|undefined}\n   * @memberof jsPDF#\n   * @name output\n   */\n  var output = (API.output = API.__private__.output = SAFE(function output(\n    type,\n    options\n  ) {\n    options = options || {};\n\n    if (typeof options === \"string\") {\n      options = {\n        filename: options\n      };\n    } else {\n      options.filename = options.filename || \"generated.pdf\";\n    }\n\n    switch (type) {\n      case undefined:\n        return buildDocument();\n      case \"save\":\n        API.save(options.filename);\n        break;\n      case \"arraybuffer\":\n        return getArrayBuffer(buildDocument());\n      case \"blob\":\n        return getBlob(buildDocument());\n      case \"bloburi\":\n      case \"bloburl\":\n        // Developer is responsible of calling revokeObjectURL\n        if (\n          typeof globalObject.URL !== \"undefined\" &&\n          typeof globalObject.URL.createObjectURL === \"function\"\n        ) {\n          return (\n            (globalObject.URL &&\n              globalObject.URL.createObjectURL(getBlob(buildDocument()))) ||\n            void 0\n          );\n        } else {\n          console.warn(\n            \"bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.\"\n          );\n        }\n        break;\n      case \"datauristring\":\n      case \"dataurlstring\":\n        var dataURI = \"\";\n        var pdfDocument = buildDocument();\n        try {\n          dataURI = btoa(pdfDocument);\n        } catch (e) {\n          dataURI = btoa(unescape(encodeURIComponent(pdfDocument)));\n        }\n        return (\n          \"data:application/pdf;filename=\" +\n          options.filename +\n          \";base64,\" +\n          dataURI\n        );\n      case \"pdfobjectnewwindow\":\n        if (\n          Object.prototype.toString.call(globalObject) === \"[object Window]\"\n        ) {\n          var pdfObjectUrl =\n            \"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js\";\n          var integrity =\n            ' integrity=\"sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==\" crossorigin=\"anonymous\"';\n\n          if (options.pdfObjectUrl) {\n            pdfObjectUrl = options.pdfObjectUrl;\n            integrity = \"\";\n          }\n\n          var htmlForNewWindow =\n            \"<html>\" +\n            '<style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src=\"' +\n            pdfObjectUrl +\n            '\"' +\n            integrity +\n            '></script><script >PDFObject.embed(\"' +\n            this.output(\"dataurlstring\") +\n            '\", ' +\n            JSON.stringify(options) +\n            \");</script></body></html>\";\n          var nW = globalObject.open();\n\n          if (nW !== null) {\n            nW.document.write(htmlForNewWindow);\n          }\n          return nW;\n        } else {\n          throw new Error(\n            \"The option pdfobjectnewwindow just works in a browser-environment.\"\n          );\n        }\n      case \"pdfjsnewwindow\":\n        if (\n          Object.prototype.toString.call(globalObject) === \"[object Window]\"\n        ) {\n          var pdfJsUrl = options.pdfJsUrl || \"examples/PDF.js/web/viewer.html\";\n          var htmlForPDFjsNewWindow =\n            \"<html>\" +\n            \"<style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style>\" +\n            '<body><iframe id=\"pdfViewer\" src=\"' +\n            pdfJsUrl +\n            \"?file=&downloadName=\" +\n            options.filename +\n            '\" width=\"500px\" height=\"400px\" />' +\n            \"</body></html>\";\n          var PDFjsNewWindow = globalObject.open();\n\n          if (PDFjsNewWindow !== null) {\n            PDFjsNewWindow.document.write(htmlForPDFjsNewWindow);\n            var scope = this;\n            PDFjsNewWindow.document.documentElement.querySelector(\n              \"#pdfViewer\"\n            ).onload = function() {\n              PDFjsNewWindow.document.title = options.filename;\n              PDFjsNewWindow.document.documentElement\n                .querySelector(\"#pdfViewer\")\n                .contentWindow.PDFViewerApplication.open(\n                  scope.output(\"bloburl\")\n                );\n            };\n          }\n          return PDFjsNewWindow;\n        } else {\n          throw new Error(\n            \"The option pdfjsnewwindow just works in a browser-environment.\"\n          );\n        }\n      case \"dataurlnewwindow\":\n        if (\n          Object.prototype.toString.call(globalObject) === \"[object Window]\"\n        ) {\n          var htmlForDataURLNewWindow =\n            \"<html>\" +\n            \"<style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style>\" +\n            \"<body>\" +\n            '<iframe src=\"' +\n            this.output(\"datauristring\", options) +\n            '\"></iframe>' +\n            \"</body></html>\";\n          var dataURLNewWindow = globalObject.open();\n          if (dataURLNewWindow !== null) {\n            dataURLNewWindow.document.write(htmlForDataURLNewWindow);\n            dataURLNewWindow.document.title = options.filename;\n          }\n          if (dataURLNewWindow || typeof safari === \"undefined\")\n            return dataURLNewWindow;\n        } else {\n          throw new Error(\n            \"The option dataurlnewwindow just works in a browser-environment.\"\n          );\n        }\n        break;\n      case \"datauri\":\n      case \"dataurl\":\n        return (globalObject.document.location.href = this.output(\n          \"datauristring\",\n          options\n        ));\n      default:\n        return null;\n    }\n  }));\n\n  /**\n   * Used to see if a supplied hotfix was requested when the pdf instance was created.\n   * @param {string} hotfixName - The name of the hotfix to check.\n   * @returns {boolean}\n   */\n  var hasHotfix = function(hotfixName) {\n    return (\n      Array.isArray(hotfixes) === true && hotfixes.indexOf(hotfixName) > -1\n    );\n  };\n\n  switch (unit) {\n    case \"pt\":\n      scaleFactor = 1;\n      break;\n    case \"mm\":\n      scaleFactor = 72 / 25.4;\n      break;\n    case \"cm\":\n      scaleFactor = 72 / 2.54;\n      break;\n    case \"in\":\n      scaleFactor = 72;\n      break;\n    case \"px\":\n      if (hasHotfix(\"px_scaling\") == true) {\n        scaleFactor = 72 / 96;\n      } else {\n        scaleFactor = 96 / 72;\n      }\n      break;\n    case \"pc\":\n      scaleFactor = 12;\n      break;\n    case \"em\":\n      scaleFactor = 12;\n      break;\n    case \"ex\":\n      scaleFactor = 6;\n      break;\n    default:\n      if (typeof unit === \"number\") {\n        scaleFactor = unit;\n      } else {\n        throw new Error(\"Invalid unit: \" + unit);\n      }\n  }\n\n  var encryption = null;\n  setCreationDate();\n  setFileId();\n\n  var getEncryptor = function(objectId) {\n    if (encryptionOptions !== null) {\n      return encryption.encryptor(objectId, 0);\n    }\n    return function(data) {\n      return data;\n    };\n  };\n\n  //---------------------------------------\n  // Public API\n\n  var getPageInfo = (API.__private__.getPageInfo = API.getPageInfo = function(\n    pageNumberOneBased\n  ) {\n    if (isNaN(pageNumberOneBased) || pageNumberOneBased % 1 !== 0) {\n      throw new Error(\"Invalid argument passed to jsPDF.getPageInfo\");\n    }\n    var objId = pagesContext[pageNumberOneBased].objId;\n    return {\n      objId: objId,\n      pageNumber: pageNumberOneBased,\n      pageContext: pagesContext[pageNumberOneBased]\n    };\n  });\n\n  var getPageInfoByObjId = (API.__private__.getPageInfoByObjId = function(\n    objId\n  ) {\n    if (isNaN(objId) || objId % 1 !== 0) {\n      throw new Error(\"Invalid argument passed to jsPDF.getPageInfoByObjId\");\n    }\n    for (var pageNumber in pagesContext) {\n      if (pagesContext[pageNumber].objId === objId) {\n        break;\n      }\n    }\n    return getPageInfo(pageNumber);\n  });\n\n  var getCurrentPageInfo = (API.__private__.getCurrentPageInfo = API.getCurrentPageInfo = function() {\n    return {\n      objId: pagesContext[currentPage].objId,\n      pageNumber: currentPage,\n      pageContext: pagesContext[currentPage]\n    };\n  });\n\n  /**\n   * Adds (and transfers the focus to) new page to the PDF document.\n   * @param format {String/Array} The format of the new page. Can be: <ul><li>a0 - a10</li><li>b0 - b10</li><li>c0 - c10</li><li>dl</li><li>letter</li><li>government-letter</li><li>legal</li><li>junior-legal</li><li>ledger</li><li>tabloid</li><li>credit-card</li></ul><br />\n   * Default is \"a4\". If you want to use your own format just pass instead of one of the above predefined formats the size as an number-array, e.g. [595.28, 841.89]\n   * @param orientation {string} Orientation of the new page. Possible values are \"portrait\" or \"landscape\" (or shortcuts \"p\" (Default), \"l\").\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   *\n   * @memberof jsPDF#\n   * @name addPage\n   */\n  API.addPage = function() {\n    _addPage.apply(this, arguments);\n    return this;\n  };\n  /**\n   * Adds (and transfers the focus to) new page to the PDF document.\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   *\n   * @memberof jsPDF#\n   * @name setPage\n   * @param {number} page Switch the active page to the page number specified (indexed starting at 1).\n   * @example\n   * doc = jsPDF()\n   * doc.addPage()\n   * doc.addPage()\n   * doc.text('I am on page 3', 10, 10)\n   * doc.setPage(1)\n   * doc.text('I am on page 1', 10, 10)\n   */\n  API.setPage = function() {\n    _setPage.apply(this, arguments);\n    setOutputDestination.call(this, pages[currentPage]);\n    return this;\n  };\n\n  /**\n   * @name insertPage\n   * @memberof jsPDF#\n   *\n   * @function\n   * @instance\n   * @param {Object} beforePage\n   * @returns {jsPDF}\n   */\n  API.insertPage = function(beforePage) {\n    this.addPage();\n    this.movePage(currentPage, beforePage);\n    return this;\n  };\n\n  /**\n   * @name movePage\n   * @memberof jsPDF#\n   * @function\n   * @instance\n   * @param {number} targetPage\n   * @param {number} beforePage\n   * @returns {jsPDF}\n   */\n  API.movePage = function(targetPage, beforePage) {\n    var tmpPages, tmpPagesContext;\n    if (targetPage > beforePage) {\n      tmpPages = pages[targetPage];\n      tmpPagesContext = pagesContext[targetPage];\n      for (var i = targetPage; i > beforePage; i--) {\n        pages[i] = pages[i - 1];\n        pagesContext[i] = pagesContext[i - 1];\n      }\n      pages[beforePage] = tmpPages;\n      pagesContext[beforePage] = tmpPagesContext;\n      this.setPage(beforePage);\n    } else if (targetPage < beforePage) {\n      tmpPages = pages[targetPage];\n      tmpPagesContext = pagesContext[targetPage];\n      for (var j = targetPage; j < beforePage; j++) {\n        pages[j] = pages[j + 1];\n        pagesContext[j] = pagesContext[j + 1];\n      }\n      pages[beforePage] = tmpPages;\n      pagesContext[beforePage] = tmpPagesContext;\n      this.setPage(beforePage);\n    }\n    return this;\n  };\n\n  /**\n   * Deletes a page from the PDF.\n   * @name deletePage\n   * @memberof jsPDF#\n   * @function\n   * @param {number} targetPage\n   * @instance\n   * @returns {jsPDF}\n   */\n  API.deletePage = function() {\n    _deletePage.apply(this, arguments);\n    return this;\n  };\n\n  /**\n   * Adds text to page. Supports adding multiline text when 'text' argument is an Array of Strings.\n   *\n   * @function\n   * @instance\n   * @param {String|Array} text String or array of strings to be added to the page. Each line is shifted one line down per font, spacing settings declared before this call.\n   * @param {number} x Coordinate (in units declared at inception of PDF document) against left edge of the page.\n   * @param {number} y Coordinate (in units declared at inception of PDF document) against upper edge of the page.\n   * @param {Object} [options] - Collection of settings signaling how the text must be encoded.\n   * @param {string} [options.align=left] - The alignment of the text, possible values: left, center, right, justify.\n   * @param {string} [options.baseline=alphabetic] - Sets text baseline used when drawing the text, possible values: alphabetic, ideographic, bottom, top, middle, hanging\n   * @param {number|Matrix} [options.angle=0] - Rotate the text clockwise or counterclockwise. Expects the angle in degree.\n   * @param {number} [options.rotationDirection=1] - Direction of the rotation. 0 = clockwise, 1 = counterclockwise.\n   * @param {number} [options.charSpace=0] - The space between each letter.\n   * @param {number} [options.horizontalScale=1] - Horizontal scale of the text as a factor of the regular size.\n   * @param {number} [options.lineHeightFactor=1.15] - The lineheight of each line.\n   * @param {Object} [options.flags] - Flags for to8bitStream.\n   * @param {boolean} [options.flags.noBOM=true] - Don't add BOM to Unicode-text.\n   * @param {boolean} [options.flags.autoencode=true] - Autoencode the Text.\n   * @param {number} [options.maxWidth=0] - Split the text by given width, 0 = no split.\n   * @param {string} [options.renderingMode=fill] - Set how the text should be rendered, possible values: fill, stroke, fillThenStroke, invisible, fillAndAddForClipping, strokeAndAddPathForClipping, fillThenStrokeAndAddToPathForClipping, addToPathForClipping.\n   * @param {boolean} [options.isInputVisual] - Option for the BidiEngine\n   * @param {boolean} [options.isOutputVisual] - Option for the BidiEngine\n   * @param {boolean} [options.isInputRtl] - Option for the BidiEngine\n   * @param {boolean} [options.isOutputRtl] - Option for the BidiEngine\n   * @param {boolean} [options.isSymmetricSwapping] - Option for the BidiEngine\n   * @param {number|Matrix} transform If transform is a number the text will be rotated by this value around the anchor set by x and y.\n   *\n   * If it is a Matrix, this matrix gets directly applied to the text, which allows shearing\n   * effects etc.; the x and y offsets are then applied AFTER the coordinate system has been established by this\n   * matrix. This means passing a rotation matrix that is equivalent to some rotation angle will in general yield a\n   * DIFFERENT result. A matrix is only allowed in \"advanced\" API mode.\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name text\n   */\n  API.__private__.text = API.text = function(text, x, y, options, transform) {\n    /*\n     * Inserts something like this into PDF\n     *   BT\n     *    /F1 16 Tf  % Font name + size\n     *    16 TL % How many units down for next line in multiline text\n     *    0 g % color\n     *    28.35 813.54 Td % position\n     *    (line one) Tj\n     *    T* (line two) Tj\n     *    T* (line three) Tj\n     *   ET\n     */\n    options = options || {};\n    var scope = options.scope || this;\n    var payload, da, angle, align, charSpace, maxWidth, flags, horizontalScale;\n\n    // Pre-August-2012 the order of arguments was function(x, y, text, flags)\n    // in effort to make all calls have similar signature like\n    //   function(data, coordinates... , miscellaneous)\n    // this method had its args flipped.\n    // code below allows backward compatibility with old arg order.\n    if (\n      typeof text === \"number\" &&\n      typeof x === \"number\" &&\n      (typeof y === \"string\" || Array.isArray(y))\n    ) {\n      var tmp = y;\n      y = x;\n      x = text;\n      text = tmp;\n    }\n\n    var transformationMatrix;\n\n    if (arguments[3] instanceof Matrix === false) {\n      flags = arguments[3];\n      angle = arguments[4];\n      align = arguments[5];\n\n      if (typeof flags !== \"object\" || flags === null) {\n        if (typeof angle === \"string\") {\n          align = angle;\n          angle = null;\n        }\n        if (typeof flags === \"string\") {\n          align = flags;\n          flags = null;\n        }\n        if (typeof flags === \"number\") {\n          angle = flags;\n          flags = null;\n        }\n        options = {\n          flags: flags,\n          angle: angle,\n          align: align\n        };\n      }\n    } else {\n      advancedApiModeTrap(\n        \"The transform parameter of text() with a Matrix value\"\n      );\n      transformationMatrix = transform;\n    }\n\n    if (isNaN(x) || isNaN(y) || typeof text === \"undefined\" || text === null) {\n      throw new Error(\"Invalid arguments passed to jsPDF.text\");\n    }\n\n    if (text.length === 0) {\n      return scope;\n    }\n\n    var xtra = \"\";\n    var isHex = false;\n    var lineHeight =\n      typeof options.lineHeightFactor === \"number\"\n        ? options.lineHeightFactor\n        : lineHeightFactor;\n    var scaleFactor = scope.internal.scaleFactor;\n\n    function ESC(s) {\n      s = s.split(\"\\t\").join(Array(options.TabLen || 9).join(\" \"));\n      return pdfEscape(s, flags);\n    }\n\n    function transformTextToSpecialArray(text) {\n      //we don't want to destroy original text array, so cloning it\n      var sa = text.concat();\n      var da = [];\n      var len = sa.length;\n      var curDa;\n      //we do array.join('text that must not be PDFescaped\")\n      //thus, pdfEscape each component separately\n      while (len--) {\n        curDa = sa.shift();\n        if (typeof curDa === \"string\") {\n          da.push(curDa);\n        } else {\n          if (\n            Array.isArray(text) &&\n            (curDa.length === 1 ||\n              (curDa[1] === undefined && curDa[2] === undefined))\n          ) {\n            da.push(curDa[0]);\n          } else {\n            da.push([curDa[0], curDa[1], curDa[2]]);\n          }\n        }\n      }\n      return da;\n    }\n\n    function processTextByFunction(text, processingFunction) {\n      var result;\n      if (typeof text === \"string\") {\n        result = processingFunction(text)[0];\n      } else if (Array.isArray(text)) {\n        //we don't want to destroy original text array, so cloning it\n        var sa = text.concat();\n        var da = [];\n        var len = sa.length;\n        var curDa;\n        var tmpResult;\n        //we do array.join('text that must not be PDFescaped\")\n        //thus, pdfEscape each component separately\n        while (len--) {\n          curDa = sa.shift();\n          if (typeof curDa === \"string\") {\n            da.push(processingFunction(curDa)[0]);\n          } else if (Array.isArray(curDa) && typeof curDa[0] === \"string\") {\n            tmpResult = processingFunction(curDa[0], curDa[1], curDa[2]);\n            da.push([tmpResult[0], tmpResult[1], tmpResult[2]]);\n          }\n        }\n        result = da;\n      }\n      return result;\n    }\n\n    //Check if text is of type String\n    var textIsOfTypeString = false;\n    var tmpTextIsOfTypeString = true;\n\n    if (typeof text === \"string\") {\n      textIsOfTypeString = true;\n    } else if (Array.isArray(text)) {\n      //we don't want to destroy original text array, so cloning it\n      var sa = text.concat();\n      da = [];\n      var len = sa.length;\n      var curDa;\n      //we do array.join('text that must not be PDFescaped\")\n      //thus, pdfEscape each component separately\n      while (len--) {\n        curDa = sa.shift();\n        if (\n          typeof curDa !== \"string\" ||\n          (Array.isArray(curDa) && typeof curDa[0] !== \"string\")\n        ) {\n          tmpTextIsOfTypeString = false;\n        }\n      }\n      textIsOfTypeString = tmpTextIsOfTypeString;\n    }\n    if (textIsOfTypeString === false) {\n      throw new Error(\n        'Type of text must be string or Array. \"' +\n          text +\n          '\" is not recognized.'\n      );\n    }\n\n    //If there are any newlines in text, we assume\n    //the user wanted to print multiple lines, so break the\n    //text up into an array. If the text is already an array,\n    //we assume the user knows what they are doing.\n    //Convert text into an array anyway to simplify\n    //later code.\n\n    if (typeof text === \"string\") {\n      if (text.match(/[\\r?\\n]/)) {\n        text = text.split(/\\r\\n|\\r|\\n/g);\n      } else {\n        text = [text];\n      }\n    }\n\n    //baseline\n    var height = activeFontSize / scope.internal.scaleFactor;\n    var descent = height * (lineHeight - 1);\n\n    switch (options.baseline) {\n      case \"bottom\":\n        y -= descent;\n        break;\n      case \"top\":\n        y += height - descent;\n        break;\n      case \"hanging\":\n        y += height - 2 * descent;\n        break;\n      case \"middle\":\n        y += height / 2 - descent;\n        break;\n      case \"ideographic\":\n      case \"alphabetic\":\n      default:\n        // do nothing, everything is fine\n        break;\n    }\n\n    //multiline\n    maxWidth = options.maxWidth || 0;\n\n    if (maxWidth > 0) {\n      if (typeof text === \"string\") {\n        text = scope.splitTextToSize(text, maxWidth);\n      } else if (Object.prototype.toString.call(text) === \"[object Array]\") {\n        text = text.reduce(function(acc, textLine) {\n          return acc.concat(scope.splitTextToSize(textLine, maxWidth));\n        }, []);\n      }\n    }\n\n    //creating Payload-Object to make text byRef\n    payload = {\n      text: text,\n      x: x,\n      y: y,\n      options: options,\n      mutex: {\n        pdfEscape: pdfEscape,\n        activeFontKey: activeFontKey,\n        fonts: fonts,\n        activeFontSize: activeFontSize\n      }\n    };\n    events.publish(\"preProcessText\", payload);\n\n    text = payload.text;\n    options = payload.options;\n\n    //angle\n    angle = options.angle;\n\n    if (\n      transformationMatrix instanceof Matrix === false &&\n      angle &&\n      typeof angle === \"number\"\n    ) {\n      angle *= Math.PI / 180;\n\n      if (options.rotationDirection === 0) {\n        angle = -angle;\n      }\n\n      if (apiMode === ApiMode.ADVANCED) {\n        angle = -angle;\n      }\n\n      var c = Math.cos(angle);\n      var s = Math.sin(angle);\n      transformationMatrix = new Matrix(c, s, -s, c, 0, 0);\n    } else if (angle && angle instanceof Matrix) {\n      transformationMatrix = angle;\n    }\n\n    if (apiMode === ApiMode.ADVANCED && !transformationMatrix) {\n      transformationMatrix = identityMatrix;\n    }\n\n    //charSpace\n\n    charSpace = options.charSpace || activeCharSpace;\n\n    if (typeof charSpace !== \"undefined\") {\n      xtra += hpf(scale(charSpace)) + \" Tc\\n\";\n      this.setCharSpace(this.getCharSpace() || 0);\n    }\n\n    horizontalScale = options.horizontalScale;\n    if (typeof horizontalScale !== \"undefined\") {\n      xtra += hpf(horizontalScale * 100) + \" Tz\\n\";\n    }\n\n    //lang\n\n    var lang = options.lang;\n\n    if (lang) {\n      //    xtra += \"/Lang (\" + lang +\")\\n\";\n    }\n\n    //renderingMode\n    var renderingMode = -1;\n    var parmRenderingMode =\n      typeof options.renderingMode !== \"undefined\"\n        ? options.renderingMode\n        : options.stroke;\n    var pageContext = scope.internal.getCurrentPageInfo().pageContext;\n\n    switch (parmRenderingMode) {\n      case 0:\n      case false:\n      case \"fill\":\n        renderingMode = 0;\n        break;\n      case 1:\n      case true:\n      case \"stroke\":\n        renderingMode = 1;\n        break;\n      case 2:\n      case \"fillThenStroke\":\n        renderingMode = 2;\n        break;\n      case 3:\n      case \"invisible\":\n        renderingMode = 3;\n        break;\n      case 4:\n      case \"fillAndAddForClipping\":\n        renderingMode = 4;\n        break;\n      case 5:\n      case \"strokeAndAddPathForClipping\":\n        renderingMode = 5;\n        break;\n      case 6:\n      case \"fillThenStrokeAndAddToPathForClipping\":\n        renderingMode = 6;\n        break;\n      case 7:\n      case \"addToPathForClipping\":\n        renderingMode = 7;\n        break;\n    }\n\n    var usedRenderingMode =\n      typeof pageContext.usedRenderingMode !== \"undefined\"\n        ? pageContext.usedRenderingMode\n        : -1;\n\n    //if the coder wrote it explicitly to use a specific\n    //renderingMode, then use it\n    if (renderingMode !== -1) {\n      xtra += renderingMode + \" Tr\\n\";\n      //otherwise check if we used the rendering Mode already\n      //if so then set the rendering Mode...\n    } else if (usedRenderingMode !== -1) {\n      xtra += \"0 Tr\\n\";\n    }\n\n    if (renderingMode !== -1) {\n      pageContext.usedRenderingMode = renderingMode;\n    }\n\n    //align\n    align = options.align || \"left\";\n    var leading = activeFontSize * lineHeight;\n    var pageWidth = scope.internal.pageSize.getWidth();\n    var activeFont = fonts[activeFontKey];\n    charSpace = options.charSpace || activeCharSpace;\n    maxWidth = options.maxWidth || 0;\n\n    var lineWidths;\n    flags = Object.assign({ autoencode: true, noBOM: true }, options.flags);\n\n    var wordSpacingPerLine = [];\n\n    if (Object.prototype.toString.call(text) === \"[object Array]\") {\n      da = transformTextToSpecialArray(text);\n      var newY;\n      if (align !== \"left\") {\n        lineWidths = da.map(function(v) {\n          return (\n            (scope.getStringUnitWidth(v, {\n              font: activeFont,\n              charSpace: charSpace,\n              fontSize: activeFontSize,\n              doKerning: false\n            }) *\n              activeFontSize) /\n            scaleFactor\n          );\n        });\n      }\n      //The first line uses the \"main\" Td setting,\n      //and the subsequent lines are offset by the\n      //previous line's x coordinate.\n      var prevWidth = 0;\n      var newX;\n      if (align === \"right\") {\n        //The passed in x coordinate defines the\n        //rightmost point of the text.\n        x -= lineWidths[0];\n        text = [];\n        len = da.length;\n        for (var i = 0; i < len; i++) {\n          if (i === 0) {\n            newX = getHorizontalCoordinate(x);\n            newY = getVerticalCoordinate(y);\n          } else {\n            newX = scale(prevWidth - lineWidths[i]);\n            newY = -leading;\n          }\n          text.push([da[i], newX, newY]);\n          prevWidth = lineWidths[i];\n        }\n      } else if (align === \"center\") {\n        //The passed in x coordinate defines\n        //the center point.\n        x -= lineWidths[0] / 2;\n        text = [];\n        len = da.length;\n        for (var j = 0; j < len; j++) {\n          if (j === 0) {\n            newX = getHorizontalCoordinate(x);\n            newY = getVerticalCoordinate(y);\n          } else {\n            newX = scale((prevWidth - lineWidths[j]) / 2);\n            newY = -leading;\n          }\n          text.push([da[j], newX, newY]);\n          prevWidth = lineWidths[j];\n        }\n      } else if (align === \"left\") {\n        text = [];\n        len = da.length;\n        for (var h = 0; h < len; h++) {\n          text.push(da[h]);\n        }\n      } else if (align === \"justify\") {\n        text = [];\n        len = da.length;\n        maxWidth = maxWidth !== 0 ? maxWidth : pageWidth;\n\n        for (var l = 0; l < len; l++) {\n          newY = l === 0 ? getVerticalCoordinate(y) : -leading;\n          newX = l === 0 ? getHorizontalCoordinate(x) : 0;\n          if (l < len - 1) {\n            wordSpacingPerLine.push(\n              hpf(\n                scale(\n                  (maxWidth - lineWidths[l]) / (da[l].split(\" \").length - 1)\n                )\n              )\n            );\n          } else {\n            wordSpacingPerLine.push(0);\n          }\n          text.push([da[l], newX, newY]);\n        }\n      } else {\n        throw new Error(\n          'Unrecognized alignment option, use \"left\", \"center\", \"right\" or \"justify\".'\n        );\n      }\n    }\n\n    //R2L\n    var doReversing = typeof options.R2L === \"boolean\" ? options.R2L : R2L;\n    if (doReversing === true) {\n      text = processTextByFunction(text, function(text, posX, posY) {\n        return [\n          text\n            .split(\"\")\n            .reverse()\n            .join(\"\"),\n          posX,\n          posY\n        ];\n      });\n    }\n\n    //creating Payload-Object to make text byRef\n    payload = {\n      text: text,\n      x: x,\n      y: y,\n      options: options,\n      mutex: {\n        pdfEscape: pdfEscape,\n        activeFontKey: activeFontKey,\n        fonts: fonts,\n        activeFontSize: activeFontSize\n      }\n    };\n    events.publish(\"postProcessText\", payload);\n\n    text = payload.text;\n    isHex = payload.mutex.isHex || false;\n\n    //Escaping\n    var activeFontEncoding = fonts[activeFontKey].encoding;\n\n    if (\n      activeFontEncoding === \"WinAnsiEncoding\" ||\n      activeFontEncoding === \"StandardEncoding\"\n    ) {\n      text = processTextByFunction(text, function(text, posX, posY) {\n        return [ESC(text), posX, posY];\n      });\n    }\n\n    da = transformTextToSpecialArray(text);\n\n    text = [];\n    var STRING = 0;\n    var ARRAY = 1;\n    var variant = Array.isArray(da[0]) ? ARRAY : STRING;\n    var posX;\n    var posY;\n    var content;\n    var wordSpacing = \"\";\n\n    var generatePosition = function(\n      parmPosX,\n      parmPosY,\n      parmTransformationMatrix\n    ) {\n      var position = \"\";\n      if (parmTransformationMatrix instanceof Matrix) {\n        // It is kind of more intuitive to apply a plain rotation around the text anchor set by x and y\n        // but when the user supplies an arbitrary transformation matrix, the x and y offsets should be applied\n        // in the coordinate system established by this matrix\n        if (typeof options.angle === \"number\") {\n          parmTransformationMatrix = matrixMult(\n            parmTransformationMatrix,\n            new Matrix(1, 0, 0, 1, parmPosX, parmPosY)\n          );\n        } else {\n          parmTransformationMatrix = matrixMult(\n            new Matrix(1, 0, 0, 1, parmPosX, parmPosY),\n            parmTransformationMatrix\n          );\n        }\n\n        if (apiMode === ApiMode.ADVANCED) {\n          parmTransformationMatrix = matrixMult(\n            new Matrix(1, 0, 0, -1, 0, 0),\n            parmTransformationMatrix\n          );\n        }\n\n        position = parmTransformationMatrix.join(\" \") + \" Tm\\n\";\n      } else {\n        position = hpf(parmPosX) + \" \" + hpf(parmPosY) + \" Td\\n\";\n      }\n      return position;\n    };\n\n    for (var lineIndex = 0; lineIndex < da.length; lineIndex++) {\n      wordSpacing = \"\";\n\n      switch (variant) {\n        case ARRAY:\n          content =\n            (isHex ? \"<\" : \"(\") + da[lineIndex][0] + (isHex ? \">\" : \")\");\n          posX = parseFloat(da[lineIndex][1]);\n          posY = parseFloat(da[lineIndex][2]);\n          break;\n        case STRING:\n          content = (isHex ? \"<\" : \"(\") + da[lineIndex] + (isHex ? \">\" : \")\");\n          posX = getHorizontalCoordinate(x);\n          posY = getVerticalCoordinate(y);\n          break;\n      }\n\n      if (\n        typeof wordSpacingPerLine !== \"undefined\" &&\n        typeof wordSpacingPerLine[lineIndex] !== \"undefined\"\n      ) {\n        wordSpacing = wordSpacingPerLine[lineIndex] + \" Tw\\n\";\n      }\n\n      if (lineIndex === 0) {\n        text.push(\n          wordSpacing +\n            generatePosition(posX, posY, transformationMatrix) +\n            content\n        );\n      } else if (variant === STRING) {\n        text.push(wordSpacing + content);\n      } else if (variant === ARRAY) {\n        text.push(\n          wordSpacing +\n            generatePosition(posX, posY, transformationMatrix) +\n            content\n        );\n      }\n    }\n\n    text = variant === STRING ? text.join(\" Tj\\nT* \") : text.join(\" Tj\\n\");\n    text += \" Tj\\n\";\n\n    var result = \"BT\\n/\";\n    result += activeFontKey + \" \" + activeFontSize + \" Tf\\n\"; // font face, style, size\n    result += hpf(activeFontSize * lineHeight) + \" TL\\n\"; // line spacing\n    result += textColor + \"\\n\";\n    result += xtra;\n    result += text;\n    result += \"ET\";\n\n    out(result);\n    usedFonts[activeFontKey] = true;\n    return scope;\n  };\n\n  // PDF supports these path painting and clip path operators:\n  //\n  // S - stroke\n  // s - close/stroke\n  // f (F) - fill non-zero\n  // f* - fill evenodd\n  // B - fill stroke nonzero\n  // B* - fill stroke evenodd\n  // b - close fill stroke nonzero\n  // b* - close fill stroke evenodd\n  // n - nothing (consume path)\n  // W - clip nonzero\n  // W* - clip evenodd\n  //\n  // In order to keep the API small, we omit the close-and-fill/stroke operators and provide a separate close()\n  // method.\n  /**\n   *\n   * @name clip\n   * @function\n   * @instance\n   * @param {string} rule Only possible value is 'evenodd'\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @description All .clip() after calling drawing ops with a style argument of null.\n   */\n  var clip = (API.__private__.clip = API.clip = function(rule) {\n    // Call .clip() after calling drawing ops with a style argument of null\n    // W is the PDF clipping op\n    if (\"evenodd\" === rule) {\n      out(\"W*\");\n    } else {\n      out(\"W\");\n    }\n    return this;\n  });\n\n  /**\n   * @name clipEvenOdd\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @description Modify the current clip path by intersecting it with the current path using the even-odd rule. Note\n   * that this will NOT consume the current path. In order to only use this path for clipping call\n   * {@link API.discardPath} afterwards.\n   */\n  API.clipEvenOdd = function() {\n    return clip(\"evenodd\");\n  };\n\n  /**\n   * Consumes the current path without any effect. Mainly used in combination with {@link clip} or\n   * {@link clipEvenOdd}. The PDF \"n\" operator.\n   * @name discardPath\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   */\n  API.__private__.discardPath = API.discardPath = function() {\n    out(\"n\");\n    return this;\n  };\n\n  var isValidStyle = (API.__private__.isValidStyle = function(style) {\n    var validStyleVariants = [\n      undefined,\n      null,\n      \"S\",\n      \"D\",\n      \"F\",\n      \"DF\",\n      \"FD\",\n      \"f\",\n      \"f*\",\n      \"B\",\n      \"B*\",\n      \"n\"\n    ];\n    var result = false;\n    if (validStyleVariants.indexOf(style) !== -1) {\n      result = true;\n    }\n    return result;\n  });\n\n  API.__private__.setDefaultPathOperation = API.setDefaultPathOperation = function(\n    operator\n  ) {\n    if (isValidStyle(operator)) {\n      defaultPathOperation = operator;\n    }\n    return this;\n  };\n\n  var getStyle = (API.__private__.getStyle = API.getStyle = function(style) {\n    // see path-painting operators in PDF spec\n    var op = defaultPathOperation; // stroke\n\n    switch (style) {\n      case \"D\":\n      case \"S\":\n        op = \"S\"; // stroke\n        break;\n      case \"F\":\n        op = \"f\"; // fill\n        break;\n      case \"FD\":\n      case \"DF\":\n        op = \"B\";\n        break;\n      case \"f\":\n      case \"f*\":\n      case \"B\":\n      case \"B*\":\n        /*\n               Allow direct use of these PDF path-painting operators:\n               - f    fill using nonzero winding number rule\n               - f*    fill using even-odd rule\n               - B    fill then stroke with fill using non-zero winding number rule\n               - B*    fill then stroke with fill using even-odd rule\n               */\n        op = style;\n        break;\n    }\n    return op;\n  });\n\n  /**\n   * Close the current path. The PDF \"h\" operator.\n   * @name close\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   */\n  var close = (API.close = function() {\n    out(\"h\");\n    return this;\n  });\n\n  /**\n   * Stroke the path. The PDF \"S\" operator.\n   * @name stroke\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   */\n  API.stroke = function() {\n    out(\"S\");\n    return this;\n  };\n\n  /**\n   * Fill the current path using the nonzero winding number rule. If a pattern is provided, the path will be filled\n   * with this pattern, otherwise with the current fill color. Equivalent to the PDF \"f\" operator.\n   * @name fill\n   * @function\n   * @instance\n   * @param {PatternData=} pattern If provided the path will be filled with this pattern\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   */\n  API.fill = function(pattern) {\n    fillWithOptionalPattern(\"f\", pattern);\n    return this;\n  };\n\n  /**\n   * Fill the current path using the even-odd rule. The PDF f* operator.\n   * @see API.fill\n   * @name fillEvenOdd\n   * @function\n   * @instance\n   * @param {PatternData=} pattern If provided the path will be filled with this pattern\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   */\n  API.fillEvenOdd = function(pattern) {\n    fillWithOptionalPattern(\"f*\", pattern);\n    return this;\n  };\n\n  /**\n   * Fill using the nonzero winding number rule and then stroke the current Path. The PDF \"B\" operator.\n   * @see API.fill\n   * @name fillStroke\n   * @function\n   * @instance\n   * @param {PatternData=} pattern If provided the path will be stroked with this pattern\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   */\n  API.fillStroke = function(pattern) {\n    fillWithOptionalPattern(\"B\", pattern);\n    return this;\n  };\n\n  /**\n   * Fill using the even-odd rule and then stroke the current Path. The PDF \"B\" operator.\n   * @see API.fill\n   * @name fillStrokeEvenOdd\n   * @function\n   * @instance\n   * @param {PatternData=} pattern If provided the path will be fill-stroked with this pattern\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   */\n  API.fillStrokeEvenOdd = function(pattern) {\n    fillWithOptionalPattern(\"B*\", pattern);\n    return this;\n  };\n\n  var fillWithOptionalPattern = function(style, pattern) {\n    if (typeof pattern === \"object\") {\n      fillWithPattern(pattern, style);\n    } else {\n      out(style);\n    }\n  };\n\n  var putStyle = function(style) {\n    if (\n      style === null ||\n      (apiMode === ApiMode.ADVANCED && style === undefined)\n    ) {\n      return;\n    }\n\n    style = getStyle(style);\n\n    // stroking / filling / both the path\n    out(style);\n  };\n\n  function cloneTilingPattern(patternKey, boundingBox, xStep, yStep, matrix) {\n    var clone = new TilingPattern(\n      boundingBox || this.boundingBox,\n      xStep || this.xStep,\n      yStep || this.yStep,\n      this.gState,\n      matrix || this.matrix\n    );\n    clone.stream = this.stream;\n    var key = patternKey + \"$$\" + this.cloneIndex++ + \"$$\";\n    addPattern(key, clone);\n    return clone;\n  }\n\n  var fillWithPattern = function(patternData, style) {\n    var patternId = patternMap[patternData.key];\n    var pattern = patterns[patternId];\n\n    if (pattern instanceof ShadingPattern) {\n      out(\"q\");\n\n      out(clipRuleFromStyle(style));\n\n      if (pattern.gState) {\n        API.setGState(pattern.gState);\n      }\n      out(patternData.matrix.toString() + \" cm\");\n      out(\"/\" + patternId + \" sh\");\n      out(\"Q\");\n    } else if (pattern instanceof TilingPattern) {\n      // pdf draws patterns starting at the bottom left corner and they are not affected by the global transformation,\n      // so we must flip them\n      var matrix = new Matrix(1, 0, 0, -1, 0, getPageHeight());\n\n      if (patternData.matrix) {\n        matrix = matrix.multiply(patternData.matrix || identityMatrix);\n        // we cannot apply a matrix to the pattern on use so we must abuse the pattern matrix and create new instances\n        // for each use\n        patternId = cloneTilingPattern.call(\n          pattern,\n          patternData.key,\n          patternData.boundingBox,\n          patternData.xStep,\n          patternData.yStep,\n          matrix\n        ).id;\n      }\n\n      out(\"q\");\n      out(\"/Pattern cs\");\n      out(\"/\" + patternId + \" scn\");\n\n      if (pattern.gState) {\n        API.setGState(pattern.gState);\n      }\n\n      out(style);\n      out(\"Q\");\n    }\n  };\n\n  var clipRuleFromStyle = function(style) {\n    switch (style) {\n      case \"f\":\n      case \"F\":\n        return \"W n\";\n      case \"f*\":\n        return \"W* n\";\n      case \"B\":\n        return \"W S\";\n      case \"B*\":\n        return \"W* S\";\n\n      // these two are for compatibility reasons (in the past, calling any primitive method with a shading pattern\n      // and \"n\"/\"S\" as style would still fill/fill and stroke the path)\n      case \"S\":\n        return \"W S\";\n      case \"n\":\n        return \"W n\";\n    }\n  };\n\n  /**\n   * Begin a new subpath by moving the current point to coordinates (x, y). The PDF \"m\" operator.\n   * @param {number} x\n   * @param {number} y\n   * @name moveTo\n   * @function\n   * @instance\n   * @memberof jsPDF#\n   * @returns {jsPDF}\n   */\n  var moveTo = (API.moveTo = function(x, y) {\n    out(hpf(scale(x)) + \" \" + hpf(transformScaleY(y)) + \" m\");\n    return this;\n  });\n\n  /**\n   * Append a straight line segment from the current point to the point (x, y). The PDF \"l\" operator.\n   * @param {number} x\n   * @param {number} y\n   * @memberof jsPDF#\n   * @name lineTo\n   * @function\n   * @instance\n   * @memberof jsPDF#\n   * @returns {jsPDF}\n   */\n  var lineTo = (API.lineTo = function(x, y) {\n    out(hpf(scale(x)) + \" \" + hpf(transformScaleY(y)) + \" l\");\n    return this;\n  });\n\n  /**\n   * Append a cubic Bézier curve to the current path. The curve shall extend from the current point to the point\n   * (x3, y3), using (x1, y1) and (x2, y2) as Bézier control points. The new current point shall be (x3, x3).\n   * @param {number} x1\n   * @param {number} y1\n   * @param {number} x2\n   * @param {number} y2\n   * @param {number} x3\n   * @param {number} y3\n   * @memberof jsPDF#\n   * @name curveTo\n   * @function\n   * @instance\n   * @memberof jsPDF#\n   * @returns {jsPDF}\n   */\n  var curveTo = (API.curveTo = function(x1, y1, x2, y2, x3, y3) {\n    out(\n      [\n        hpf(scale(x1)),\n        hpf(transformScaleY(y1)),\n        hpf(scale(x2)),\n        hpf(transformScaleY(y2)),\n        hpf(scale(x3)),\n        hpf(transformScaleY(y3)),\n        \"c\"\n      ].join(\" \")\n    );\n    return this;\n  });\n\n  /**\n   * Draw a line on the current page.\n   *\n   * @name line\n   * @function\n   * @instance\n   * @param {number} x1\n   * @param {number} y1\n   * @param {number} x2\n   * @param {number} y2\n   * @param {string} style A string specifying the painting style or null.  Valid styles include: 'S' [default] - stroke, 'F' - fill,  and 'DF' (or 'FD') -  fill then stroke. A null value postpones setting the style so that a shape may be composed using multiple method calls. The last drawing method call used to define the shape should not have a null style argument. default: 'S'\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   */\n  API.__private__.line = API.line = function(x1, y1, x2, y2, style) {\n    if (\n      isNaN(x1) ||\n      isNaN(y1) ||\n      isNaN(x2) ||\n      isNaN(y2) ||\n      !isValidStyle(style)\n    ) {\n      throw new Error(\"Invalid arguments passed to jsPDF.line\");\n    }\n    if (apiMode === ApiMode.COMPAT) {\n      return this.lines([[x2 - x1, y2 - y1]], x1, y1, [1, 1], style || \"S\");\n    } else {\n      return this.lines([[x2 - x1, y2 - y1]], x1, y1, [1, 1]).stroke();\n    }\n  };\n\n  /**\n   * @typedef {Object} PatternData\n   * {Matrix|undefined} matrix\n   * {Number|undefined} xStep\n   * {Number|undefined} yStep\n   * {Array.<Number>|undefined} boundingBox\n   */\n\n  /**\n   * Adds series of curves (straight lines or cubic bezier curves) to canvas, starting at `x`, `y` coordinates.\n   * All data points in `lines` are relative to last line origin.\n   * `x`, `y` become x1,y1 for first line / curve in the set.\n   * For lines you only need to specify [x2, y2] - (ending point) vector against x1, y1 starting point.\n   * For bezier curves you need to specify [x2,y2,x3,y3,x4,y4] - vectors to control points 1, 2, ending point. All vectors are against the start of the curve - x1,y1.\n   *\n   * @example .lines([[2,2],[-2,2],[1,1,2,2,3,3],[2,1]], 212,110, [1,1], 'F', false) // line, line, bezier curve, line\n   * @param {Array} lines Array of *vector* shifts as pairs (lines) or sextets (cubic bezier curves).\n   * @param {number} x Coordinate (in units declared at inception of PDF document) against left edge of the page\n   * @param {number} y Coordinate (in units declared at inception of PDF document) against upper edge of the page\n   * @param {number} scale (Defaults to [1.0,1.0]) x,y Scaling factor for all vectors. Elements can be any floating number Sub-one makes drawing smaller. Over-one grows the drawing. Negative flips the direction.\n   * @param {string=} style A string specifying the painting style or null. Valid styles include:\n   * 'S' [default] - stroke,\n   * 'F' - fill,\n   * and 'DF' (or 'FD') -  fill then stroke.\n   * In \"compat\" API mode, a null value postpones setting the style so that a shape may be composed using multiple\n   * method calls. The last drawing method call used to define the shape should not have a null style argument.\n   *\n   * In \"advanced\" API mode this parameter is deprecated.\n   * @param {Boolean=} closed If true, the path is closed with a straight line from the end of the last curve to the starting point.\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name lines\n   */\n  API.__private__.lines = API.lines = function(\n    lines,\n    x,\n    y,\n    scale,\n    style,\n    closed\n  ) {\n    var scalex, scaley, i, l, leg, x2, y2, x3, y3, x4, y4, tmp;\n\n    // Pre-August-2012 the order of arguments was function(x, y, lines, scale, style)\n    // in effort to make all calls have similar signature like\n    //   function(content, coordinateX, coordinateY , miscellaneous)\n    // this method had its args flipped.\n    // code below allows backward compatibility with old arg order.\n    if (typeof lines === \"number\") {\n      tmp = y;\n      y = x;\n      x = lines;\n      lines = tmp;\n    }\n\n    scale = scale || [1, 1];\n    closed = closed || false;\n\n    if (\n      isNaN(x) ||\n      isNaN(y) ||\n      !Array.isArray(lines) ||\n      !Array.isArray(scale) ||\n      !isValidStyle(style) ||\n      typeof closed !== \"boolean\"\n    ) {\n      throw new Error(\"Invalid arguments passed to jsPDF.lines\");\n    }\n\n    // starting point\n    moveTo(x, y);\n\n    scalex = scale[0];\n    scaley = scale[1];\n    l = lines.length;\n    //, x2, y2 // bezier only. In page default measurement \"units\", *after* scaling\n    //, x3, y3 // bezier only. In page default measurement \"units\", *after* scaling\n    // ending point for all, lines and bezier. . In page default measurement \"units\", *after* scaling\n    x4 = x; // last / ending point = starting point for first item.\n    y4 = y; // last / ending point = starting point for first item.\n\n    for (i = 0; i < l; i++) {\n      leg = lines[i];\n      if (leg.length === 2) {\n        // simple line\n        x4 = leg[0] * scalex + x4; // here last x4 was prior ending point\n        y4 = leg[1] * scaley + y4; // here last y4 was prior ending point\n        lineTo(x4, y4);\n      } else {\n        // bezier curve\n        x2 = leg[0] * scalex + x4; // here last x4 is prior ending point\n        y2 = leg[1] * scaley + y4; // here last y4 is prior ending point\n        x3 = leg[2] * scalex + x4; // here last x4 is prior ending point\n        y3 = leg[3] * scaley + y4; // here last y4 is prior ending point\n        x4 = leg[4] * scalex + x4; // here last x4 was prior ending point\n        y4 = leg[5] * scaley + y4; // here last y4 was prior ending point\n        curveTo(x2, y2, x3, y3, x4, y4);\n      }\n    }\n\n    if (closed) {\n      close();\n    }\n\n    putStyle(style);\n    return this;\n  };\n\n  /**\n   * Similar to {@link API.lines} but all coordinates are interpreted as absolute coordinates instead of relative.\n   * @param {Array<Object>} lines An array of {op: operator, c: coordinates} object, where op is one of \"m\" (move to), \"l\" (line to)\n   * \"c\" (cubic bezier curve) and \"h\" (close (sub)path)). c is an array of coordinates. \"m\" and \"l\" expect two, \"c\"\n   * six and \"h\" an empty array (or undefined).\n   * @function\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name path\n   */\n  API.path = function(lines) {\n    for (var i = 0; i < lines.length; i++) {\n      var leg = lines[i];\n      var coords = leg.c;\n      switch (leg.op) {\n        case \"m\":\n          moveTo(coords[0], coords[1]);\n          break;\n        case \"l\":\n          lineTo(coords[0], coords[1]);\n          break;\n        case \"c\":\n          curveTo.apply(this, coords);\n          break;\n        case \"h\":\n          close();\n          break;\n      }\n    }\n\n    return this;\n  };\n\n  /**\n   * Adds a rectangle to PDF.\n   *\n   * @param {number} x Coordinate (in units declared at inception of PDF document) against left edge of the page\n   * @param {number} y Coordinate (in units declared at inception of PDF document) against upper edge of the page\n   * @param {number} w Width (in units declared at inception of PDF document)\n   * @param {number} h Height (in units declared at inception of PDF document)\n   * @param {string=} style A string specifying the painting style or null. Valid styles include:\n   * 'S' [default] - stroke,\n   * 'F' - fill,\n   * and 'DF' (or 'FD') -  fill then stroke.\n   * In \"compat\" API mode, a null value postpones setting the style so that a shape may be composed using multiple\n   * method calls. The last drawing method call used to define the shape should not have a null style argument.\n   *\n   * In \"advanced\" API mode this parameter is deprecated.\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name rect\n   */\n  API.__private__.rect = API.rect = function(x, y, w, h, style) {\n    if (isNaN(x) || isNaN(y) || isNaN(w) || isNaN(h) || !isValidStyle(style)) {\n      throw new Error(\"Invalid arguments passed to jsPDF.rect\");\n    }\n    if (apiMode === ApiMode.COMPAT) {\n      h = -h;\n    }\n\n    out(\n      [\n        hpf(scale(x)),\n        hpf(transformScaleY(y)),\n        hpf(scale(w)),\n        hpf(scale(h)),\n        \"re\"\n      ].join(\" \")\n    );\n\n    putStyle(style);\n    return this;\n  };\n\n  /**\n   * Adds a triangle to PDF.\n   *\n   * @param {number} x1 Coordinate (in units declared at inception of PDF document) against left edge of the page\n   * @param {number} y1 Coordinate (in units declared at inception of PDF document) against upper edge of the page\n   * @param {number} x2 Coordinate (in units declared at inception of PDF document) against left edge of the page\n   * @param {number} y2 Coordinate (in units declared at inception of PDF document) against upper edge of the page\n   * @param {number} x3 Coordinate (in units declared at inception of PDF document) against left edge of the page\n   * @param {number} y3 Coordinate (in units declared at inception of PDF document) against upper edge of the page\n   * @param {string=} style A string specifying the painting style or null. Valid styles include:\n   * 'S' [default] - stroke,\n   * 'F' - fill,\n   * and 'DF' (or 'FD') -  fill then stroke.\n   * In \"compat\" API mode, a null value postpones setting the style so that a shape may be composed using multiple\n   * method calls. The last drawing method call used to define the shape should not have a null style argument.\n   *\n   * In \"advanced\" API mode this parameter is deprecated.\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name triangle\n   */\n  API.__private__.triangle = API.triangle = function(\n    x1,\n    y1,\n    x2,\n    y2,\n    x3,\n    y3,\n    style\n  ) {\n    if (\n      isNaN(x1) ||\n      isNaN(y1) ||\n      isNaN(x2) ||\n      isNaN(y2) ||\n      isNaN(x3) ||\n      isNaN(y3) ||\n      !isValidStyle(style)\n    ) {\n      throw new Error(\"Invalid arguments passed to jsPDF.triangle\");\n    }\n    this.lines(\n      [\n        [x2 - x1, y2 - y1], // vector to point 2\n        [x3 - x2, y3 - y2], // vector to point 3\n        [x1 - x3, y1 - y3] // closing vector back to point 1\n      ],\n      x1,\n      y1, // start of path\n      [1, 1],\n      style,\n      true\n    );\n    return this;\n  };\n\n  /**\n   * Adds a rectangle with rounded corners to PDF.\n   *\n   * @param {number} x Coordinate (in units declared at inception of PDF document) against left edge of the page\n   * @param {number} y Coordinate (in units declared at inception of PDF document) against upper edge of the page\n   * @param {number} w Width (in units declared at inception of PDF document)\n   * @param {number} h Height (in units declared at inception of PDF document)\n   * @param {number} rx Radius along x axis (in units declared at inception of PDF document)\n   * @param {number} ry Radius along y axis (in units declared at inception of PDF document)\n   * @param {string=} style A string specifying the painting style or null. Valid styles include:\n   * 'S' [default] - stroke,\n   * 'F' - fill,\n   * and 'DF' (or 'FD') -  fill then stroke.\n   * In \"compat\" API mode, a null value postpones setting the style so that a shape may be composed using multiple\n   * method calls. The last drawing method call used to define the shape should not have a null style argument.\n   *\n   * In \"advanced\" API mode this parameter is deprecated.\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name roundedRect\n   */\n  API.__private__.roundedRect = API.roundedRect = function(\n    x,\n    y,\n    w,\n    h,\n    rx,\n    ry,\n    style\n  ) {\n    if (\n      isNaN(x) ||\n      isNaN(y) ||\n      isNaN(w) ||\n      isNaN(h) ||\n      isNaN(rx) ||\n      isNaN(ry) ||\n      !isValidStyle(style)\n    ) {\n      throw new Error(\"Invalid arguments passed to jsPDF.roundedRect\");\n    }\n    var MyArc = (4 / 3) * (Math.SQRT2 - 1);\n\n    rx = Math.min(rx, w * 0.5);\n    ry = Math.min(ry, h * 0.5);\n\n    this.lines(\n      [\n        [w - 2 * rx, 0],\n        [rx * MyArc, 0, rx, ry - ry * MyArc, rx, ry],\n        [0, h - 2 * ry],\n        [0, ry * MyArc, -(rx * MyArc), ry, -rx, ry],\n        [-w + 2 * rx, 0],\n        [-(rx * MyArc), 0, -rx, -(ry * MyArc), -rx, -ry],\n        [0, -h + 2 * ry],\n        [0, -(ry * MyArc), rx * MyArc, -ry, rx, -ry]\n      ],\n      x + rx,\n      y, // start of path\n      [1, 1],\n      style,\n      true\n    );\n    return this;\n  };\n\n  /**\n   * Adds an ellipse to PDF.\n   *\n   * @param {number} x Coordinate (in units declared at inception of PDF document) against left edge of the page\n   * @param {number} y Coordinate (in units declared at inception of PDF document) against upper edge of the page\n   * @param {number} rx Radius along x axis (in units declared at inception of PDF document)\n   * @param {number} ry Radius along y axis (in units declared at inception of PDF document)\n   * @param {string=} style A string specifying the painting style or null. Valid styles include:\n   * 'S' [default] - stroke,\n   * 'F' - fill,\n   * and 'DF' (or 'FD') -  fill then stroke.\n   * In \"compat\" API mode, a null value postpones setting the style so that a shape may be composed using multiple\n   * method calls. The last drawing method call used to define the shape should not have a null style argument.\n   *\n   * In \"advanced\" API mode this parameter is deprecated.\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name ellipse\n   */\n  API.__private__.ellipse = API.ellipse = function(x, y, rx, ry, style) {\n    if (\n      isNaN(x) ||\n      isNaN(y) ||\n      isNaN(rx) ||\n      isNaN(ry) ||\n      !isValidStyle(style)\n    ) {\n      throw new Error(\"Invalid arguments passed to jsPDF.ellipse\");\n    }\n    var lx = (4 / 3) * (Math.SQRT2 - 1) * rx,\n      ly = (4 / 3) * (Math.SQRT2 - 1) * ry;\n\n    moveTo(x + rx, y);\n    curveTo(x + rx, y - ly, x + lx, y - ry, x, y - ry);\n    curveTo(x - lx, y - ry, x - rx, y - ly, x - rx, y);\n    curveTo(x - rx, y + ly, x - lx, y + ry, x, y + ry);\n    curveTo(x + lx, y + ry, x + rx, y + ly, x + rx, y);\n\n    putStyle(style);\n    return this;\n  };\n\n  /**\n   * Adds an circle to PDF.\n   *\n   * @param {number} x Coordinate (in units declared at inception of PDF document) against left edge of the page\n   * @param {number} y Coordinate (in units declared at inception of PDF document) against upper edge of the page\n   * @param {number} r Radius (in units declared at inception of PDF document)\n   * @param {string=} style A string specifying the painting style or null. Valid styles include:\n   * 'S' [default] - stroke,\n   * 'F' - fill,\n   * and 'DF' (or 'FD') -  fill then stroke.\n   * In \"compat\" API mode, a null value postpones setting the style so that a shape may be composed using multiple\n   * method calls. The last drawing method call used to define the shape should not have a null style argument.\n   *\n   * In \"advanced\" API mode this parameter is deprecated.\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name circle\n   */\n  API.__private__.circle = API.circle = function(x, y, r, style) {\n    if (isNaN(x) || isNaN(y) || isNaN(r) || !isValidStyle(style)) {\n      throw new Error(\"Invalid arguments passed to jsPDF.circle\");\n    }\n    return this.ellipse(x, y, r, r, style);\n  };\n\n  /**\n   * Sets text font face, variant for upcoming text elements.\n   * See output of jsPDF.getFontList() for possible font names, styles.\n   *\n   * @param {string} fontName Font name or family. Example: \"times\".\n   * @param {string} fontStyle Font style or variant. Example: \"italic\".\n   * @param {number | string} fontWeight Weight of the Font. Example: \"normal\" | 400\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setFont\n   */\n  API.setFont = function(fontName, fontStyle, fontWeight) {\n    if (fontWeight) {\n      fontStyle = combineFontStyleAndFontWeight(fontStyle, fontWeight);\n    }\n    activeFontKey = getFont(fontName, fontStyle, {\n      disableWarning: false\n    });\n    return this;\n  };\n\n  /**\n   * Gets text font face, variant for upcoming text elements.\n   *\n   * @function\n   * @instance\n   * @returns {Object}\n   * @memberof jsPDF#\n   * @name getFont\n   */\n  var getFontEntry = (API.__private__.getFont = API.getFont = function() {\n    return fonts[getFont.apply(API, arguments)];\n  });\n\n  /**\n   * Returns an object - a tree of fontName to fontStyle relationships available to\n   * active PDF document.\n   *\n   * @public\n   * @function\n   * @instance\n   * @returns {Object} Like {'times':['normal', 'italic', ... ], 'arial':['normal', 'bold', ... ], ... }\n   * @memberof jsPDF#\n   * @name getFontList\n   */\n  API.__private__.getFontList = API.getFontList = function() {\n    var list = {},\n      fontName,\n      fontStyle;\n\n    for (fontName in fontmap) {\n      if (fontmap.hasOwnProperty(fontName)) {\n        list[fontName] = [];\n        for (fontStyle in fontmap[fontName]) {\n          if (fontmap[fontName].hasOwnProperty(fontStyle)) {\n            list[fontName].push(fontStyle);\n          }\n        }\n      }\n    }\n    return list;\n  };\n\n  /**\n   * Add a custom font to the current instance.\n   *\n   * @param {string} postScriptName PDF specification full name for the font.\n   * @param {string} id PDF-document-instance-specific label assinged to the font.\n   * @param {string} fontStyle Style of the Font.\n   * @param {number | string} fontWeight Weight of the Font.\n   * @param {Object} encoding Encoding_name-to-Font_metrics_object mapping.\n   * @function\n   * @instance\n   * @memberof jsPDF#\n   * @name addFont\n   * @returns {string} fontId\n   */\n  API.addFont = function(\n    postScriptName,\n    fontName,\n    fontStyle,\n    fontWeight,\n    encoding\n  ) {\n    var encodingOptions = [\n      \"StandardEncoding\",\n      \"MacRomanEncoding\",\n      \"Identity-H\",\n      \"WinAnsiEncoding\"\n    ];\n    if (arguments[3] && encodingOptions.indexOf(arguments[3]) !== -1) {\n      //IE 11 fix\n      encoding = arguments[3];\n    } else if (arguments[3] && encodingOptions.indexOf(arguments[3]) == -1) {\n      fontStyle = combineFontStyleAndFontWeight(fontStyle, fontWeight);\n    }\n    encoding = encoding || \"Identity-H\";\n    return addFont.call(this, postScriptName, fontName, fontStyle, encoding);\n  };\n\n  var lineWidth = options.lineWidth || 0.200025; // 2mm\n  /**\n   * Gets the line width, default: 0.200025.\n   *\n   * @function\n   * @instance\n   * @returns {number} lineWidth\n   * @memberof jsPDF#\n   * @name getLineWidth\n   */\n  var getLineWidth = (API.__private__.getLineWidth = API.getLineWidth = function() {\n    return lineWidth;\n  });\n\n  /**\n   * Sets line width for upcoming lines.\n   *\n   * @param {number} width Line width (in units declared at inception of PDF document).\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setLineWidth\n   */\n  var setLineWidth = (API.__private__.setLineWidth = API.setLineWidth = function(\n    width\n  ) {\n    lineWidth = width;\n    out(hpf(scale(width)) + \" w\");\n    return this;\n  });\n\n  /**\n   * Sets the dash pattern for upcoming lines.\n   *\n   * To reset the settings simply call the method without any parameters.\n   * @param {Array<number>} dashArray An array containing 0-2 numbers. The first number sets the length of the\n   * dashes, the second number the length of the gaps. If the second number is missing, the gaps are considered\n   * to be as long as the dashes. An empty array means solid, unbroken lines.\n   * @param {number} dashPhase The phase lines start with.\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setLineDashPattern\n   */\n  API.__private__.setLineDash = jsPDF.API.setLineDash = jsPDF.API.setLineDashPattern = function(\n    dashArray,\n    dashPhase\n  ) {\n    dashArray = dashArray || [];\n    dashPhase = dashPhase || 0;\n\n    if (isNaN(dashPhase) || !Array.isArray(dashArray)) {\n      throw new Error(\"Invalid arguments passed to jsPDF.setLineDash\");\n    }\n\n    dashArray = dashArray\n      .map(function(x) {\n        return hpf(scale(x));\n      })\n      .join(\" \");\n    dashPhase = hpf(scale(dashPhase));\n\n    out(\"[\" + dashArray + \"] \" + dashPhase + \" d\");\n    return this;\n  };\n\n  var lineHeightFactor;\n\n  var getLineHeight = (API.__private__.getLineHeight = API.getLineHeight = function() {\n    return activeFontSize * lineHeightFactor;\n  });\n\n  API.__private__.getLineHeight = API.getLineHeight = function() {\n    return activeFontSize * lineHeightFactor;\n  };\n\n  /**\n   * Sets the LineHeightFactor of proportion.\n   *\n   * @param {number} value LineHeightFactor value. Default: 1.15.\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setLineHeightFactor\n   */\n  var setLineHeightFactor = (API.__private__.setLineHeightFactor = API.setLineHeightFactor = function(\n    value\n  ) {\n    value = value || 1.15;\n    if (typeof value === \"number\") {\n      lineHeightFactor = value;\n    }\n    return this;\n  });\n\n  /**\n   * Gets the LineHeightFactor, default: 1.15.\n   *\n   * @function\n   * @instance\n   * @returns {number} lineHeightFactor\n   * @memberof jsPDF#\n   * @name getLineHeightFactor\n   */\n  var getLineHeightFactor = (API.__private__.getLineHeightFactor = API.getLineHeightFactor = function() {\n    return lineHeightFactor;\n  });\n\n  setLineHeightFactor(options.lineHeight);\n\n  var getHorizontalCoordinate = (API.__private__.getHorizontalCoordinate = function(\n    value\n  ) {\n    return scale(value);\n  });\n\n  var getVerticalCoordinate = (API.__private__.getVerticalCoordinate = function(\n    value\n  ) {\n    if (apiMode === ApiMode.ADVANCED) {\n      return value;\n    } else {\n      var pageHeight =\n        pagesContext[currentPage].mediaBox.topRightY -\n        pagesContext[currentPage].mediaBox.bottomLeftY;\n      return pageHeight - scale(value);\n    }\n  });\n\n  var getHorizontalCoordinateString = (API.__private__.getHorizontalCoordinateString = API.getHorizontalCoordinateString = function(\n    value\n  ) {\n    return hpf(getHorizontalCoordinate(value));\n  });\n\n  var getVerticalCoordinateString = (API.__private__.getVerticalCoordinateString = API.getVerticalCoordinateString = function(\n    value\n  ) {\n    return hpf(getVerticalCoordinate(value));\n  });\n\n  var strokeColor = options.strokeColor || \"0 G\";\n\n  /**\n   *  Gets the stroke color for upcoming elements.\n   *\n   * @function\n   * @instance\n   * @returns {string} colorAsHex\n   * @memberof jsPDF#\n   * @name getDrawColor\n   */\n  API.__private__.getStrokeColor = API.getDrawColor = function() {\n    return decodeColorString(strokeColor);\n  };\n\n  /**\n   * Sets the stroke color for upcoming elements.\n   *\n   * Depending on the number of arguments given, Gray, RGB, or CMYK\n   * color space is implied.\n   *\n   * When only ch1 is given, \"Gray\" color space is implied and it\n   * must be a value in the range from 0.00 (solid black) to to 1.00 (white)\n   * if values are communicated as String types, or in range from 0 (black)\n   * to 255 (white) if communicated as Number type.\n   * The RGB-like 0-255 range is provided for backward compatibility.\n   *\n   * When only ch1,ch2,ch3 are given, \"RGB\" color space is implied and each\n   * value must be in the range from 0.00 (minimum intensity) to to 1.00\n   * (max intensity) if values are communicated as String types, or\n   * from 0 (min intensity) to to 255 (max intensity) if values are communicated\n   * as Number types.\n   * The RGB-like 0-255 range is provided for backward compatibility.\n   *\n   * When ch1,ch2,ch3,ch4 are given, \"CMYK\" color space is implied and each\n   * value must be a in the range from 0.00 (0% concentration) to to\n   * 1.00 (100% concentration)\n   *\n   * Because JavaScript treats fixed point numbers badly (rounds to\n   * floating point nearest to binary representation) it is highly advised to\n   * communicate the fractional numbers as String types, not JavaScript Number type.\n   *\n   * @param {Number|String} ch1 Color channel value or {string} ch1 color value in hexadecimal, example: '#FFFFFF'.\n   * @param {Number} ch2 Color channel value.\n   * @param {Number} ch3 Color channel value.\n   * @param {Number} ch4 Color channel value.\n   *\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setDrawColor\n   */\n  API.__private__.setStrokeColor = API.setDrawColor = function(\n    ch1,\n    ch2,\n    ch3,\n    ch4\n  ) {\n    var options = {\n      ch1: ch1,\n      ch2: ch2,\n      ch3: ch3,\n      ch4: ch4,\n      pdfColorType: \"draw\",\n      precision: 2\n    };\n\n    strokeColor = encodeColorString(options);\n    out(strokeColor);\n    return this;\n  };\n\n  var fillColor = options.fillColor || \"0 g\";\n\n  /**\n   * Gets the fill color for upcoming elements.\n   *\n   * @function\n   * @instance\n   * @returns {string} colorAsHex\n   * @memberof jsPDF#\n   * @name getFillColor\n   */\n  API.__private__.getFillColor = API.getFillColor = function() {\n    return decodeColorString(fillColor);\n  };\n\n  /**\n   * Sets the fill color for upcoming elements.\n   *\n   * Depending on the number of arguments given, Gray, RGB, or CMYK\n   * color space is implied.\n   *\n   * When only ch1 is given, \"Gray\" color space is implied and it\n   * must be a value in the range from 0.00 (solid black) to to 1.00 (white)\n   * if values are communicated as String types, or in range from 0 (black)\n   * to 255 (white) if communicated as Number type.\n   * The RGB-like 0-255 range is provided for backward compatibility.\n   *\n   * When only ch1,ch2,ch3 are given, \"RGB\" color space is implied and each\n   * value must be in the range from 0.00 (minimum intensity) to to 1.00\n   * (max intensity) if values are communicated as String types, or\n   * from 0 (min intensity) to to 255 (max intensity) if values are communicated\n   * as Number types.\n   * The RGB-like 0-255 range is provided for backward compatibility.\n   *\n   * When ch1,ch2,ch3,ch4 are given, \"CMYK\" color space is implied and each\n   * value must be a in the range from 0.00 (0% concentration) to to\n   * 1.00 (100% concentration)\n   *\n   * Because JavaScript treats fixed point numbers badly (rounds to\n   * floating point nearest to binary representation) it is highly advised to\n   * communicate the fractional numbers as String types, not JavaScript Number type.\n   *\n   * @param {Number|String} ch1 Color channel value or {string} ch1 color value in hexadecimal, example: '#FFFFFF'.\n   * @param {Number} ch2 Color channel value.\n   * @param {Number} ch3 Color channel value.\n   * @param {Number} ch4 Color channel value.\n   *\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setFillColor\n   */\n  API.__private__.setFillColor = API.setFillColor = function(\n    ch1,\n    ch2,\n    ch3,\n    ch4\n  ) {\n    var options = {\n      ch1: ch1,\n      ch2: ch2,\n      ch3: ch3,\n      ch4: ch4,\n      pdfColorType: \"fill\",\n      precision: 2\n    };\n\n    fillColor = encodeColorString(options);\n    out(fillColor);\n    return this;\n  };\n\n  var textColor = options.textColor || \"0 g\";\n  /**\n   * Gets the text color for upcoming elements.\n   *\n   * @function\n   * @instance\n   * @returns {string} colorAsHex\n   * @memberof jsPDF#\n   * @name getTextColor\n   */\n  var getTextColor = (API.__private__.getTextColor = API.getTextColor = function() {\n    return decodeColorString(textColor);\n  });\n  /**\n   * Sets the text color for upcoming elements.\n   *\n   * Depending on the number of arguments given, Gray, RGB, or CMYK\n   * color space is implied.\n   *\n   * When only ch1 is given, \"Gray\" color space is implied and it\n   * must be a value in the range from 0.00 (solid black) to to 1.00 (white)\n   * if values are communicated as String types, or in range from 0 (black)\n   * to 255 (white) if communicated as Number type.\n   * The RGB-like 0-255 range is provided for backward compatibility.\n   *\n   * When only ch1,ch2,ch3 are given, \"RGB\" color space is implied and each\n   * value must be in the range from 0.00 (minimum intensity) to to 1.00\n   * (max intensity) if values are communicated as String types, or\n   * from 0 (min intensity) to to 255 (max intensity) if values are communicated\n   * as Number types.\n   * The RGB-like 0-255 range is provided for backward compatibility.\n   *\n   * When ch1,ch2,ch3,ch4 are given, \"CMYK\" color space is implied and each\n   * value must be a in the range from 0.00 (0% concentration) to to\n   * 1.00 (100% concentration)\n   *\n   * Because JavaScript treats fixed point numbers badly (rounds to\n   * floating point nearest to binary representation) it is highly advised to\n   * communicate the fractional numbers as String types, not JavaScript Number type.\n   *\n   * @param {Number|String} ch1 Color channel value or {string} ch1 color value in hexadecimal, example: '#FFFFFF'.\n   * @param {Number} ch2 Color channel value.\n   * @param {Number} ch3 Color channel value.\n   * @param {Number} ch4 Color channel value.\n   *\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setTextColor\n   */\n  API.__private__.setTextColor = API.setTextColor = function(\n    ch1,\n    ch2,\n    ch3,\n    ch4\n  ) {\n    var options = {\n      ch1: ch1,\n      ch2: ch2,\n      ch3: ch3,\n      ch4: ch4,\n      pdfColorType: \"text\",\n      precision: 3\n    };\n    textColor = encodeColorString(options);\n\n    return this;\n  };\n\n  var activeCharSpace = options.charSpace;\n\n  /**\n   * Get global value of CharSpace.\n   *\n   * @function\n   * @instance\n   * @returns {number} charSpace\n   * @memberof jsPDF#\n   * @name getCharSpace\n   */\n  var getCharSpace = (API.__private__.getCharSpace = API.getCharSpace = function() {\n    return parseFloat(activeCharSpace || 0);\n  });\n\n  /**\n   * Set global value of CharSpace.\n   *\n   * @param {number} charSpace\n   * @function\n   * @instance\n   * @returns {jsPDF} jsPDF-instance\n   * @memberof jsPDF#\n   * @name setCharSpace\n   */\n  API.__private__.setCharSpace = API.setCharSpace = function(charSpace) {\n    if (isNaN(charSpace)) {\n      throw new Error(\"Invalid argument passed to jsPDF.setCharSpace\");\n    }\n    activeCharSpace = charSpace;\n    return this;\n  };\n\n  var lineCapID = 0;\n  /**\n   * Is an Object providing a mapping from human-readable to\n   * integer flag values designating the varieties of line cap\n   * and join styles.\n   *\n   * @memberof jsPDF#\n   * @name CapJoinStyles\n   */\n  API.CapJoinStyles = {\n    0: 0,\n    butt: 0,\n    but: 0,\n    miter: 0,\n    1: 1,\n    round: 1,\n    rounded: 1,\n    circle: 1,\n    2: 2,\n    projecting: 2,\n    project: 2,\n    square: 2,\n    bevel: 2\n  };\n\n  /**\n   * Sets the line cap styles.\n   * See {jsPDF.CapJoinStyles} for variants.\n   *\n   * @param {String|Number} style A string or number identifying the type of line cap.\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setLineCap\n   */\n  API.__private__.setLineCap = API.setLineCap = function(style) {\n    var id = API.CapJoinStyles[style];\n    if (id === undefined) {\n      throw new Error(\n        \"Line cap style of '\" +\n          style +\n          \"' is not recognized. See or extend .CapJoinStyles property for valid styles\"\n      );\n    }\n    lineCapID = id;\n    out(id + \" J\");\n\n    return this;\n  };\n\n  var lineJoinID = 0;\n  /**\n   * Sets the line join styles.\n   * See {jsPDF.CapJoinStyles} for variants.\n   *\n   * @param {String|Number} style A string or number identifying the type of line join.\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setLineJoin\n   */\n  API.__private__.setLineJoin = API.setLineJoin = function(style) {\n    var id = API.CapJoinStyles[style];\n    if (id === undefined) {\n      throw new Error(\n        \"Line join style of '\" +\n          style +\n          \"' is not recognized. See or extend .CapJoinStyles property for valid styles\"\n      );\n    }\n    lineJoinID = id;\n    out(id + \" j\");\n\n    return this;\n  };\n\n  var miterLimit;\n  /**\n   * Sets the miterLimit property, which effects the maximum miter length.\n   *\n   * @param {number} length The length of the miter\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setLineMiterLimit\n   */\n  API.__private__.setLineMiterLimit = API.__private__.setMiterLimit = API.setLineMiterLimit = API.setMiterLimit = function(\n    length\n  ) {\n    length = length || 0;\n    if (isNaN(length)) {\n      throw new Error(\"Invalid argument passed to jsPDF.setLineMiterLimit\");\n    }\n    out(hpf(scale(length)) + \" M\");\n\n    return this;\n  };\n\n  /**\n   * An object representing a pdf graphics state.\n   * @class GState\n   */\n\n  /**\n   *\n   * @param parameters A parameter object that contains all properties this graphics state wants to set.\n   * Supported are: opacity, stroke-opacity\n   * @constructor\n   */\n  API.GState = GState;\n\n  /**\n   * Sets a either previously added {@link GState} (via {@link addGState}) or a new {@link GState}.\n   * @param {String|GState} gState If type is string, a previously added GState is used, if type is GState\n   * it will be added before use.\n   * @function\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setGState\n   */\n  API.setGState = function(gState) {\n    if (typeof gState === \"string\") {\n      gState = gStates[gStatesMap[gState]];\n    } else {\n      gState = addGState(null, gState);\n    }\n\n    if (!gState.equals(activeGState)) {\n      out(\"/\" + gState.id + \" gs\");\n      activeGState = gState;\n    }\n  };\n\n  /**\n   * Adds a new Graphics State. Duplicates are automatically eliminated.\n   * @param {String} key Might also be null, if no later reference to this gState is needed\n   * @param {Object} gState The gState object\n   */\n  var addGState = function(key, gState) {\n    // only add it if it is not already present (the keys provided by the user must be unique!)\n    if (key && gStatesMap[key]) return;\n    var duplicate = false;\n    for (var s in gStates) {\n      if (gStates.hasOwnProperty(s)) {\n        if (gStates[s].equals(gState)) {\n          duplicate = true;\n          break;\n        }\n      }\n    }\n\n    if (duplicate) {\n      gState = gStates[s];\n    } else {\n      var gStateKey = \"GS\" + (Object.keys(gStates).length + 1).toString(10);\n      gStates[gStateKey] = gState;\n      gState.id = gStateKey;\n    }\n\n    // several user keys may point to the same GState object\n    key && (gStatesMap[key] = gState.id);\n\n    events.publish(\"addGState\", gState);\n\n    return gState;\n  };\n\n  /**\n   * Adds a new {@link GState} for later use. See {@link setGState}.\n   * @param {String} key\n   * @param {GState} gState\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   *\n   * @memberof jsPDF#\n   * @name addGState\n   */\n  API.addGState = function(key, gState) {\n    addGState(key, gState);\n    return this;\n  };\n\n  /**\n   * Saves the current graphics state (\"pushes it on the stack\"). It can be restored by {@link restoreGraphicsState}\n   * later. Here, the general pdf graphics state is meant, also including the current transformation matrix,\n   * fill and stroke colors etc.\n   * @function\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name saveGraphicsState\n   */\n  API.saveGraphicsState = function() {\n    out(\"q\");\n    // as we cannot set font key and size independently we must keep track of both\n    fontStateStack.push({\n      key: activeFontKey,\n      size: activeFontSize,\n      color: textColor\n    });\n    return this;\n  };\n\n  /**\n   * Restores a previously saved graphics state saved by {@link saveGraphicsState} (\"pops the stack\").\n   * @function\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name restoreGraphicsState\n   */\n  API.restoreGraphicsState = function() {\n    out(\"Q\");\n\n    // restore previous font state\n    var fontState = fontStateStack.pop();\n    activeFontKey = fontState.key;\n    activeFontSize = fontState.size;\n    textColor = fontState.color;\n\n    activeGState = null;\n\n    return this;\n  };\n\n  /**\n   * Appends this matrix to the left of all previously applied matrices.\n   *\n   * @param {Matrix} matrix\n   * @function\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setCurrentTransformationMatrix\n   */\n  API.setCurrentTransformationMatrix = function(matrix) {\n    out(matrix.toString() + \" cm\");\n    return this;\n  };\n\n  /**\n   * Inserts a debug comment into the generated pdf.\n   * @function\n   * @instance\n   * @param {String} text\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name comment\n   */\n  API.comment = function(text) {\n    out(\"#\" + text);\n    return this;\n  };\n\n  /**\n   * Point\n   */\n  var Point = function(x, y) {\n    var _x = x || 0;\n    Object.defineProperty(this, \"x\", {\n      enumerable: true,\n      get: function() {\n        return _x;\n      },\n      set: function(value) {\n        if (!isNaN(value)) {\n          _x = parseFloat(value);\n        }\n      }\n    });\n\n    var _y = y || 0;\n    Object.defineProperty(this, \"y\", {\n      enumerable: true,\n      get: function() {\n        return _y;\n      },\n      set: function(value) {\n        if (!isNaN(value)) {\n          _y = parseFloat(value);\n        }\n      }\n    });\n\n    var _type = \"pt\";\n    Object.defineProperty(this, \"type\", {\n      enumerable: true,\n      get: function() {\n        return _type;\n      },\n      set: function(value) {\n        _type = value.toString();\n      }\n    });\n    return this;\n  };\n\n  /**\n   * Rectangle\n   */\n  var Rectangle = function(x, y, w, h) {\n    Point.call(this, x, y);\n    this.type = \"rect\";\n\n    var _w = w || 0;\n    Object.defineProperty(this, \"w\", {\n      enumerable: true,\n      get: function() {\n        return _w;\n      },\n      set: function(value) {\n        if (!isNaN(value)) {\n          _w = parseFloat(value);\n        }\n      }\n    });\n\n    var _h = h || 0;\n    Object.defineProperty(this, \"h\", {\n      enumerable: true,\n      get: function() {\n        return _h;\n      },\n      set: function(value) {\n        if (!isNaN(value)) {\n          _h = parseFloat(value);\n        }\n      }\n    });\n\n    return this;\n  };\n\n  /**\n   * FormObject/RenderTarget\n   */\n\n  var RenderTarget = function() {\n    this.page = page;\n    this.currentPage = currentPage;\n    this.pages = pages.slice(0);\n    this.pagesContext = pagesContext.slice(0);\n    this.x = pageX;\n    this.y = pageY;\n    this.matrix = pageMatrix;\n    this.width = getPageWidth(currentPage);\n    this.height = getPageHeight(currentPage);\n    this.outputDestination = outputDestination;\n\n    this.id = \"\"; // set by endFormObject()\n    this.objectNumber = -1; // will be set by putXObject()\n  };\n\n  RenderTarget.prototype.restore = function() {\n    page = this.page;\n    currentPage = this.currentPage;\n    pagesContext = this.pagesContext;\n    pages = this.pages;\n    pageX = this.x;\n    pageY = this.y;\n    pageMatrix = this.matrix;\n    setPageWidth(currentPage, this.width);\n    setPageHeight(currentPage, this.height);\n    outputDestination = this.outputDestination;\n  };\n\n  var beginNewRenderTarget = function(x, y, width, height, matrix) {\n    // save current state\n    renderTargetStack.push(new RenderTarget());\n\n    // clear pages\n    page = currentPage = 0;\n    pages = [];\n    pageX = x;\n    pageY = y;\n\n    pageMatrix = matrix;\n\n    beginPage([width, height]);\n  };\n\n  var endFormObject = function(key) {\n    // only add it if it is not already present (the keys provided by the user must be unique!)\n    if (renderTargetMap[key]) {\n      renderTargetStack.pop().restore();\n      return;\n    }\n\n    // save the created xObject\n    var newXObject = new RenderTarget();\n\n    var xObjectId = \"Xo\" + (Object.keys(renderTargets).length + 1).toString(10);\n    newXObject.id = xObjectId;\n\n    renderTargetMap[key] = xObjectId;\n    renderTargets[xObjectId] = newXObject;\n\n    events.publish(\"addFormObject\", newXObject);\n\n    // restore state from stack\n    renderTargetStack.pop().restore();\n  };\n\n  /**\n   * Starts a new pdf form object, which means that all consequent draw calls target a new independent object\n   * until {@link endFormObject} is called. The created object can be referenced and drawn later using\n   * {@link doFormObject}. Nested form objects are possible.\n   * x, y, width, height set the bounding box that is used to clip the content.\n   *\n   * @param {number} x\n   * @param {number} y\n   * @param {number} width\n   * @param {number} height\n   * @param {Matrix} matrix The matrix that will be applied to convert the form objects coordinate system to\n   * the parent's.\n   * @function\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name beginFormObject\n   */\n  API.beginFormObject = function(x, y, width, height, matrix) {\n    // The user can set the output target to a new form object. Nested form objects are possible.\n    // Currently, they use the resource dictionary of the surrounding stream. This should be changed, as\n    // the PDF-Spec states:\n    // \"In PDF 1.2 and later versions, form XObjects may be independent of the content streams in which\n    // they appear, and this is strongly recommended although not requiredIn PDF 1.2 and later versions,\n    // form XObjects may be independent of the content streams in which they appear, and this is strongly\n    // recommended although not required\"\n    beginNewRenderTarget(x, y, width, height, matrix);\n    return this;\n  };\n\n  /**\n   * Completes and saves the form object.\n   * @param {String} key The key by which this form object can be referenced.\n   * @function\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name endFormObject\n   */\n  API.endFormObject = function(key) {\n    endFormObject(key);\n    return this;\n  };\n\n  /**\n   * Draws the specified form object by referencing to the respective pdf XObject created with\n   * {@link API.beginFormObject} and {@link endFormObject}.\n   * The location is determined by matrix.\n   *\n   * @param {String} key The key to the form object.\n   * @param {Matrix} matrix The matrix applied before drawing the form object.\n   * @function\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name doFormObject\n   */\n  API.doFormObject = function(key, matrix) {\n    var xObject = renderTargets[renderTargetMap[key]];\n    out(\"q\");\n    out(matrix.toString() + \" cm\");\n    out(\"/\" + xObject.id + \" Do\");\n    out(\"Q\");\n    return this;\n  };\n\n  /**\n   * Returns the form object specified by key.\n   * @param key {String}\n   * @returns {{x: number, y: number, width: number, height: number, matrix: Matrix}}\n   * @function\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name getFormObject\n   */\n  API.getFormObject = function(key) {\n    var xObject = renderTargets[renderTargetMap[key]];\n    return {\n      x: xObject.x,\n      y: xObject.y,\n      width: xObject.width,\n      height: xObject.height,\n      matrix: xObject.matrix\n    };\n  };\n\n  /**\n   * Saves as PDF document. An alias of jsPDF.output('save', 'filename.pdf').\n   * Uses FileSaver.js-method saveAs.\n   *\n   * @memberof jsPDF#\n   * @name save\n   * @function\n   * @instance\n   * @param  {string} filename The filename including extension.\n   * @param  {Object} options An Object with additional options, possible options: 'returnPromise'.\n   * @returns {jsPDF|Promise} jsPDF-instance     */\n  API.save = function(filename, options) {\n    filename = filename || \"generated.pdf\";\n\n    options = options || {};\n    options.returnPromise = options.returnPromise || false;\n\n    // @if MODULE_FORMAT!='cjs'\n    if (options.returnPromise === false) {\n      saveAs(getBlob(buildDocument()), filename);\n      if (typeof saveAs.unload === \"function\") {\n        if (globalObject.setTimeout) {\n          setTimeout(saveAs.unload, 911);\n        }\n      }\n      return this;\n    } else {\n      return new Promise(function(resolve, reject) {\n        try {\n          var result = saveAs(getBlob(buildDocument()), filename);\n          if (typeof saveAs.unload === \"function\") {\n            if (globalObject.setTimeout) {\n              setTimeout(saveAs.unload, 911);\n            }\n          }\n          resolve(result);\n        } catch (e) {\n          reject(e.message);\n        }\n      });\n    }\n    // @endif\n\n    // @if MODULE_FORMAT='cjs'\n    // eslint-disable-next-line no-unreachable\n    var fs = require(\"fs\");\n    var buffer = Buffer.from(getArrayBuffer(buildDocument()));\n    if (options.returnPromise === false) {\n      fs.writeFileSync(filename, buffer);\n    } else {\n      return new Promise(function(resolve, reject) {\n        fs.writeFile(filename, buffer, function(err) {\n          if (err) {\n            reject(err);\n          } else {\n            resolve();\n          }\n        });\n      });\n    }\n    // @endif\n  };\n\n  // applying plugins (more methods) ON TOP of built-in API.\n  // this is intentional as we allow plugins to override\n  // built-ins\n  for (var plugin in jsPDF.API) {\n    if (jsPDF.API.hasOwnProperty(plugin)) {\n      if (plugin === \"events\" && jsPDF.API.events.length) {\n        (function(events, newEvents) {\n          // jsPDF.API.events is a JS Array of Arrays\n          // where each Array is a pair of event name, handler\n          // Events were added by plugins to the jsPDF instantiator.\n          // These are always added to the new instance and some ran\n          // during instantiation.\n          var eventname, handler_and_args, i;\n\n          for (i = newEvents.length - 1; i !== -1; i--) {\n            // subscribe takes 3 args: 'topic', function, runonce_flag\n            // if undefined, runonce is false.\n            // users can attach callback directly,\n            // or they can attach an array with [callback, runonce_flag]\n            // that's what the \"apply\" magic is for below.\n            eventname = newEvents[i][0];\n            handler_and_args = newEvents[i][1];\n            events.subscribe.apply(\n              events,\n              [eventname].concat(\n                typeof handler_and_args === \"function\"\n                  ? [handler_and_args]\n                  : handler_and_args\n              )\n            );\n          }\n        })(events, jsPDF.API.events);\n      } else {\n        API[plugin] = jsPDF.API[plugin];\n      }\n    }\n  }\n\n  var getPageWidth = (API.getPageWidth = function(pageNumber) {\n    pageNumber = pageNumber || currentPage;\n    return (\n      (pagesContext[pageNumber].mediaBox.topRightX -\n        pagesContext[pageNumber].mediaBox.bottomLeftX) /\n      scaleFactor\n    );\n  });\n\n  var setPageWidth = (API.setPageWidth = function(pageNumber, value) {\n    pagesContext[pageNumber].mediaBox.topRightX =\n      value * scaleFactor + pagesContext[pageNumber].mediaBox.bottomLeftX;\n  });\n\n  var getPageHeight = (API.getPageHeight = function(pageNumber) {\n    pageNumber = pageNumber || currentPage;\n    return (\n      (pagesContext[pageNumber].mediaBox.topRightY -\n        pagesContext[pageNumber].mediaBox.bottomLeftY) /\n      scaleFactor\n    );\n  });\n\n  var setPageHeight = (API.setPageHeight = function(pageNumber, value) {\n    pagesContext[pageNumber].mediaBox.topRightY =\n      value * scaleFactor + pagesContext[pageNumber].mediaBox.bottomLeftY;\n  });\n\n  /**\n   * Object exposing internal API to plugins\n   * @public\n   * @ignore\n   */\n  API.internal = {\n    pdfEscape: pdfEscape,\n    getStyle: getStyle,\n    getFont: getFontEntry,\n    getFontSize: getFontSize,\n    getCharSpace: getCharSpace,\n    getTextColor: getTextColor,\n    getLineHeight: getLineHeight,\n    getLineHeightFactor: getLineHeightFactor,\n    getLineWidth: getLineWidth,\n    write: write,\n    getHorizontalCoordinate: getHorizontalCoordinate,\n    getVerticalCoordinate: getVerticalCoordinate,\n    getCoordinateString: getHorizontalCoordinateString,\n    getVerticalCoordinateString: getVerticalCoordinateString,\n    collections: {},\n    newObject: newObject,\n    newAdditionalObject: newAdditionalObject,\n    newObjectDeferred: newObjectDeferred,\n    newObjectDeferredBegin: newObjectDeferredBegin,\n    getFilters: getFilters,\n    putStream: putStream,\n    events: events,\n    scaleFactor: scaleFactor,\n    pageSize: {\n      getWidth: function() {\n        return getPageWidth(currentPage);\n      },\n      setWidth: function(value) {\n        setPageWidth(currentPage, value);\n      },\n      getHeight: function() {\n        return getPageHeight(currentPage);\n      },\n      setHeight: function(value) {\n        setPageHeight(currentPage, value);\n      }\n    },\n    encryptionOptions: encryptionOptions,\n    encryption: encryption,\n    getEncryptor: getEncryptor,\n    output: output,\n    getNumberOfPages: getNumberOfPages,\n    pages: pages,\n    out: out,\n    f2: f2,\n    f3: f3,\n    getPageInfo: getPageInfo,\n    getPageInfoByObjId: getPageInfoByObjId,\n    getCurrentPageInfo: getCurrentPageInfo,\n    getPDFVersion: getPdfVersion,\n    Point: Point,\n    Rectangle: Rectangle,\n    Matrix: Matrix,\n    hasHotfix: hasHotfix //Expose the hasHotfix check so plugins can also check them.\n  };\n\n  Object.defineProperty(API.internal.pageSize, \"width\", {\n    get: function() {\n      return getPageWidth(currentPage);\n    },\n    set: function(value) {\n      setPageWidth(currentPage, value);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(API.internal.pageSize, \"height\", {\n    get: function() {\n      return getPageHeight(currentPage);\n    },\n    set: function(value) {\n      setPageHeight(currentPage, value);\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  //////////////////////////////////////////////////////\n  // continuing initialization of jsPDF Document object\n  //////////////////////////////////////////////////////\n  // Add the first page automatically\n  addFonts.call(API, standardFonts);\n  activeFontKey = \"F1\";\n  _addPage(format, orientation);\n\n  events.publish(\"initialized\");\n  return API;\n}\n\n/**\n * jsPDF.API is a STATIC property of jsPDF class.\n * jsPDF.API is an object you can add methods and properties to.\n * The methods / properties you add will show up in new jsPDF objects.\n *\n * One property is prepopulated. It is the 'events' Object. Plugin authors can add topics,\n * callbacks to this object. These will be reassigned to all new instances of jsPDF.\n *\n * @static\n * @public\n * @memberof jsPDF#\n * @name API\n *\n * @example\n * jsPDF.API.mymethod = function(){\n *   // 'this' will be ref to internal API object. see jsPDF source\n *   // , so you can refer to built-in methods like so:\n *   //     this.line(....)\n *   //     this.text(....)\n * }\n * var pdfdoc = new jsPDF()\n * pdfdoc.mymethod() // <- !!!!!!\n */\njsPDF.API = {\n  events: []\n};\n/**\n * The version of jsPDF.\n * @name version\n * @type {string}\n * @memberof jsPDF#\n */\njsPDF.version = \"0.0.0\";\n\nexport { jsPDF, ShadingPattern, TilingPattern, GState };\nexport default jsPDF;\n","/**\n * @license\n * FileSaver.js\n * A saveAs() FileSaver implementation.\n *\n * By Eli Grey, http://eligrey.com\n *\n * License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n * source  : http://purl.eligrey.com/github/FileSaver.js\n */\n\nimport { globalObject as _global } from \"./globalObject.js\";\nimport { console } from \"./console.js\";\n\nfunction bom(blob, opts) {\n  if (typeof opts === \"undefined\") opts = { autoBom: false };\n  else if (typeof opts !== \"object\") {\n    console.warn(\"Deprecated: Expected third argument to be a object\");\n    opts = { autoBom: !opts };\n  }\n\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n  if (\n    opts.autoBom &&\n    /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(\n      blob.type\n    )\n  ) {\n    return new Blob([String.fromCharCode(0xfeff), blob], { type: blob.type });\n  }\n  return blob;\n}\n\nfunction download(url, name, opts) {\n  var xhr = new XMLHttpRequest();\n  xhr.open(\"GET\", url);\n  xhr.responseType = \"blob\";\n  xhr.onload = function() {\n    saveAs(xhr.response, name, opts);\n  };\n  xhr.onerror = function() {\n    console.error(\"could not download file\");\n  };\n  xhr.send();\n}\n\nfunction corsEnabled(url) {\n  var xhr = new XMLHttpRequest();\n  // use sync to avoid popup blocker\n  xhr.open(\"HEAD\", url, false);\n  try {\n    xhr.send();\n  } catch (e) {}\n  return xhr.status >= 200 && xhr.status <= 299;\n}\n\n// `a.click()` doesn't work for all browsers (#465)\nfunction click(node) {\n  try {\n    node.dispatchEvent(new MouseEvent(\"click\"));\n  } catch (e) {\n    var evt = document.createEvent(\"MouseEvents\");\n    evt.initMouseEvent(\n      \"click\",\n      true,\n      true,\n      window,\n      0,\n      0,\n      0,\n      80,\n      20,\n      false,\n      false,\n      false,\n      false,\n      0,\n      null\n    );\n    node.dispatchEvent(evt);\n  }\n}\n\nvar saveAs =\n  _global.saveAs ||\n  // probably in some web worker\n  (typeof window !== \"object\" || window !== _global\n    ? function saveAs() {\n        /* noop */\n      }\n    : // Use download attribute first if possible (#193 Lumia mobile) unless this is a native app\n    typeof HTMLAnchorElement !== \"undefined\" &&\n      \"download\" in HTMLAnchorElement.prototype\n    ? function saveAs(blob, name, opts) {\n        var URL = _global.URL || _global.webkitURL;\n        var a = document.createElement(\"a\");\n        name = name || blob.name || \"download\";\n\n        a.download = name;\n        a.rel = \"noopener\"; // tabnabbing\n\n        // TODO: detect chrome extensions & packaged apps\n        // a.target = '_blank'\n\n        if (typeof blob === \"string\") {\n          // Support regular links\n          a.href = blob;\n          if (a.origin !== location.origin) {\n            corsEnabled(a.href)\n              ? download(blob, name, opts)\n              : click(a, (a.target = \"_blank\"));\n          } else {\n            click(a);\n          }\n        } else {\n          // Support blobs\n          a.href = URL.createObjectURL(blob);\n          setTimeout(function() {\n            URL.revokeObjectURL(a.href);\n          }, 4e4); // 40s\n          setTimeout(function() {\n            click(a);\n          }, 0);\n        }\n      }\n    : // Use msSaveOrOpenBlob as a second approach\n    \"msSaveOrOpenBlob\" in navigator\n    ? function saveAs(blob, name, opts) {\n        name = name || blob.name || \"download\";\n\n        if (typeof blob === \"string\") {\n          if (corsEnabled(blob)) {\n            download(blob, name, opts);\n          } else {\n            var a = document.createElement(\"a\");\n            a.href = blob;\n            a.target = \"_blank\";\n            setTimeout(function() {\n              click(a);\n            });\n          }\n        } else {\n          navigator.msSaveOrOpenBlob(bom(blob, opts), name);\n        }\n      }\n    : // Fallback to using FileReader and a popup\n      function saveAs(blob, name, opts, popup) {\n        // Open a popup immediately do go around popup blocker\n        // Mostly only available on user interaction and the fileReader is async so...\n        popup = popup || open(\"\", \"_blank\");\n        if (popup) {\n          popup.document.title = popup.document.body.innerText =\n            \"downloading...\";\n        }\n\n        if (typeof blob === \"string\") return download(blob, name, opts);\n\n        var force = blob.type === \"application/octet-stream\";\n        var isSafari =\n          /constructor/i.test(_global.HTMLElement) || _global.safari;\n        var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent);\n\n        if (\n          (isChromeIOS || (force && isSafari)) &&\n          typeof FileReader === \"object\"\n        ) {\n          // Safari doesn't allow downloading of blob URLs\n          var reader = new FileReader();\n          reader.onloadend = function() {\n            var url = reader.result;\n            url = isChromeIOS\n              ? url\n              : url.replace(/^data:[^;]*;/, \"data:attachment/file;\");\n            if (popup) popup.location.href = url;\n            else location = url;\n            popup = null; // reverse-tabnabbing #460\n          };\n          reader.readAsDataURL(blob);\n        } else {\n          var URL = _global.URL || _global.webkitURL;\n          var url = URL.createObjectURL(blob);\n          if (popup) popup.location = url;\n          else location.href = url;\n          popup = null; // reverse-tabnabbing #460\n          setTimeout(function() {\n            URL.revokeObjectURL(url);\n          }, 4e4); // 40s\n        }\n      });\n\nexport { saveAs };\n","export var globalObject = (function() {\n  return \"undefined\" !== typeof window\n    ? window\n    : \"undefined\" !== typeof global\n    ? global\n    : \"undefined\" !== typeof self\n    ? self\n    : this;\n})();\n","import { globalObject } from \"./globalObject.js\";\n\nfunction consoleLog() {\n  if (globalObject.console && typeof globalObject.console.log === \"function\") {\n    globalObject.console.log.apply(globalObject.console, arguments);\n  }\n}\n\nfunction consoleWarn(str) {\n  if (globalObject.console) {\n    if (typeof globalObject.console.warn === \"function\") {\n      globalObject.console.warn.apply(globalObject.console, arguments);\n    } else {\n      consoleLog.call(null, arguments);\n    }\n  }\n}\n\nfunction consoleError(str) {\n  if (globalObject.console) {\n    if (typeof globalObject.console.error === \"function\") {\n      globalObject.console.error.apply(globalObject.console, arguments);\n    } else {\n      consoleLog(str);\n    }\n  }\n}\nexport var console = {\n  log: consoleLog,\n  warn: consoleWarn,\n  error: consoleError\n};\n","/**\n * A class to parse color values\n * @author Stoyan Stefanov <sstoo@gmail.com>\n * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}\n * @license Use it if you like it\n */\n\nfunction RGBColor(color_string) {\n  color_string = color_string || \"\";\n  this.ok = false;\n\n  // strip any leading #\n  if (color_string.charAt(0) == \"#\") {\n    // remove # if any\n    color_string = color_string.substr(1, 6);\n  }\n\n  color_string = color_string.replace(/ /g, \"\");\n  color_string = color_string.toLowerCase();\n\n  var channels;\n\n  // before getting into regexps, try simple matches\n  // and overwrite the input\n  var simple_colors = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"00ffff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"0000ff\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"00ffff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dodgerblue: \"1e90ff\",\n    feldspar: \"d19275\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"ff00ff\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgrey: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslateblue: \"8470ff\",\n    lightslategray: \"778899\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"00ff00\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"ff00ff\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370d8\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"d87093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    red: \"ff0000\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    violetred: \"d02090\",\n    wheat: \"f5deb3\",\n    white: \"ffffff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ffff00\",\n    yellowgreen: \"9acd32\"\n  };\n  color_string = simple_colors[color_string] || color_string;\n\n  // array of color definition objects\n  var color_defs = [\n    {\n      re: /^rgb\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,\n      example: [\"rgb(123, 234, 45)\", \"rgb(255,234,245)\"],\n      process: function(bits) {\n        return [parseInt(bits[1]), parseInt(bits[2]), parseInt(bits[3])];\n      }\n    },\n    {\n      re: /^(\\w{2})(\\w{2})(\\w{2})$/,\n      example: [\"#00ff00\", \"336699\"],\n      process: function(bits) {\n        return [\n          parseInt(bits[1], 16),\n          parseInt(bits[2], 16),\n          parseInt(bits[3], 16)\n        ];\n      }\n    },\n    {\n      re: /^(\\w{1})(\\w{1})(\\w{1})$/,\n      example: [\"#fb0\", \"f0f\"],\n      process: function(bits) {\n        return [\n          parseInt(bits[1] + bits[1], 16),\n          parseInt(bits[2] + bits[2], 16),\n          parseInt(bits[3] + bits[3], 16)\n        ];\n      }\n    }\n  ];\n\n  // search through the definitions to find a match\n  for (var i = 0; i < color_defs.length; i++) {\n    var re = color_defs[i].re;\n    var processor = color_defs[i].process;\n    var bits = re.exec(color_string);\n    if (bits) {\n      channels = processor(bits);\n      this.r = channels[0];\n      this.g = channels[1];\n      this.b = channels[2];\n      this.ok = true;\n    }\n  }\n\n  // validate/cleanup values\n  this.r = this.r < 0 || isNaN(this.r) ? 0 : this.r > 255 ? 255 : this.r;\n  this.g = this.g < 0 || isNaN(this.g) ? 0 : this.g > 255 ? 255 : this.g;\n  this.b = this.b < 0 || isNaN(this.b) ? 0 : this.b > 255 ? 255 : this.b;\n\n  // some getters\n  this.toRGB = function() {\n    return \"rgb(\" + this.r + \", \" + this.g + \", \" + this.b + \")\";\n  };\n  this.toHex = function() {\n    var r = this.r.toString(16);\n    var g = this.g.toString(16);\n    var b = this.b.toString(16);\n    if (r.length == 1) r = \"0\" + r;\n    if (g.length == 1) g = \"0\" + g;\n    if (b.length == 1) b = \"0\" + b;\n    return \"#\" + r + g + b;\n  };\n}\n\nexport { RGBColor };\n","import { globalObject } from \"./globalObject.js\";\n\nvar atob, btoa;\n\n(function() {\n  // @if MODULE_FORMAT!='cjs'\n  atob = globalObject.atob.bind(globalObject);\n  btoa = globalObject.btoa.bind(globalObject);\n  return;\n  // @endif\n\n  // @if MODULE_FORMAT='cjs'\n  atob = require(\"atob\");\n  btoa = require(\"btoa\");\n  // @endif\n})();\n\nexport { atob, btoa };\n","/**\r\n * @license\r\n * Licensed under the MIT License.\r\n * http://opensource.org/licenses/mit-license\r\n * Author: Owen Leong (@owenl131)\r\n * Date: 15 Oct 2020\r\n * References:\r\n * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt\r\n * https://github.com/foliojs/pdfkit/blob/master/lib/security.js\r\n * http://www.fpdf.org/en/script/script37.php\r\n */\r\n\r\nimport { md5Bin } from \"./md5.js\";\r\nimport { rc4 } from \"./rc4.js\";\r\n\r\nvar permissionOptions = {\r\n  print: 4,\r\n  modify: 8,\r\n  copy: 16,\r\n  \"annot-forms\": 32\r\n};\r\n\r\n/**\r\n * Initializes encryption settings\r\n *\r\n * @name constructor\r\n * @function\r\n * @param {Array} permissions Permissions allowed for user, \"print\", \"modify\", \"copy\" and \"annot-forms\".\r\n * @param {String} userPassword Permissions apply to this user. Leaving this empty means the document\r\n *                              is not password protected but viewer has the above permissions.\r\n * @param {String} ownerPassword Owner has full functionalities to the file.\r\n * @param {String} fileId As hex string, should be same as the file ID in the trailer.\r\n * @example\r\n * var security = new PDFSecurity([\"print\"])\r\n */\r\nfunction PDFSecurity(permissions, userPassword, ownerPassword, fileId) {\r\n  this.v = 1; // algorithm 1, future work can add in more recent encryption schemes\r\n  this.r = 2; // revision 2\r\n\r\n  // set flags for what functionalities the user can access\r\n  let protection = 192;\r\n  permissions.forEach(function(perm) {\r\n    if (typeof permissionOptions.perm !== \"undefined\") {\r\n      throw new Error(\"Invalid permission: \" + perm);\r\n    }\r\n    protection += permissionOptions[perm];\r\n  });\r\n\r\n  // padding is used to pad the passwords to 32 bytes, also is hashed and stored in the final PDF\r\n  this.padding =\r\n    \"\\x28\\xBF\\x4E\\x5E\\x4E\\x75\\x8A\\x41\\x64\\x00\\x4E\\x56\\xFF\\xFA\\x01\\x08\" +\r\n    \"\\x2E\\x2E\\x00\\xB6\\xD0\\x68\\x3E\\x80\\x2F\\x0C\\xA9\\xFE\\x64\\x53\\x69\\x7A\";\r\n  let paddedUserPassword = (userPassword + this.padding).substr(0, 32);\r\n  let paddedOwnerPassword = (ownerPassword + this.padding).substr(0, 32);\r\n\r\n  this.O = this.processOwnerPassword(paddedUserPassword, paddedOwnerPassword);\r\n  this.P = -((protection ^ 255) + 1);\r\n  this.encryptionKey = md5Bin(\r\n    paddedUserPassword +\r\n      this.O +\r\n      this.lsbFirstWord(this.P) +\r\n      this.hexToBytes(fileId)\r\n  ).substr(0, 5);\r\n  this.U = rc4(this.encryptionKey, this.padding);\r\n}\r\n\r\n/**\r\n * Breaks down a 4-byte number into its individual bytes, with the least significant bit first\r\n *\r\n * @name lsbFirstWord\r\n * @function\r\n * @param {number} data 32-bit number\r\n * @returns {Array}\r\n */\r\nPDFSecurity.prototype.lsbFirstWord = function(data) {\r\n  return String.fromCharCode(\r\n    (data >> 0) & 0xff,\r\n    (data >> 8) & 0xff,\r\n    (data >> 16) & 0xff,\r\n    (data >> 24) & 0xff\r\n  );\r\n};\r\n\r\n/**\r\n * Converts a byte string to a hex string\r\n *\r\n * @name toHexString\r\n * @function\r\n * @param {String} byteString Byte string\r\n * @returns {String}\r\n */\r\nPDFSecurity.prototype.toHexString = function(byteString) {\r\n  return byteString\r\n    .split(\"\")\r\n    .map(function(byte) {\r\n      return (\"0\" + (byte.charCodeAt(0) & 0xff).toString(16)).slice(-2);\r\n    })\r\n    .join(\"\");\r\n};\r\n\r\n/**\r\n * Converts a hex string to a byte string\r\n *\r\n * @name hexToBytes\r\n * @function\r\n * @param {String} hex Hex string\r\n * @returns {String}\r\n */\r\nPDFSecurity.prototype.hexToBytes = function(hex) {\r\n  for (var bytes = [], c = 0; c < hex.length; c += 2)\r\n    bytes.push(String.fromCharCode(parseInt(hex.substr(c, 2), 16)));\r\n  return bytes.join(\"\");\r\n};\r\n\r\n/**\r\n * Computes the 'O' field in the encryption dictionary\r\n *\r\n * @name processOwnerPassword\r\n * @function\r\n * @param {String} paddedUserPassword Byte string of padded user password\r\n * @param {String} paddedOwnerPassword Byte string of padded owner password\r\n * @returns {String}\r\n */\r\nPDFSecurity.prototype.processOwnerPassword = function(\r\n  paddedUserPassword,\r\n  paddedOwnerPassword\r\n) {\r\n  let key = md5Bin(paddedOwnerPassword).substr(0, 5);\r\n  return rc4(key, paddedUserPassword);\r\n};\r\n\r\n/**\r\n * Returns an encryptor function which can take in a byte string and returns the encrypted version\r\n *\r\n * @name encryptor\r\n * @function\r\n * @param {number} objectId\r\n * @param {number} generation Not sure what this is for, you can set it to 0\r\n * @returns {Function}\r\n * @example\r\n * out(\"stream\");\r\n * encryptor = security.encryptor(object.id, 0);\r\n * out(encryptor(data));\r\n * out(\"endstream\");\r\n */\r\nPDFSecurity.prototype.encryptor = function(objectId, generation) {\r\n  let key = md5Bin(\r\n    this.encryptionKey +\r\n      String.fromCharCode(\r\n        objectId & 0xff,\r\n        (objectId >> 8) & 0xff,\r\n        (objectId >> 16) & 0xff,\r\n        generation & 0xff,\r\n        (generation >> 8) & 0xff\r\n      )\r\n  ).substr(0, 10);\r\n  return function(data) {\r\n    return rc4(key, data);\r\n  };\r\n};\r\n\r\nexport { PDFSecurity };\r\n","/**\n * @license\n * Joseph Myers does not specify a particular license for his work.\n *\n * Author: Joseph Myers\n * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js\n *\n * Modified by: Owen Leong\n */\n\nfunction md5cycle(x, k) {\n  var a = x[0],\n    b = x[1],\n    c = x[2],\n    d = x[3];\n\n  a = ff(a, b, c, d, k[0], 7, -680876936);\n  d = ff(d, a, b, c, k[1], 12, -389564586);\n  c = ff(c, d, a, b, k[2], 17, 606105819);\n  b = ff(b, c, d, a, k[3], 22, -1044525330);\n  a = ff(a, b, c, d, k[4], 7, -176418897);\n  d = ff(d, a, b, c, k[5], 12, 1200080426);\n  c = ff(c, d, a, b, k[6], 17, -1473231341);\n  b = ff(b, c, d, a, k[7], 22, -45705983);\n  a = ff(a, b, c, d, k[8], 7, 1770035416);\n  d = ff(d, a, b, c, k[9], 12, -1958414417);\n  c = ff(c, d, a, b, k[10], 17, -42063);\n  b = ff(b, c, d, a, k[11], 22, -1990404162);\n  a = ff(a, b, c, d, k[12], 7, 1804603682);\n  d = ff(d, a, b, c, k[13], 12, -40341101);\n  c = ff(c, d, a, b, k[14], 17, -1502002290);\n  b = ff(b, c, d, a, k[15], 22, 1236535329);\n\n  a = gg(a, b, c, d, k[1], 5, -165796510);\n  d = gg(d, a, b, c, k[6], 9, -1069501632);\n  c = gg(c, d, a, b, k[11], 14, 643717713);\n  b = gg(b, c, d, a, k[0], 20, -373897302);\n  a = gg(a, b, c, d, k[5], 5, -701558691);\n  d = gg(d, a, b, c, k[10], 9, 38016083);\n  c = gg(c, d, a, b, k[15], 14, -660478335);\n  b = gg(b, c, d, a, k[4], 20, -405537848);\n  a = gg(a, b, c, d, k[9], 5, 568446438);\n  d = gg(d, a, b, c, k[14], 9, -1019803690);\n  c = gg(c, d, a, b, k[3], 14, -187363961);\n  b = gg(b, c, d, a, k[8], 20, 1163531501);\n  a = gg(a, b, c, d, k[13], 5, -1444681467);\n  d = gg(d, a, b, c, k[2], 9, -51403784);\n  c = gg(c, d, a, b, k[7], 14, 1735328473);\n  b = gg(b, c, d, a, k[12], 20, -1926607734);\n\n  a = hh(a, b, c, d, k[5], 4, -378558);\n  d = hh(d, a, b, c, k[8], 11, -2022574463);\n  c = hh(c, d, a, b, k[11], 16, 1839030562);\n  b = hh(b, c, d, a, k[14], 23, -35309556);\n  a = hh(a, b, c, d, k[1], 4, -1530992060);\n  d = hh(d, a, b, c, k[4], 11, 1272893353);\n  c = hh(c, d, a, b, k[7], 16, -155497632);\n  b = hh(b, c, d, a, k[10], 23, -1094730640);\n  a = hh(a, b, c, d, k[13], 4, 681279174);\n  d = hh(d, a, b, c, k[0], 11, -358537222);\n  c = hh(c, d, a, b, k[3], 16, -722521979);\n  b = hh(b, c, d, a, k[6], 23, 76029189);\n  a = hh(a, b, c, d, k[9], 4, -640364487);\n  d = hh(d, a, b, c, k[12], 11, -421815835);\n  c = hh(c, d, a, b, k[15], 16, 530742520);\n  b = hh(b, c, d, a, k[2], 23, -995338651);\n\n  a = ii(a, b, c, d, k[0], 6, -198630844);\n  d = ii(d, a, b, c, k[7], 10, 1126891415);\n  c = ii(c, d, a, b, k[14], 15, -1416354905);\n  b = ii(b, c, d, a, k[5], 21, -57434055);\n  a = ii(a, b, c, d, k[12], 6, 1700485571);\n  d = ii(d, a, b, c, k[3], 10, -1894986606);\n  c = ii(c, d, a, b, k[10], 15, -1051523);\n  b = ii(b, c, d, a, k[1], 21, -2054922799);\n  a = ii(a, b, c, d, k[8], 6, 1873313359);\n  d = ii(d, a, b, c, k[15], 10, -30611744);\n  c = ii(c, d, a, b, k[6], 15, -1560198380);\n  b = ii(b, c, d, a, k[13], 21, 1309151649);\n  a = ii(a, b, c, d, k[4], 6, -145523070);\n  d = ii(d, a, b, c, k[11], 10, -1120210379);\n  c = ii(c, d, a, b, k[2], 15, 718787259);\n  b = ii(b, c, d, a, k[9], 21, -343485551);\n\n  x[0] = add32(a, x[0]);\n  x[1] = add32(b, x[1]);\n  x[2] = add32(c, x[2]);\n  x[3] = add32(d, x[3]);\n}\n\nfunction cmn(q, a, b, x, s, t) {\n  a = add32(add32(a, q), add32(x, t));\n  return add32((a << s) | (a >>> (32 - s)), b);\n}\n\nfunction ff(a, b, c, d, x, s, t) {\n  return cmn((b & c) | (~b & d), a, b, x, s, t);\n}\n\nfunction gg(a, b, c, d, x, s, t) {\n  return cmn((b & d) | (c & ~d), a, b, x, s, t);\n}\n\nfunction hh(a, b, c, d, x, s, t) {\n  return cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction ii(a, b, c, d, x, s, t) {\n  return cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nfunction md51(s) {\n  // txt = '';\n  var n = s.length,\n    state = [1732584193, -271733879, -1732584194, 271733878],\n    i;\n  for (i = 64; i <= s.length; i += 64) {\n    md5cycle(state, md5blk(s.substring(i - 64, i)));\n  }\n  s = s.substring(i - 64);\n  var tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n  for (i = 0; i < s.length; i++)\n    tail[i >> 2] |= s.charCodeAt(i) << (i % 4 << 3);\n  tail[i >> 2] |= 0x80 << (i % 4 << 3);\n  if (i > 55) {\n    md5cycle(state, tail);\n    for (i = 0; i < 16; i++) tail[i] = 0;\n  }\n  tail[14] = n * 8;\n  md5cycle(state, tail);\n  return state;\n}\n\n/* there needs to be support for Unicode here,\n * unless we pretend that we can redefine the MD-5\n * algorithm for multi-byte characters (perhaps\n * by adding every four 16-bit characters and\n * shortening the sum to 32 bits). Otherwise\n * I suggest performing MD-5 as if every character\n * was two bytes--e.g., 0040 0025 = @%--but then\n * how will an ordinary MD-5 sum be matched?\n * There is no way to standardize text to something\n * like UTF-8 before transformation; speed cost is\n * utterly prohibitive. The JavaScript standard\n * itself needs to look at this: it should start\n * providing access to strings as preformed UTF-8\n * 8-bit unsigned value arrays.\n */\nfunction md5blk(s) {\n  /* I figured global was faster.   */\n  var md5blks = [],\n    i; /* Andy King said do it this way. */\n  for (i = 0; i < 64; i += 4) {\n    md5blks[i >> 2] =\n      s.charCodeAt(i) +\n      (s.charCodeAt(i + 1) << 8) +\n      (s.charCodeAt(i + 2) << 16) +\n      (s.charCodeAt(i + 3) << 24);\n  }\n  return md5blks;\n}\n\nvar hex_chr = \"0123456789abcdef\".split(\"\");\n\nfunction rhex(n) {\n  var s = \"\",\n    j = 0;\n  for (; j < 4; j++)\n    s += hex_chr[(n >> (j * 8 + 4)) & 0x0f] + hex_chr[(n >> (j * 8)) & 0x0f];\n  return s;\n}\n\nfunction hex(x) {\n  for (var i = 0; i < x.length; i++) x[i] = rhex(x[i]);\n  return x.join(\"\");\n}\n\n// Converts a 4-byte number to byte string\nfunction singleToByteString(n) {\n  return String.fromCharCode(\n    (n & 0xff) >> 0,\n    (n & 0xff00) >> 8,\n    (n & 0xff0000) >> 16,\n    (n & 0xff000000) >> 24\n  );\n}\n\n// Converts an array of numbers to a byte string\nfunction toByteString(x) {\n  return x.map(singleToByteString).join(\"\");\n}\n\n// Returns the MD5 hash as a byte string\nfunction md5Bin(s) {\n  return toByteString(md51(s));\n}\n\n// Returns MD5 hash as a hex string\nfunction md5(s) {\n  return hex(md51(s));\n}\n\nvar md5Check = md5(\"hello\") != \"5d41402abc4b2a76b9719d911017c592\";\n\nfunction add32(a, b) {\n  if (md5Check) {\n    /* if the md5Check does not match\n     the expected value, we're dealing\n     with an old browser and need\n     this function. */\n    var lsw = (a & 0xffff) + (b & 0xffff),\n      msw = (a >> 16) + (b >> 16) + (lsw >> 16);\n    return (msw << 16) | (lsw & 0xffff);\n  } else {\n    /* this function is much faster,\n    so if possible we use it. Some IEs\n    are the only ones I know of that\n    need the idiotic second function,\n    generated by an if clause.  */\n    return (a + b) & 0xffffffff;\n  }\n}\n\nexport { md5, md5Bin };\n","/**\r\n * @license\r\n * FPDF is released under a permissive license: there is no usage restriction.\r\n * You may embed it freely in your application (commercial or not), with or\r\n * without modifications.\r\n *\r\n * Reference: http://www.fpdf.org/en/script/script37.php\r\n */\r\n\r\nfunction repeat(str, num) {\r\n  return new Array(num + 1).join(str);\r\n}\r\n\r\n/**\r\n * Converts a byte string to a hex string\r\n *\r\n * @name rc4\r\n * @function\r\n * @param {string} key Byte string of encryption key\r\n * @param {string} data Byte string of data to be encrypted\r\n * @returns {string} Encrypted string\r\n */\r\nfunction rc4(key, data) {\r\n  var lastKey, lastState;\r\n  if (key !== lastKey) {\r\n    var k = repeat(key, ((256 / key.length) >> 0) + 1);\r\n    var state = [];\r\n    for (var i = 0; i < 256; i++) {\r\n      state[i] = i;\r\n    }\r\n    var j = 0;\r\n    for (var i = 0; i < 256; i++) {\r\n      var t = state[i];\r\n      j = (j + t + k.charCodeAt(i)) % 256;\r\n      state[i] = state[j];\r\n      state[j] = t;\r\n    }\r\n    lastKey = key;\r\n    lastState = state;\r\n  } else {\r\n    state = lastState;\r\n  }\r\n  var length = data.length;\r\n  var a = 0;\r\n  var b = 0;\r\n  var out = \"\";\r\n  for (var i = 0; i < length; i++) {\r\n    a = (a + 1) % 256;\r\n    t = state[a];\r\n    b = (b + t) % 256;\r\n    state[a] = state[b];\r\n    state[b] = t;\r\n    k = state[(state[a] + state[b]) % 256];\r\n    out += String.fromCharCode(data.charCodeAt(i) ^ k);\r\n  }\r\n  return out;\r\n}\r\n\r\nexport { rc4 };\r\n","/**\n * Convert string to `PDF Name Object`.\n * Detail: PDF Reference 1.3 - Chapter 3.2.4 Name Object\n * @param str\n */\nfunction toPDFName(str) {\n  // eslint-disable-next-line no-control-regex\n  if (/[^\\u0000-\\u00ff]/.test(str)) {\n    // non ascii string\n    throw new Error(\n      \"Invalid PDF Name Object: \" + str + \", Only accept ASCII characters.\"\n    );\n  }\n  var result = \"\",\n    strLength = str.length;\n  for (var i = 0; i < strLength; i++) {\n    var charCode = str.charCodeAt(i);\n    if (\n      charCode < 0x21 ||\n      charCode === 0x23 /* # */ ||\n      charCode === 0x25 /* % */ ||\n      charCode === 0x28 /* ( */ ||\n      charCode === 0x29 /* ) */ ||\n      charCode === 0x2f /* / */ ||\n      charCode === 0x3c /* < */ ||\n      charCode === 0x3e /* > */ ||\n      charCode === 0x5b /* [ */ ||\n      charCode === 0x5d /* ] */ ||\n      charCode === 0x7b /* { */ ||\n      charCode === 0x7d /* } */ ||\n      charCode > 0x7e\n    ) {\n      // Char    CharCode    hexStr   paddingHexStr    Result\n      // \"\\t\"    9           9        09               #09\n      // \" \"     32          20       20               #20\n      // \"©\"     169         a9       a9               #a9\n      var hexStr = charCode.toString(16),\n        paddingHexStr = (\"0\" + hexStr).slice(-2);\n\n      result += \"#\" + paddingHexStr;\n    } else {\n      // Other ASCII printable characters between 0x21 <= X <= 0x7e\n      result += str[i];\n    }\n  }\n  return result;\n}\n\nexport { toPDFName };\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","/** @license\n * jsPDF addImage plugin\n * Copyright (c) 2012 Jason Siefken, https://github.com/siefkenj/\n *               2013 Chris Dowling, https://github.com/gingerchris\n *               2013 Trinh Ho, https://github.com/ineedfat\n *               2013 Edwin Alejandro Perez, https://github.com/eaparango\n *               2013 Norah Smith, https://github.com/burnburnrocket\n *               2014 Diego Casorran, https://github.com/diegocr\n *               2014 James Robb, https://github.com/jamesbrobb\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n/**\n * @name addImage\n * @module\n */\n\nimport { jsPDF } from \"../jspdf.js\";\nimport { atob, btoa } from \"../libs/AtobBtoa.js\";\n\n(function(jsPDFAPI) {\n  \"use strict\";\n\n  var namespace = \"addImage_\";\n  jsPDFAPI.__addimage__ = {};\n\n  var UNKNOWN = \"UNKNOWN\";\n\n  // Heuristic selection of a good batch for large array .apply. Not limiting make the call overflow.\n  // With too small batch iteration will be slow as more calls are made,\n  // higher values cause larger and slower garbage collection.\n  var ARRAY_APPLY_BATCH = 8192;\n\n  var imageFileTypeHeaders = {\n    PNG: [[0x89, 0x50, 0x4e, 0x47]],\n    TIFF: [\n      [0x4d, 0x4d, 0x00, 0x2a], //Motorola\n      [0x49, 0x49, 0x2a, 0x00] //Intel\n    ],\n    JPEG: [\n      [\n        0xff,\n        0xd8,\n        0xff,\n        0xe0,\n        undefined,\n        undefined,\n        0x4a,\n        0x46,\n        0x49,\n        0x46,\n        0x00\n      ], //JFIF\n      [\n        0xff,\n        0xd8,\n        0xff,\n        0xe1,\n        undefined,\n        undefined,\n        0x45,\n        0x78,\n        0x69,\n        0x66,\n        0x00,\n        0x00\n      ], //Exif\n      [0xff, 0xd8, 0xff, 0xdb], //JPEG RAW\n      [0xff, 0xd8, 0xff, 0xee] //EXIF RAW\n    ],\n    JPEG2000: [[0x00, 0x00, 0x00, 0x0c, 0x6a, 0x50, 0x20, 0x20]],\n    GIF87a: [[0x47, 0x49, 0x46, 0x38, 0x37, 0x61]],\n    GIF89a: [[0x47, 0x49, 0x46, 0x38, 0x39, 0x61]],\n    WEBP: [\n      [\n        0x52,\n        0x49,\n        0x46,\n        0x46,\n        undefined,\n        undefined,\n        undefined,\n        undefined,\n        0x57,\n        0x45,\n        0x42,\n        0x50\n      ]\n    ],\n    BMP: [\n      [0x42, 0x4d], //BM - Windows 3.1x, 95, NT, ... etc.\n      [0x42, 0x41], //BA - OS/2 struct bitmap array\n      [0x43, 0x49], //CI - OS/2 struct color icon\n      [0x43, 0x50], //CP - OS/2 const color pointer\n      [0x49, 0x43], //IC - OS/2 struct icon\n      [0x50, 0x54] //PT - OS/2 pointer\n    ]\n  };\n\n  /**\n   * Recognize filetype of Image by magic-bytes\n   *\n   * https://en.wikipedia.org/wiki/List_of_file_signatures\n   *\n   * @name getImageFileTypeByImageData\n   * @public\n   * @function\n   * @param {string|arraybuffer} imageData imageData as binary String or arraybuffer\n   * @param {string} format format of file if filetype-recognition fails, e.g. 'JPEG'\n   *\n   * @returns {string} filetype of Image\n   */\n  var getImageFileTypeByImageData = (jsPDFAPI.__addimage__.getImageFileTypeByImageData = function(\n    imageData,\n    fallbackFormat\n  ) {\n    fallbackFormat = fallbackFormat || UNKNOWN;\n    var i;\n    var j;\n    var result = UNKNOWN;\n    var headerSchemata;\n    var compareResult;\n    var fileType;\n\n    if (\n      fallbackFormat === \"RGBA\" ||\n      (imageData.data !== undefined &&\n        imageData.data instanceof Uint8ClampedArray &&\n        \"height\" in imageData &&\n        \"width\" in imageData)\n    ) {\n      return \"RGBA\";\n    }\n\n    if (isArrayBufferView(imageData)) {\n      for (fileType in imageFileTypeHeaders) {\n        headerSchemata = imageFileTypeHeaders[fileType];\n        for (i = 0; i < headerSchemata.length; i += 1) {\n          compareResult = true;\n          for (j = 0; j < headerSchemata[i].length; j += 1) {\n            if (headerSchemata[i][j] === undefined) {\n              continue;\n            }\n            if (headerSchemata[i][j] !== imageData[j]) {\n              compareResult = false;\n              break;\n            }\n          }\n          if (compareResult === true) {\n            result = fileType;\n            break;\n          }\n        }\n      }\n    } else {\n      for (fileType in imageFileTypeHeaders) {\n        headerSchemata = imageFileTypeHeaders[fileType];\n        for (i = 0; i < headerSchemata.length; i += 1) {\n          compareResult = true;\n          for (j = 0; j < headerSchemata[i].length; j += 1) {\n            if (headerSchemata[i][j] === undefined) {\n              continue;\n            }\n            if (headerSchemata[i][j] !== imageData.charCodeAt(j)) {\n              compareResult = false;\n              break;\n            }\n          }\n          if (compareResult === true) {\n            result = fileType;\n            break;\n          }\n        }\n      }\n    }\n\n    if (result === UNKNOWN && fallbackFormat !== UNKNOWN) {\n      result = fallbackFormat;\n    }\n    return result;\n  });\n\n  // Image functionality ported from pdf.js\n  var putImage = function(image) {\n    var out = this.internal.write;\n    var putStream = this.internal.putStream;\n    var getFilters = this.internal.getFilters;\n\n    var filter = getFilters();\n    while (filter.indexOf(\"FlateEncode\") !== -1) {\n      filter.splice(filter.indexOf(\"FlateEncode\"), 1);\n    }\n\n    image.objectId = this.internal.newObject();\n\n    var additionalKeyValues = [];\n    additionalKeyValues.push({ key: \"Type\", value: \"/XObject\" });\n    additionalKeyValues.push({ key: \"Subtype\", value: \"/Image\" });\n    additionalKeyValues.push({ key: \"Width\", value: image.width });\n    additionalKeyValues.push({ key: \"Height\", value: image.height });\n\n    if (image.colorSpace === color_spaces.INDEXED) {\n      additionalKeyValues.push({\n        key: \"ColorSpace\",\n        value:\n          \"[/Indexed /DeviceRGB \" +\n          // if an indexed png defines more than one colour with transparency, we've created a sMask\n          (image.palette.length / 3 - 1) +\n          \" \" +\n          (\"sMask\" in image && typeof image.sMask !== \"undefined\"\n            ? image.objectId + 2\n            : image.objectId + 1) +\n          \" 0 R]\"\n      });\n    } else {\n      additionalKeyValues.push({\n        key: \"ColorSpace\",\n        value: \"/\" + image.colorSpace\n      });\n      if (image.colorSpace === color_spaces.DEVICE_CMYK) {\n        additionalKeyValues.push({ key: \"Decode\", value: \"[1 0 1 0 1 0 1 0]\" });\n      }\n    }\n    additionalKeyValues.push({\n      key: \"BitsPerComponent\",\n      value: image.bitsPerComponent\n    });\n    if (\n      \"decodeParameters\" in image &&\n      typeof image.decodeParameters !== \"undefined\"\n    ) {\n      additionalKeyValues.push({\n        key: \"DecodeParms\",\n        value: \"<<\" + image.decodeParameters + \">>\"\n      });\n    }\n    if (\"transparency\" in image && Array.isArray(image.transparency)) {\n      var transparency = \"\",\n        i = 0,\n        len = image.transparency.length;\n      for (; i < len; i++)\n        transparency +=\n          image.transparency[i] + \" \" + image.transparency[i] + \" \";\n\n      additionalKeyValues.push({\n        key: \"Mask\",\n        value: \"[\" + transparency + \"]\"\n      });\n    }\n    if (typeof image.sMask !== \"undefined\") {\n      additionalKeyValues.push({\n        key: \"SMask\",\n        value: image.objectId + 1 + \" 0 R\"\n      });\n    }\n\n    var alreadyAppliedFilters =\n      typeof image.filter !== \"undefined\" ? [\"/\" + image.filter] : undefined;\n\n    putStream({\n      data: image.data,\n      additionalKeyValues: additionalKeyValues,\n      alreadyAppliedFilters: alreadyAppliedFilters,\n      objectId: image.objectId\n    });\n\n    out(\"endobj\");\n\n    // Soft mask\n    if (\"sMask\" in image && typeof image.sMask !== \"undefined\") {\n      var decodeParameters =\n        \"/Predictor \" +\n        image.predictor +\n        \" /Colors 1 /BitsPerComponent \" +\n        image.bitsPerComponent +\n        \" /Columns \" +\n        image.width;\n      var sMask = {\n        width: image.width,\n        height: image.height,\n        colorSpace: \"DeviceGray\",\n        bitsPerComponent: image.bitsPerComponent,\n        decodeParameters: decodeParameters,\n        data: image.sMask\n      };\n      if (\"filter\" in image) {\n        sMask.filter = image.filter;\n      }\n      putImage.call(this, sMask);\n    }\n\n    //Palette\n    if (image.colorSpace === color_spaces.INDEXED) {\n      var objId = this.internal.newObject();\n      //out('<< /Filter / ' + img['f'] +' /Length ' + img['pal'].length + '>>');\n      //putStream(zlib.compress(img['pal']));\n      putStream({\n        data: arrayBufferToBinaryString(new Uint8Array(image.palette)),\n        objectId: objId\n      });\n      out(\"endobj\");\n    }\n  };\n  var putResourcesCallback = function() {\n    var images = this.internal.collections[namespace + \"images\"];\n    for (var i in images) {\n      putImage.call(this, images[i]);\n    }\n  };\n  var putXObjectsDictCallback = function() {\n    var images = this.internal.collections[namespace + \"images\"],\n      out = this.internal.write,\n      image;\n    for (var i in images) {\n      image = images[i];\n      out(\"/I\" + image.index, image.objectId, \"0\", \"R\");\n    }\n  };\n\n  var checkCompressValue = function(value) {\n    if (value && typeof value === \"string\") value = value.toUpperCase();\n    return value in jsPDFAPI.image_compression ? value : image_compression.NONE;\n  };\n\n  var initialize = function() {\n    if (!this.internal.collections[namespace + \"images\"]) {\n      this.internal.collections[namespace + \"images\"] = {};\n      this.internal.events.subscribe(\"putResources\", putResourcesCallback);\n      this.internal.events.subscribe(\"putXobjectDict\", putXObjectsDictCallback);\n    }\n  };\n\n  var getImages = function() {\n    var images = this.internal.collections[namespace + \"images\"];\n    initialize.call(this);\n    return images;\n  };\n  var getImageIndex = function() {\n    return Object.keys(this.internal.collections[namespace + \"images\"]).length;\n  };\n  var notDefined = function(value) {\n    return typeof value === \"undefined\" || value === null || value.length === 0;\n  };\n  var generateAliasFromImageData = function(imageData) {\n    if (typeof imageData === \"string\" || isArrayBufferView(imageData)) {\n      return sHashCode(imageData);\n    } else if (isArrayBufferView(imageData.data)) {\n      return sHashCode(imageData.data);\n    }\n\n    return null;\n  };\n\n  var isImageTypeSupported = function(type) {\n    return typeof jsPDFAPI[\"process\" + type.toUpperCase()] === \"function\";\n  };\n\n  var isDOMElement = function(object) {\n    return typeof object === \"object\" && object.nodeType === 1;\n  };\n\n  var getImageDataFromElement = function(element, format) {\n    //if element is an image which uses data url definition, just return the dataurl\n    if (element.nodeName === \"IMG\" && element.hasAttribute(\"src\")) {\n      var src = \"\" + element.getAttribute(\"src\");\n\n      //is base64 encoded dataUrl, directly process it\n      if (src.indexOf(\"data:image/\") === 0) {\n        return atob(\n          unescape(src)\n            .split(\"base64,\")\n            .pop()\n        );\n      }\n\n      //it is probably an url, try to load it\n      var tmpImageData = jsPDFAPI.loadFile(src, true);\n      if (tmpImageData !== undefined) {\n        return tmpImageData;\n      }\n    }\n\n    if (element.nodeName === \"CANVAS\") {\n      if (element.width === 0 || element.height === 0) {\n        throw new Error(\n          \"Given canvas must have data. Canvas width: \" +\n            element.width +\n            \", height: \" +\n            element.height\n        );\n      }\n      var mimeType;\n      switch (format) {\n        case \"PNG\":\n          mimeType = \"image/png\";\n          break;\n        case \"WEBP\":\n          mimeType = \"image/webp\";\n          break;\n        case \"JPEG\":\n        case \"JPG\":\n        default:\n          mimeType = \"image/jpeg\";\n          break;\n      }\n      return atob(\n        element\n          .toDataURL(mimeType, 1.0)\n          .split(\"base64,\")\n          .pop()\n      );\n    }\n  };\n\n  var checkImagesForAlias = function(alias) {\n    var images = this.internal.collections[namespace + \"images\"];\n    if (images) {\n      for (var e in images) {\n        if (alias === images[e].alias) {\n          return images[e];\n        }\n      }\n    }\n  };\n\n  var determineWidthAndHeight = function(width, height, image) {\n    if (!width && !height) {\n      width = -96;\n      height = -96;\n    }\n    if (width < 0) {\n      width = (-1 * image.width * 72) / width / this.internal.scaleFactor;\n    }\n    if (height < 0) {\n      height = (-1 * image.height * 72) / height / this.internal.scaleFactor;\n    }\n    if (width === 0) {\n      width = (height * image.width) / image.height;\n    }\n    if (height === 0) {\n      height = (width * image.height) / image.width;\n    }\n\n    return [width, height];\n  };\n\n  var writeImageToPDF = function(x, y, width, height, image, rotation) {\n    var dims = determineWidthAndHeight.call(this, width, height, image),\n      coord = this.internal.getCoordinateString,\n      vcoord = this.internal.getVerticalCoordinateString;\n\n    var images = getImages.call(this);\n\n    width = dims[0];\n    height = dims[1];\n    images[image.index] = image;\n\n    if (rotation) {\n      rotation *= Math.PI / 180;\n      var c = Math.cos(rotation);\n      var s = Math.sin(rotation);\n      //like in pdf Reference do it 4 digits instead of 2\n      var f4 = function(number) {\n        return number.toFixed(4);\n      };\n      var rotationTransformationMatrix = [\n        f4(c),\n        f4(s),\n        f4(s * -1),\n        f4(c),\n        0,\n        0,\n        \"cm\"\n      ];\n    }\n    this.internal.write(\"q\"); //Save graphics state\n    if (rotation) {\n      this.internal.write(\n        [1, \"0\", \"0\", 1, coord(x), vcoord(y + height), \"cm\"].join(\" \")\n      ); //Translate\n      this.internal.write(rotationTransformationMatrix.join(\" \")); //Rotate\n      this.internal.write(\n        [coord(width), \"0\", \"0\", coord(height), \"0\", \"0\", \"cm\"].join(\" \")\n      ); //Scale\n    } else {\n      this.internal.write(\n        [\n          coord(width),\n          \"0\",\n          \"0\",\n          coord(height),\n          coord(x),\n          vcoord(y + height),\n          \"cm\"\n        ].join(\" \")\n      ); //Translate and Scale\n    }\n\n    if (this.isAdvancedAPI()) {\n      // draw image bottom up when in \"advanced\" API mode\n      this.internal.write([1, 0, 0, -1, 0, 0, \"cm\"].join(\" \"));\n    }\n\n    this.internal.write(\"/I\" + image.index + \" Do\"); //Paint Image\n    this.internal.write(\"Q\"); //Restore graphics state\n  };\n\n  /**\n   * COLOR SPACES\n   */\n  var color_spaces = (jsPDFAPI.color_spaces = {\n    DEVICE_RGB: \"DeviceRGB\",\n    DEVICE_GRAY: \"DeviceGray\",\n    DEVICE_CMYK: \"DeviceCMYK\",\n    CAL_GREY: \"CalGray\",\n    CAL_RGB: \"CalRGB\",\n    LAB: \"Lab\",\n    ICC_BASED: \"ICCBased\",\n    INDEXED: \"Indexed\",\n    PATTERN: \"Pattern\",\n    SEPARATION: \"Separation\",\n    DEVICE_N: \"DeviceN\"\n  });\n\n  /**\n   * DECODE METHODS\n   */\n  jsPDFAPI.decode = {\n    DCT_DECODE: \"DCTDecode\",\n    FLATE_DECODE: \"FlateDecode\",\n    LZW_DECODE: \"LZWDecode\",\n    JPX_DECODE: \"JPXDecode\",\n    JBIG2_DECODE: \"JBIG2Decode\",\n    ASCII85_DECODE: \"ASCII85Decode\",\n    ASCII_HEX_DECODE: \"ASCIIHexDecode\",\n    RUN_LENGTH_DECODE: \"RunLengthDecode\",\n    CCITT_FAX_DECODE: \"CCITTFaxDecode\"\n  };\n\n  /**\n   * IMAGE COMPRESSION TYPES\n   */\n  var image_compression = (jsPDFAPI.image_compression = {\n    NONE: \"NONE\",\n    FAST: \"FAST\",\n    MEDIUM: \"MEDIUM\",\n    SLOW: \"SLOW\"\n  });\n\n  /**\n   * @name sHashCode\n   * @function\n   * @param {string} data\n   * @returns {string}\n   */\n  var sHashCode = (jsPDFAPI.__addimage__.sHashCode = function(data) {\n    var hash = 0,\n      i,\n      len;\n\n    if (typeof data === \"string\") {\n      len = data.length;\n      for (i = 0; i < len; i++) {\n        hash = (hash << 5) - hash + data.charCodeAt(i);\n        hash |= 0; // Convert to 32bit integer\n      }\n    } else if (isArrayBufferView(data)) {\n      len = data.byteLength / 2;\n      for (i = 0; i < len; i++) {\n        hash = (hash << 5) - hash + data[i];\n        hash |= 0; // Convert to 32bit integer\n      }\n    }\n    return hash;\n  });\n\n  /**\n   * Validates if given String is a valid Base64-String\n   *\n   * @name validateStringAsBase64\n   * @public\n   * @function\n   * @param {String} possible Base64-String\n   *\n   * @returns {boolean}\n   */\n  var validateStringAsBase64 = (jsPDFAPI.__addimage__.validateStringAsBase64 = function(\n    possibleBase64String\n  ) {\n    possibleBase64String = possibleBase64String || \"\";\n    possibleBase64String.toString().trim();\n\n    var result = true;\n\n    if (possibleBase64String.length === 0) {\n      result = false;\n    }\n\n    if (possibleBase64String.length % 4 !== 0) {\n      result = false;\n    }\n\n    if (\n      /^[A-Za-z0-9+/]+$/.test(\n        possibleBase64String.substr(0, possibleBase64String.length - 2)\n      ) === false\n    ) {\n      result = false;\n    }\n\n    if (\n      /^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(\n        possibleBase64String.substr(-2)\n      ) === false\n    ) {\n      result = false;\n    }\n    return result;\n  });\n\n  /**\n   * Strips out and returns info from a valid base64 data URI\n   *\n   * @name extractImageFromDataUrl\n   * @function\n   * @param {string} dataUrl a valid data URI of format 'data:[<MIME-type>][;base64],<data>'\n   * @returns {Array}an Array containing the following\n   * [0] the complete data URI\n   * [1] <MIME-type>\n   * [2] format - the second part of the mime-type i.e 'png' in 'image/png'\n   * [4] <data>\n   */\n  var extractImageFromDataUrl = (jsPDFAPI.__addimage__.extractImageFromDataUrl = function(\n    dataUrl\n  ) {\n    dataUrl = dataUrl || \"\";\n    var dataUrlParts = dataUrl.split(\"base64,\");\n    var result = null;\n\n    if (dataUrlParts.length === 2) {\n      var extractedInfo = /^data:(\\w*\\/\\w*);*(charset=(?!charset=)[\\w=-]*)*;*$/.exec(\n        dataUrlParts[0]\n      );\n      if (Array.isArray(extractedInfo)) {\n        result = {\n          mimeType: extractedInfo[1],\n          charset: extractedInfo[2],\n          data: dataUrlParts[1]\n        };\n      }\n    }\n    return result;\n  });\n\n  /**\n   * Check to see if ArrayBuffer is supported\n   *\n   * @name supportsArrayBuffer\n   * @function\n   * @returns {boolean}\n   */\n  var supportsArrayBuffer = (jsPDFAPI.__addimage__.supportsArrayBuffer = function() {\n    return (\n      typeof ArrayBuffer !== \"undefined\" && typeof Uint8Array !== \"undefined\"\n    );\n  });\n\n  /**\n   * Tests supplied object to determine if ArrayBuffer\n   *\n   * @name isArrayBuffer\n   * @function\n   * @param {Object} object an Object\n   *\n   * @returns {boolean}\n   */\n  jsPDFAPI.__addimage__.isArrayBuffer = function(object) {\n    return supportsArrayBuffer() && object instanceof ArrayBuffer;\n  };\n\n  /**\n   * Tests supplied object to determine if it implements the ArrayBufferView (TypedArray) interface\n   *\n   * @name isArrayBufferView\n   * @function\n   * @param {Object} object an Object\n   * @returns {boolean}\n   */\n  var isArrayBufferView = (jsPDFAPI.__addimage__.isArrayBufferView = function(\n    object\n  ) {\n    return (\n      supportsArrayBuffer() &&\n      typeof Uint32Array !== \"undefined\" &&\n      (object instanceof Int8Array ||\n        object instanceof Uint8Array ||\n        (typeof Uint8ClampedArray !== \"undefined\" &&\n          object instanceof Uint8ClampedArray) ||\n        object instanceof Int16Array ||\n        object instanceof Uint16Array ||\n        object instanceof Int32Array ||\n        object instanceof Uint32Array ||\n        object instanceof Float32Array ||\n        object instanceof Float64Array)\n    );\n  });\n\n  /**\n   * Convert Binary String to ArrayBuffer\n   *\n   * @name binaryStringToUint8Array\n   * @public\n   * @function\n   * @param {string} BinaryString with ImageData\n   * @returns {Uint8Array}\n   */\n  var binaryStringToUint8Array = (jsPDFAPI.__addimage__.binaryStringToUint8Array = function(\n    binary_string\n  ) {\n    var len = binary_string.length;\n    var bytes = new Uint8Array(len);\n    for (var i = 0; i < len; i++) {\n      bytes[i] = binary_string.charCodeAt(i);\n    }\n    return bytes;\n  });\n\n  /**\n   * Convert the Buffer to a Binary String\n   *\n   * @name arrayBufferToBinaryString\n   * @public\n   * @function\n   * @param {ArrayBuffer|ArrayBufferView} ArrayBuffer buffer or bufferView with ImageData\n   *\n   * @returns {String}\n   */\n  var arrayBufferToBinaryString = (jsPDFAPI.__addimage__.arrayBufferToBinaryString = function(\n    buffer\n  ) {\n    var out = \"\";\n    // There are calls with both ArrayBuffer and already converted Uint8Array or other BufferView.\n    // Do not copy the array if input is already an array.\n    var buf = isArrayBufferView(buffer) ? buffer : new Uint8Array(buffer);\n    for (var i = 0; i < buf.length; i += ARRAY_APPLY_BATCH) {\n      // Limit the amount of characters being parsed to prevent overflow.\n      // Note that while TextDecoder would be faster, it does not have the same\n      // functionality as fromCharCode with any provided encodings as of 3/2021.\n      out += String.fromCharCode.apply(\n        null,\n        buf.subarray(i, i + ARRAY_APPLY_BATCH)\n      );\n    }\n    return out;\n  });\n\n  /**\n   * Possible parameter for addImage, an RGBA buffer with size.\n   *\n   * @typedef {Object} RGBAData\n   * @property {Uint8ClampedArray} data - Single dimensional array of RGBA values. For example from canvas getImageData.\n   * @property {number} width - Image width as the data does not carry this information in itself.\n   * @property {number} height - Image height as the data does not carry this information in itself.\n   */\n\n  /**\n   * Adds an Image to the PDF.\n   *\n   * @name addImage\n   * @public\n   * @function\n   * @param {string|HTMLImageElement|HTMLCanvasElement|Uint8Array|RGBAData} imageData imageData as base64 encoded DataUrl or Image-HTMLElement or Canvas-HTMLElement or object containing RGBA array (like output from canvas.getImageData).\n   * @param {string} format format of file if filetype-recognition fails or in case of a Canvas-Element needs to be specified (default for Canvas is JPEG), e.g. 'JPEG', 'PNG', 'WEBP'\n   * @param {number} x x Coordinate (in units declared at inception of PDF document) against left edge of the page\n   * @param {number} y y Coordinate (in units declared at inception of PDF document) against upper edge of the page\n   * @param {number} width width of the image (in units declared at inception of PDF document)\n   * @param {number} height height of the Image (in units declared at inception of PDF document)\n   * @param {string} alias alias of the image (if used multiple times)\n   * @param {string} compression compression of the generated JPEG, can have the values 'NONE', 'FAST', 'MEDIUM' and 'SLOW'\n   * @param {number} rotation rotation of the image in degrees (0-359)\n   *\n   * @returns jsPDF\n   */\n  jsPDFAPI.addImage = function() {\n    var imageData, format, x, y, w, h, alias, compression, rotation;\n\n    imageData = arguments[0];\n    if (typeof arguments[1] === \"number\") {\n      format = UNKNOWN;\n      x = arguments[1];\n      y = arguments[2];\n      w = arguments[3];\n      h = arguments[4];\n      alias = arguments[5];\n      compression = arguments[6];\n      rotation = arguments[7];\n    } else {\n      format = arguments[1];\n      x = arguments[2];\n      y = arguments[3];\n      w = arguments[4];\n      h = arguments[5];\n      alias = arguments[6];\n      compression = arguments[7];\n      rotation = arguments[8];\n    }\n\n    if (\n      typeof imageData === \"object\" &&\n      !isDOMElement(imageData) &&\n      \"imageData\" in imageData\n    ) {\n      var options = imageData;\n\n      imageData = options.imageData;\n      format = options.format || format || UNKNOWN;\n      x = options.x || x || 0;\n      y = options.y || y || 0;\n      w = options.w || options.width || w;\n      h = options.h || options.height || h;\n      alias = options.alias || alias;\n      compression = options.compression || compression;\n      rotation = options.rotation || options.angle || rotation;\n    }\n\n    //If compression is not explicitly set, determine if we should use compression\n    var filter = this.internal.getFilters();\n    if (compression === undefined && filter.indexOf(\"FlateEncode\") !== -1) {\n      compression = \"SLOW\";\n    }\n\n    if (isNaN(x) || isNaN(y)) {\n      throw new Error(\"Invalid coordinates passed to jsPDF.addImage\");\n    }\n\n    initialize.call(this);\n\n    var image = processImageData.call(\n      this,\n      imageData,\n      format,\n      alias,\n      compression\n    );\n\n    writeImageToPDF.call(this, x, y, w, h, image, rotation);\n\n    return this;\n  };\n\n  var processImageData = function(imageData, format, alias, compression) {\n    var result, dataAsBinaryString;\n\n    if (\n      typeof imageData === \"string\" &&\n      getImageFileTypeByImageData(imageData) === UNKNOWN\n    ) {\n      imageData = unescape(imageData);\n      var tmpImageData = convertBase64ToBinaryString(imageData, false);\n\n      if (tmpImageData !== \"\") {\n        imageData = tmpImageData;\n      } else {\n        tmpImageData = jsPDFAPI.loadFile(imageData, true);\n        if (tmpImageData !== undefined) {\n          imageData = tmpImageData;\n        }\n      }\n    }\n\n    if (isDOMElement(imageData)) {\n      imageData = getImageDataFromElement(imageData, format);\n    }\n\n    format = getImageFileTypeByImageData(imageData, format);\n    if (!isImageTypeSupported(format)) {\n      throw new Error(\n        \"addImage does not support files of type '\" +\n          format +\n          \"', please ensure that a plugin for '\" +\n          format +\n          \"' support is added.\"\n      );\n    }\n\n    // now do the heavy lifting\n\n    if (notDefined(alias)) {\n      alias = generateAliasFromImageData(imageData);\n    }\n    result = checkImagesForAlias.call(this, alias);\n\n    if (!result) {\n      if (supportsArrayBuffer()) {\n        // no need to convert if imageData is already uint8array\n        if (!(imageData instanceof Uint8Array) && format !== \"RGBA\") {\n          dataAsBinaryString = imageData;\n          imageData = binaryStringToUint8Array(imageData);\n        }\n      }\n\n      result = this[\"process\" + format.toUpperCase()](\n        imageData,\n        getImageIndex.call(this),\n        alias,\n        checkCompressValue(compression),\n        dataAsBinaryString\n      );\n    }\n\n    if (!result) {\n      throw new Error(\"An unknown error occurred whilst processing the image.\");\n    }\n    return result;\n  };\n\n  /**\n   * @name convertBase64ToBinaryString\n   * @function\n   * @param {string} stringData\n   * @returns {string} binary string\n   */\n  var convertBase64ToBinaryString = (jsPDFAPI.__addimage__.convertBase64ToBinaryString = function(\n    stringData,\n    throwError\n  ) {\n    throwError = typeof throwError === \"boolean\" ? throwError : true;\n    var base64Info;\n    var imageData = \"\";\n    var rawData;\n\n    if (typeof stringData === \"string\") {\n      base64Info = extractImageFromDataUrl(stringData);\n      rawData = base64Info !== null ? base64Info.data : stringData;\n\n      try {\n        imageData = atob(rawData);\n      } catch (e) {\n        if (throwError) {\n          if (!validateStringAsBase64(rawData)) {\n            throw new Error(\n              \"Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString \"\n            );\n          } else {\n            throw new Error(\n              \"atob-Error in jsPDF.convertBase64ToBinaryString \" + e.message\n            );\n          }\n        }\n      }\n    }\n    return imageData;\n  });\n\n  /**\n   * @name getImageProperties\n   * @function\n   * @param {Object} imageData\n   * @returns {Object}\n   */\n  jsPDFAPI.getImageProperties = function(imageData) {\n    var image;\n    var tmpImageData = \"\";\n    var format;\n\n    if (isDOMElement(imageData)) {\n      imageData = getImageDataFromElement(imageData);\n    }\n\n    if (\n      typeof imageData === \"string\" &&\n      getImageFileTypeByImageData(imageData) === UNKNOWN\n    ) {\n      tmpImageData = convertBase64ToBinaryString(imageData, false);\n\n      if (tmpImageData === \"\") {\n        tmpImageData = jsPDFAPI.loadFile(imageData) || \"\";\n      }\n      imageData = tmpImageData;\n    }\n\n    format = getImageFileTypeByImageData(imageData);\n    if (!isImageTypeSupported(format)) {\n      throw new Error(\n        \"addImage does not support files of type '\" +\n          format +\n          \"', please ensure that a plugin for '\" +\n          format +\n          \"' support is added.\"\n      );\n    }\n\n    if (supportsArrayBuffer() && !(imageData instanceof Uint8Array)) {\n      imageData = binaryStringToUint8Array(imageData);\n    }\n\n    image = this[\"process\" + format.toUpperCase()](imageData);\n\n    if (!image) {\n      throw new Error(\"An unknown error occurred whilst processing the image\");\n    }\n\n    image.fileType = format;\n\n    return image;\n  };\n})(jsPDF.API);\n","/**\n * @license\n *\n * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n * ====================================================================\n */\n\nimport { jsPDF } from \"../jspdf.js\";\nimport { zlibSync } from \"../libs/fflate.js\";\nimport { PNG } from \"../libs/png.js\";\n\n/**\n * jsPDF PNG PlugIn\n * @name png_support\n * @module\n */\n(function(jsPDFAPI) {\n  \"use strict\";\n\n  /*\n   * @see http://www.w3.org/TR/PNG-Chunks.html\n   *\n   Color    Allowed      Interpretation\n   Type     Bit Depths\n\n     0       1,2,4,8,16  Each pixel is a grayscale sample.\n\n     2       8,16        Each pixel is an R,G,B triple.\n\n     3       1,2,4,8     Each pixel is a palette index;\n                         a PLTE chunk must appear.\n\n     4       8,16        Each pixel is a grayscale sample,\n                         followed by an alpha sample.\n\n     6       8,16        Each pixel is an R,G,B triple,\n                         followed by an alpha sample.\n  */\n\n  /*\n   * PNG filter method types\n   *\n   * @see http://www.w3.org/TR/PNG-Filters.html\n   * @see http://www.libpng.org/pub/png/book/chapter09.html\n   *\n   * This is what the value 'Predictor' in decode params relates to\n   *\n   * 15 is \"optimal prediction\", which means the prediction algorithm can change from line to line.\n   * In that case, you actually have to read the first byte off each line for the prediction algorthim (which should be 0-4, corresponding to PDF 10-14) and select the appropriate unprediction algorithm based on that byte.\n   *\n     0       None\n     1       Sub\n     2       Up\n     3       Average\n     4       Paeth\n   */\n\n  var canCompress = function(value) {\n    return value !== jsPDFAPI.image_compression.NONE && hasCompressionJS();\n  };\n\n  var hasCompressionJS = function() {\n    return typeof zlibSync === \"function\";\n  };\n  var compressBytes = function(bytes, lineLength, colorsPerPixel, compression) {\n    var level = 4;\n    var filter_method = filterUp;\n\n    switch (compression) {\n      case jsPDFAPI.image_compression.FAST:\n        level = 1;\n        filter_method = filterSub;\n        break;\n\n      case jsPDFAPI.image_compression.MEDIUM:\n        level = 6;\n        filter_method = filterAverage;\n        break;\n\n      case jsPDFAPI.image_compression.SLOW:\n        level = 9;\n        filter_method = filterPaeth;\n        break;\n    }\n\n    bytes = applyPngFilterMethod(\n      bytes,\n      lineLength,\n      colorsPerPixel,\n      filter_method\n    );\n    var dat = zlibSync(bytes, { level: level });\n    return jsPDFAPI.__addimage__.arrayBufferToBinaryString(dat);\n  };\n\n  var applyPngFilterMethod = function(\n    bytes,\n    lineLength,\n    colorsPerPixel,\n    filter_method\n  ) {\n    var lines = bytes.length / lineLength,\n      result = new Uint8Array(bytes.length + lines),\n      filter_methods = getFilterMethods(),\n      line,\n      prevLine,\n      offset;\n\n    for (var i = 0; i < lines; i += 1) {\n      offset = i * lineLength;\n      line = bytes.subarray(offset, offset + lineLength);\n\n      if (filter_method) {\n        result.set(filter_method(line, colorsPerPixel, prevLine), offset + i);\n      } else {\n        var len = filter_methods.length,\n          results = [];\n\n        for (var j; j < len; j += 1) {\n          results[j] = filter_methods[j](line, colorsPerPixel, prevLine);\n        }\n\n        var ind = getIndexOfSmallestSum(results.concat());\n\n        result.set(results[ind], offset + i);\n      }\n\n      prevLine = line;\n    }\n\n    return result;\n  };\n\n  var filterNone = function(line) {\n    /*var result = new Uint8Array(line.length + 1);\n    result[0] = 0;\n    result.set(line, 1);*/\n\n    var result = Array.apply([], line);\n    result.unshift(0);\n\n    return result;\n  };\n\n  var filterSub = function(line, colorsPerPixel) {\n    var result = [],\n      len = line.length,\n      left;\n\n    result[0] = 1;\n\n    for (var i = 0; i < len; i += 1) {\n      left = line[i - colorsPerPixel] || 0;\n      result[i + 1] = (line[i] - left + 0x0100) & 0xff;\n    }\n\n    return result;\n  };\n\n  var filterUp = function(line, colorsPerPixel, prevLine) {\n    var result = [],\n      len = line.length,\n      up;\n\n    result[0] = 2;\n\n    for (var i = 0; i < len; i += 1) {\n      up = (prevLine && prevLine[i]) || 0;\n      result[i + 1] = (line[i] - up + 0x0100) & 0xff;\n    }\n\n    return result;\n  };\n\n  var filterAverage = function(line, colorsPerPixel, prevLine) {\n    var result = [],\n      len = line.length,\n      left,\n      up;\n\n    result[0] = 3;\n\n    for (var i = 0; i < len; i += 1) {\n      left = line[i - colorsPerPixel] || 0;\n      up = (prevLine && prevLine[i]) || 0;\n      result[i + 1] = (line[i] + 0x0100 - ((left + up) >>> 1)) & 0xff;\n    }\n\n    return result;\n  };\n\n  var filterPaeth = function(line, colorsPerPixel, prevLine) {\n    var result = [],\n      len = line.length,\n      left,\n      up,\n      upLeft,\n      paeth;\n\n    result[0] = 4;\n\n    for (var i = 0; i < len; i += 1) {\n      left = line[i - colorsPerPixel] || 0;\n      up = (prevLine && prevLine[i]) || 0;\n      upLeft = (prevLine && prevLine[i - colorsPerPixel]) || 0;\n      paeth = paethPredictor(left, up, upLeft);\n      result[i + 1] = (line[i] - paeth + 0x0100) & 0xff;\n    }\n\n    return result;\n  };\n\n  var paethPredictor = function(left, up, upLeft) {\n    if (left === up && up === upLeft) {\n      return left;\n    }\n    var pLeft = Math.abs(up - upLeft),\n      pUp = Math.abs(left - upLeft),\n      pUpLeft = Math.abs(left + up - upLeft - upLeft);\n    return pLeft <= pUp && pLeft <= pUpLeft\n      ? left\n      : pUp <= pUpLeft\n      ? up\n      : upLeft;\n  };\n\n  var getFilterMethods = function() {\n    return [filterNone, filterSub, filterUp, filterAverage, filterPaeth];\n  };\n\n  var getIndexOfSmallestSum = function(arrays) {\n    var sum = arrays.map(function(value) {\n      return value.reduce(function(pv, cv) {\n        return pv + Math.abs(cv);\n      }, 0);\n    });\n    return sum.indexOf(Math.min.apply(null, sum));\n  };\n\n  var getPredictorFromCompression = function(compression) {\n    var predictor;\n    switch (compression) {\n      case jsPDFAPI.image_compression.FAST:\n        predictor = 11;\n        break;\n\n      case jsPDFAPI.image_compression.MEDIUM:\n        predictor = 13;\n        break;\n\n      case jsPDFAPI.image_compression.SLOW:\n        predictor = 14;\n        break;\n\n      default:\n        predictor = 12;\n        break;\n    }\n    return predictor;\n  };\n\n  /**\n   * @name processPNG\n   * @function\n   * @ignore\n   */\n  jsPDFAPI.processPNG = function(imageData, index, alias, compression) {\n    \"use strict\";\n\n    var colorSpace,\n      filter = this.decode.FLATE_DECODE,\n      bitsPerComponent,\n      image,\n      decodeParameters = \"\",\n      trns,\n      colors,\n      pal,\n      smask,\n      pixels,\n      len,\n      alphaData,\n      imgData,\n      hasColors,\n      pixel,\n      i,\n      n;\n\n    if (this.__addimage__.isArrayBuffer(imageData))\n      imageData = new Uint8Array(imageData);\n\n    if (this.__addimage__.isArrayBufferView(imageData)) {\n      image = new PNG(imageData);\n      imageData = image.imgData;\n      bitsPerComponent = image.bits;\n      colorSpace = image.colorSpace;\n      colors = image.colors;\n\n      /*\n       * colorType 6 - Each pixel is an R,G,B triple, followed by an alpha sample.\n       *\n       * colorType 4 - Each pixel is a grayscale sample, followed by an alpha sample.\n       *\n       * Extract alpha to create two separate images, using the alpha as a sMask\n       */\n      if ([4, 6].indexOf(image.colorType) !== -1) {\n        /*\n         * processes 8 bit RGBA and grayscale + alpha images\n         */\n        if (image.bits === 8) {\n          pixels =\n            image.pixelBitlength == 32\n              ? new Uint32Array(image.decodePixels().buffer)\n              : image.pixelBitlength == 16\n              ? new Uint16Array(image.decodePixels().buffer)\n              : new Uint8Array(image.decodePixels().buffer);\n          len = pixels.length;\n          imgData = new Uint8Array(len * image.colors);\n          alphaData = new Uint8Array(len);\n          var pDiff = image.pixelBitlength - image.bits;\n          i = 0;\n          n = 0;\n          var pbl;\n\n          for (; i < len; i++) {\n            pixel = pixels[i];\n            pbl = 0;\n\n            while (pbl < pDiff) {\n              imgData[n++] = (pixel >>> pbl) & 0xff;\n              pbl = pbl + image.bits;\n            }\n\n            alphaData[i] = (pixel >>> pbl) & 0xff;\n          }\n        }\n\n        /*\n         * processes 16 bit RGBA and grayscale + alpha images\n         */\n        if (image.bits === 16) {\n          pixels = new Uint32Array(image.decodePixels().buffer);\n          len = pixels.length;\n          imgData = new Uint8Array(\n            len * (32 / image.pixelBitlength) * image.colors\n          );\n          alphaData = new Uint8Array(len * (32 / image.pixelBitlength));\n          hasColors = image.colors > 1;\n          i = 0;\n          n = 0;\n          var a = 0;\n\n          while (i < len) {\n            pixel = pixels[i++];\n\n            imgData[n++] = (pixel >>> 0) & 0xff;\n\n            if (hasColors) {\n              imgData[n++] = (pixel >>> 16) & 0xff;\n\n              pixel = pixels[i++];\n              imgData[n++] = (pixel >>> 0) & 0xff;\n            }\n\n            alphaData[a++] = (pixel >>> 16) & 0xff;\n          }\n          bitsPerComponent = 8;\n        }\n\n        if (canCompress(compression)) {\n          imageData = compressBytes(\n            imgData,\n            image.width * image.colors,\n            image.colors,\n            compression\n          );\n          smask = compressBytes(alphaData, image.width, 1, compression);\n        } else {\n          imageData = imgData;\n          smask = alphaData;\n          filter = undefined;\n        }\n      }\n\n      /*\n       * Indexed png. Each pixel is a palette index.\n       */\n      if (image.colorType === 3) {\n        colorSpace = this.color_spaces.INDEXED;\n        pal = image.palette;\n\n        if (image.transparency.indexed) {\n          var trans = image.transparency.indexed;\n          var total = 0;\n          i = 0;\n          len = trans.length;\n\n          for (; i < len; ++i) {\n            total += trans[i];\n          }\n\n          total = total / 255;\n\n          /*\n           * a single color is specified as 100% transparent (0),\n           * so we set trns to use a /Mask with that index\n           */\n          if (total === len - 1 && trans.indexOf(0) !== -1) {\n            trns = [trans.indexOf(0)];\n\n            /*\n             * there's more than one colour within the palette that specifies\n             * a transparency value less than 255, so we unroll the pixels to create an image sMask\n             */\n          } else if (total !== len) {\n            pixels = image.decodePixels();\n            alphaData = new Uint8Array(pixels.length);\n            i = 0;\n            len = pixels.length;\n\n            for (; i < len; i++) {\n              alphaData[i] = trans[pixels[i]];\n            }\n\n            smask = compressBytes(alphaData, image.width, 1);\n          }\n        }\n      }\n\n      var predictor = getPredictorFromCompression(compression);\n\n      if (filter === this.decode.FLATE_DECODE) {\n        decodeParameters = \"/Predictor \" + predictor + \" \";\n      }\n      decodeParameters +=\n        \"/Colors \" +\n        colors +\n        \" /BitsPerComponent \" +\n        bitsPerComponent +\n        \" /Columns \" +\n        image.width;\n\n      if (\n        this.__addimage__.isArrayBuffer(imageData) ||\n        this.__addimage__.isArrayBufferView(imageData)\n      ) {\n        imageData = this.__addimage__.arrayBufferToBinaryString(imageData);\n      }\n\n      if (\n        (smask && this.__addimage__.isArrayBuffer(smask)) ||\n        this.__addimage__.isArrayBufferView(smask)\n      ) {\n        smask = this.__addimage__.arrayBufferToBinaryString(smask);\n      }\n\n      return {\n        alias: alias,\n        data: imageData,\n        index: index,\n        filter: filter,\n        decodeParameters: decodeParameters,\n        transparency: trns,\n        palette: pal,\n        sMask: smask,\n        predictor: predictor,\n        width: image.width,\n        height: image.height,\n        bitsPerComponent: bitsPerComponent,\n        colorSpace: colorSpace\n      };\n    }\n  };\n})(jsPDF.API);\n","// DEFLATE is a complex format; to read this code, you should probably check the RFC first:\n// https://tools.ietf.org/html/rfc1951\n// You may also wish to take a look at the guide I made about this program:\n// https://gist.github.com/101arrowz/253f31eb5abc3d9275ab943003ffecad\n// Much of the following code is similar to that of UZIP.js:\n// https://github.com/photopea/UZIP.js\n// Many optimizations have been made, so the bundle size is ultimately smaller but performance is similar.\n// Sometimes 0 will appear where -1 would be more appropriate. This is because using a uint\n// is better for memory in most engines (I *think*).\nvar ch2 = {};\nvar wk = (function (c, id, msg, transfer, cb) {\n    var u = ch2[id] || (ch2[id] = URL.createObjectURL(new Blob([c], { type: 'text/javascript' })));\n    var w = new Worker(u);\n    w.onerror = function (e) { return cb(e.error, null); };\n    w.onmessage = function (e) { return cb(null, e.data); };\n    w.postMessage(msg, transfer);\n    return w;\n});\n\n// aliases for shorter compressed code (most minifers don't do this)\nvar u8 = Uint8Array, u16 = Uint16Array, u32 = Uint32Array;\n// fixed length extra bits\nvar fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, /* unused */ 0, 0, /* impossible */ 0]);\n// fixed distance extra bits\n// see fleb note\nvar fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, /* unused */ 0, 0]);\n// code length index map\nvar clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n// get base, reverse index map from extra bits\nvar freb = function (eb, start) {\n    var b = new u16(31);\n    for (var i = 0; i < 31; ++i) {\n        b[i] = start += 1 << eb[i - 1];\n    }\n    // numbers here are at max 18 bits\n    var r = new u32(b[30]);\n    for (var i = 1; i < 30; ++i) {\n        for (var j = b[i]; j < b[i + 1]; ++j) {\n            r[j] = ((j - b[i]) << 5) | i;\n        }\n    }\n    return [b, r];\n};\nvar _a = freb(fleb, 2), fl = _a[0], revfl = _a[1];\n// we can ignore the fact that the other numbers are wrong; they never happen anyway\nfl[28] = 258, revfl[258] = 28;\nvar _b = freb(fdeb, 0), fd = _b[0], revfd = _b[1];\n// map of value to reverse (assuming 16 bits)\nvar rev = new u16(32768);\nfor (var i = 0; i < 32768; ++i) {\n    // reverse table algorithm from SO\n    var x = ((i & 0xAAAA) >>> 1) | ((i & 0x5555) << 1);\n    x = ((x & 0xCCCC) >>> 2) | ((x & 0x3333) << 2);\n    x = ((x & 0xF0F0) >>> 4) | ((x & 0x0F0F) << 4);\n    rev[i] = (((x & 0xFF00) >>> 8) | ((x & 0x00FF) << 8)) >>> 1;\n}\n// create huffman tree from u8 \"map\": index -> code length for code index\n// mb (max bits) must be at most 15\n// TODO: optimize/split up?\nvar hMap = (function (cd, mb, r) {\n    var s = cd.length;\n    // index\n    var i = 0;\n    // u16 \"map\": index -> # of codes with bit length = index\n    var l = new u16(mb);\n    // length of cd must be 288 (total # of codes)\n    for (; i < s; ++i)\n        ++l[cd[i] - 1];\n    // u16 \"map\": index -> minimum code for bit length = index\n    var le = new u16(mb);\n    for (i = 0; i < mb; ++i) {\n        le[i] = (le[i - 1] + l[i - 1]) << 1;\n    }\n    var co;\n    if (r) {\n        // u16 \"map\": index -> number of actual bits, symbol for code\n        co = new u16(1 << mb);\n        // bits to remove for reverser\n        var rvb = 15 - mb;\n        for (i = 0; i < s; ++i) {\n            // ignore 0 lengths\n            if (cd[i]) {\n                // num encoding both symbol and bits read\n                var sv = (i << 4) | cd[i];\n                // free bits\n                var r_1 = mb - cd[i];\n                // start value\n                var v = le[cd[i] - 1]++ << r_1;\n                // m is end value\n                for (var m = v | ((1 << r_1) - 1); v <= m; ++v) {\n                    // every 16 bit value starting with the code yields the same result\n                    co[rev[v] >>> rvb] = sv;\n                }\n            }\n        }\n    }\n    else {\n        co = new u16(s);\n        for (i = 0; i < s; ++i)\n            co[i] = rev[le[cd[i] - 1]++] >>> (15 - cd[i]);\n    }\n    return co;\n});\n// fixed length tree\nvar flt = new u8(288);\nfor (var i = 0; i < 144; ++i)\n    flt[i] = 8;\nfor (var i = 144; i < 256; ++i)\n    flt[i] = 9;\nfor (var i = 256; i < 280; ++i)\n    flt[i] = 7;\nfor (var i = 280; i < 288; ++i)\n    flt[i] = 8;\n// fixed distance tree\nvar fdt = new u8(32);\nfor (var i = 0; i < 32; ++i)\n    fdt[i] = 5;\n// fixed length map\nvar flm = /*#__PURE__*/ hMap(flt, 9, 0), flrm = /*#__PURE__*/ hMap(flt, 9, 1);\n// fixed distance map\nvar fdm = /*#__PURE__*/ hMap(fdt, 5, 0), fdrm = /*#__PURE__*/ hMap(fdt, 5, 1);\n// find max of array\nvar max = function (a) {\n    var m = a[0];\n    for (var i = 1; i < a.length; ++i) {\n        if (a[i] > m)\n            m = a[i];\n    }\n    return m;\n};\n// read d, starting at bit p and mask with m\nvar bits = function (d, p, m) {\n    var o = (p / 8) >> 0;\n    return ((d[o] | (d[o + 1] << 8)) >>> (p & 7)) & m;\n};\n// read d, starting at bit p continuing for at least 16 bits\nvar bits16 = function (d, p) {\n    var o = (p / 8) >> 0;\n    return ((d[o] | (d[o + 1] << 8) | (d[o + 2] << 16)) >>> (p & 7));\n};\n// get end of byte\nvar shft = function (p) { return ((p / 8) >> 0) + (p & 7 && 1); };\n// typed array slice - allows garbage collector to free original reference,\n// while being more compatible than .slice\nvar slc = function (v, s, e) {\n    if (s == null || s < 0)\n        s = 0;\n    if (e == null || e > v.length)\n        e = v.length;\n    // can't use .constructor in case user-supplied\n    var n = new (v instanceof u16 ? u16 : v instanceof u32 ? u32 : u8)(e - s);\n    n.set(v.subarray(s, e));\n    return n;\n};\n// expands raw DEFLATE data\nvar inflt = function (dat, buf, st) {\n    // source length\n    var sl = dat.length;\n    // have to estimate size\n    var noBuf = !buf || st;\n    // no state\n    var noSt = !st || st.i;\n    if (!st)\n        st = {};\n    // Assumes roughly 33% compression ratio average\n    if (!buf)\n        buf = new u8(sl * 3);\n    // ensure buffer can fit at least l elements\n    var cbuf = function (l) {\n        var bl = buf.length;\n        // need to increase size to fit\n        if (l > bl) {\n            // Double or set to necessary, whichever is greater\n            var nbuf = new u8(Math.max(bl * 2, l));\n            nbuf.set(buf);\n            buf = nbuf;\n        }\n    };\n    //  last chunk         bitpos           bytes\n    var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;\n    // total bits\n    var tbts = sl * 8;\n    do {\n        if (!lm) {\n            // BFINAL - this is only 1 when last chunk is next\n            st.f = final = bits(dat, pos, 1);\n            // type: 0 = no compression, 1 = fixed huffman, 2 = dynamic huffman\n            var type = bits(dat, pos + 1, 3);\n            pos += 3;\n            if (!type) {\n                // go to end of byte boundary\n                var s = shft(pos) + 4, l = dat[s - 4] | (dat[s - 3] << 8), t = s + l;\n                if (t > sl) {\n                    if (noSt)\n                        throw 'unexpected EOF';\n                    break;\n                }\n                // ensure size\n                if (noBuf)\n                    cbuf(bt + l);\n                // Copy over uncompressed data\n                buf.set(dat.subarray(s, t), bt);\n                // Get new bitpos, update byte count\n                st.b = bt += l, st.p = pos = t * 8;\n                continue;\n            }\n            else if (type == 1)\n                lm = flrm, dm = fdrm, lbt = 9, dbt = 5;\n            else if (type == 2) {\n                //  literal                            lengths\n                var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;\n                var tl = hLit + bits(dat, pos + 5, 31) + 1;\n                pos += 14;\n                // length+distance tree\n                var ldt = new u8(tl);\n                // code length tree\n                var clt = new u8(19);\n                for (var i = 0; i < hcLen; ++i) {\n                    // use index map to get real code\n                    clt[clim[i]] = bits(dat, pos + i * 3, 7);\n                }\n                pos += hcLen * 3;\n                // code lengths bits\n                var clb = max(clt), clbmsk = (1 << clb) - 1;\n                if (!noSt && pos + tl * (clb + 7) > tbts)\n                    break;\n                // code lengths map\n                var clm = hMap(clt, clb, 1);\n                for (var i = 0; i < tl;) {\n                    var r = clm[bits(dat, pos, clbmsk)];\n                    // bits read\n                    pos += r & 15;\n                    // symbol\n                    var s = r >>> 4;\n                    // code length to copy\n                    if (s < 16) {\n                        ldt[i++] = s;\n                    }\n                    else {\n                        //  copy   count\n                        var c = 0, n = 0;\n                        if (s == 16)\n                            n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];\n                        else if (s == 17)\n                            n = 3 + bits(dat, pos, 7), pos += 3;\n                        else if (s == 18)\n                            n = 11 + bits(dat, pos, 127), pos += 7;\n                        while (n--)\n                            ldt[i++] = c;\n                    }\n                }\n                //    length tree                 distance tree\n                var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);\n                // max length bits\n                lbt = max(lt);\n                // max dist bits\n                dbt = max(dt);\n                lm = hMap(lt, lbt, 1);\n                dm = hMap(dt, dbt, 1);\n            }\n            else\n                throw 'invalid block type';\n            if (pos > tbts)\n                throw 'unexpected EOF';\n        }\n        // Make sure the buffer can hold this + the largest possible addition\n        // Maximum chunk size (practically, theoretically infinite) is 2^17;\n        if (noBuf)\n            cbuf(bt + 131072);\n        var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;\n        var mxa = lbt + dbt + 18;\n        while (noSt || pos + mxa < tbts) {\n            // bits read, code\n            var c = lm[bits16(dat, pos) & lms], sym = c >>> 4;\n            pos += c & 15;\n            if (pos > tbts)\n                throw 'unexpected EOF';\n            if (!c)\n                throw 'invalid length/literal';\n            if (sym < 256)\n                buf[bt++] = sym;\n            else if (sym == 256) {\n                lm = null;\n                break;\n            }\n            else {\n                var add = sym - 254;\n                // no extra bits needed if less\n                if (sym > 264) {\n                    // index\n                    var i = sym - 257, b = fleb[i];\n                    add = bits(dat, pos, (1 << b) - 1) + fl[i];\n                    pos += b;\n                }\n                // dist\n                var d = dm[bits16(dat, pos) & dms], dsym = d >>> 4;\n                if (!d)\n                    throw 'invalid distance';\n                pos += d & 15;\n                var dt = fd[dsym];\n                if (dsym > 3) {\n                    var b = fdeb[dsym];\n                    dt += bits16(dat, pos) & ((1 << b) - 1), pos += b;\n                }\n                if (pos > tbts)\n                    throw 'unexpected EOF';\n                if (noBuf)\n                    cbuf(bt + 131072);\n                var end = bt + add;\n                for (; bt < end; bt += 4) {\n                    buf[bt] = buf[bt - dt];\n                    buf[bt + 1] = buf[bt + 1 - dt];\n                    buf[bt + 2] = buf[bt + 2 - dt];\n                    buf[bt + 3] = buf[bt + 3 - dt];\n                }\n                bt = end;\n            }\n        }\n        st.l = lm, st.p = pos, st.b = bt;\n        if (lm)\n            final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n    } while (!final);\n    return bt == buf.length ? buf : slc(buf, 0, bt);\n};\n// starting at p, write the minimum number of bits that can hold v to d\nvar wbits = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) >> 0;\n    d[o] |= v;\n    d[o + 1] |= v >>> 8;\n};\n// starting at p, write the minimum number of bits (>8) that can hold v to d\nvar wbits16 = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) >> 0;\n    d[o] |= v;\n    d[o + 1] |= v >>> 8;\n    d[o + 2] |= v >>> 16;\n};\n// creates code lengths from a frequency table\nvar hTree = function (d, mb) {\n    // Need extra info to make a tree\n    var t = [];\n    for (var i = 0; i < d.length; ++i) {\n        if (d[i])\n            t.push({ s: i, f: d[i] });\n    }\n    var s = t.length;\n    var t2 = t.slice();\n    if (!s)\n        return [new u8(0), 0];\n    if (s == 1) {\n        var v = new u8(t[0].s + 1);\n        v[t[0].s] = 1;\n        return [v, 1];\n    }\n    t.sort(function (a, b) { return a.f - b.f; });\n    // after i2 reaches last ind, will be stopped\n    // freq must be greater than largest possible number of symbols\n    t.push({ s: -1, f: 25001 });\n    var l = t[0], r = t[1], i0 = 0, i1 = 1, i2 = 2;\n    t[0] = { s: -1, f: l.f + r.f, l: l, r: r };\n    // efficient algorithm from UZIP.js\n    // i0 is lookbehind, i2 is lookahead - after processing two low-freq\n    // symbols that combined have high freq, will start processing i2 (high-freq,\n    // non-composite) symbols instead\n    // see https://reddit.com/r/photopea/comments/ikekht/uzipjs_questions/\n    while (i1 != s - 1) {\n        l = t[t[i0].f < t[i2].f ? i0++ : i2++];\n        r = t[i0 != i1 && t[i0].f < t[i2].f ? i0++ : i2++];\n        t[i1++] = { s: -1, f: l.f + r.f, l: l, r: r };\n    }\n    var maxSym = t2[0].s;\n    for (var i = 1; i < s; ++i) {\n        if (t2[i].s > maxSym)\n            maxSym = t2[i].s;\n    }\n    // code lengths\n    var tr = new u16(maxSym + 1);\n    // max bits in tree\n    var mbt = ln(t[i1 - 1], tr, 0);\n    if (mbt > mb) {\n        // more algorithms from UZIP.js\n        // TODO: find out how this code works (debt)\n        //  ind    debt\n        var i = 0, dt = 0;\n        //    left            cost\n        var lft = mbt - mb, cst = 1 << lft;\n        t2.sort(function (a, b) { return tr[b.s] - tr[a.s] || a.f - b.f; });\n        for (; i < s; ++i) {\n            var i2_1 = t2[i].s;\n            if (tr[i2_1] > mb) {\n                dt += cst - (1 << (mbt - tr[i2_1]));\n                tr[i2_1] = mb;\n            }\n            else\n                break;\n        }\n        dt >>>= lft;\n        while (dt > 0) {\n            var i2_2 = t2[i].s;\n            if (tr[i2_2] < mb)\n                dt -= 1 << (mb - tr[i2_2]++ - 1);\n            else\n                ++i;\n        }\n        for (; i >= 0 && dt; --i) {\n            var i2_3 = t2[i].s;\n            if (tr[i2_3] == mb) {\n                --tr[i2_3];\n                ++dt;\n            }\n        }\n        mbt = mb;\n    }\n    return [new u8(tr), mbt];\n};\n// get the max length and assign length codes\nvar ln = function (n, l, d) {\n    return n.s == -1\n        ? Math.max(ln(n.l, l, d + 1), ln(n.r, l, d + 1))\n        : (l[n.s] = d);\n};\n// length codes generation\nvar lc = function (c) {\n    var s = c.length;\n    // Note that the semicolon was intentional\n    while (s && !c[--s])\n        ;\n    var cl = new u16(++s);\n    //  ind      num         streak\n    var cli = 0, cln = c[0], cls = 1;\n    var w = function (v) { cl[cli++] = v; };\n    for (var i = 1; i <= s; ++i) {\n        if (c[i] == cln && i != s)\n            ++cls;\n        else {\n            if (!cln && cls > 2) {\n                for (; cls > 138; cls -= 138)\n                    w(32754);\n                if (cls > 2) {\n                    w(cls > 10 ? ((cls - 11) << 5) | 28690 : ((cls - 3) << 5) | 12305);\n                    cls = 0;\n                }\n            }\n            else if (cls > 3) {\n                w(cln), --cls;\n                for (; cls > 6; cls -= 6)\n                    w(8304);\n                if (cls > 2)\n                    w(((cls - 3) << 5) | 8208), cls = 0;\n            }\n            while (cls--)\n                w(cln);\n            cls = 1;\n            cln = c[i];\n        }\n    }\n    return [cl.subarray(0, cli), s];\n};\n// calculate the length of output from tree, code lengths\nvar clen = function (cf, cl) {\n    var l = 0;\n    for (var i = 0; i < cl.length; ++i)\n        l += cf[i] * cl[i];\n    return l;\n};\n// writes a fixed block\n// returns the new bit pos\nvar wfblk = function (out, pos, dat) {\n    // no need to write 00 as type: TypedArray defaults to 0\n    var s = dat.length;\n    var o = shft(pos + 2);\n    out[o] = s & 255;\n    out[o + 1] = s >>> 8;\n    out[o + 2] = out[o] ^ 255;\n    out[o + 3] = out[o + 1] ^ 255;\n    for (var i = 0; i < s; ++i)\n        out[o + i + 4] = dat[i];\n    return (o + 4 + s) * 8;\n};\n// writes a block\nvar wblk = function (dat, out, final, syms, lf, df, eb, li, bs, bl, p) {\n    wbits(out, p++, final);\n    ++lf[256];\n    var _a = hTree(lf, 15), dlt = _a[0], mlb = _a[1];\n    var _b = hTree(df, 15), ddt = _b[0], mdb = _b[1];\n    var _c = lc(dlt), lclt = _c[0], nlc = _c[1];\n    var _d = lc(ddt), lcdt = _d[0], ndc = _d[1];\n    var lcfreq = new u16(19);\n    for (var i = 0; i < lclt.length; ++i)\n        lcfreq[lclt[i] & 31]++;\n    for (var i = 0; i < lcdt.length; ++i)\n        lcfreq[lcdt[i] & 31]++;\n    var _e = hTree(lcfreq, 7), lct = _e[0], mlcb = _e[1];\n    var nlcc = 19;\n    for (; nlcc > 4 && !lct[clim[nlcc - 1]]; --nlcc)\n        ;\n    var flen = (bl + 5) << 3;\n    var ftlen = clen(lf, flt) + clen(df, fdt) + eb;\n    var dtlen = clen(lf, dlt) + clen(df, ddt) + eb + 14 + 3 * nlcc + clen(lcfreq, lct) + (2 * lcfreq[16] + 3 * lcfreq[17] + 7 * lcfreq[18]);\n    if (flen <= ftlen && flen <= dtlen)\n        return wfblk(out, p, dat.subarray(bs, bs + bl));\n    var lm, ll, dm, dl;\n    wbits(out, p, 1 + (dtlen < ftlen)), p += 2;\n    if (dtlen < ftlen) {\n        lm = hMap(dlt, mlb, 0), ll = dlt, dm = hMap(ddt, mdb, 0), dl = ddt;\n        var llm = hMap(lct, mlcb, 0);\n        wbits(out, p, nlc - 257);\n        wbits(out, p + 5, ndc - 1);\n        wbits(out, p + 10, nlcc - 4);\n        p += 14;\n        for (var i = 0; i < nlcc; ++i)\n            wbits(out, p + 3 * i, lct[clim[i]]);\n        p += 3 * nlcc;\n        var lcts = [lclt, lcdt];\n        for (var it = 0; it < 2; ++it) {\n            var clct = lcts[it];\n            for (var i = 0; i < clct.length; ++i) {\n                var len = clct[i] & 31;\n                wbits(out, p, llm[len]), p += lct[len];\n                if (len > 15)\n                    wbits(out, p, (clct[i] >>> 5) & 127), p += clct[i] >>> 12;\n            }\n        }\n    }\n    else {\n        lm = flm, ll = flt, dm = fdm, dl = fdt;\n    }\n    for (var i = 0; i < li; ++i) {\n        if (syms[i] > 255) {\n            var len = (syms[i] >>> 18) & 31;\n            wbits16(out, p, lm[len + 257]), p += ll[len + 257];\n            if (len > 7)\n                wbits(out, p, (syms[i] >>> 23) & 31), p += fleb[len];\n            var dst = syms[i] & 31;\n            wbits16(out, p, dm[dst]), p += dl[dst];\n            if (dst > 3)\n                wbits16(out, p, (syms[i] >>> 5) & 8191), p += fdeb[dst];\n        }\n        else {\n            wbits16(out, p, lm[syms[i]]), p += ll[syms[i]];\n        }\n    }\n    wbits16(out, p, lm[256]);\n    return p + ll[256];\n};\n// deflate options (nice << 13) | chain\nvar deo = /*#__PURE__*/ new u32([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]);\n// empty\nvar et = /*#__PURE__*/ new u8(0);\n// compresses data into a raw DEFLATE buffer\nvar dflt = function (dat, lvl, plvl, pre, post, lst) {\n    var s = dat.length;\n    var o = new u8(pre + s + 5 * (1 + Math.floor(s / 7000)) + post);\n    // writing to this writes to the output buffer\n    var w = o.subarray(pre, o.length - post);\n    var pos = 0;\n    if (!lvl || s < 8) {\n        for (var i = 0; i <= s; i += 65535) {\n            // end\n            var e = i + 65535;\n            if (e < s) {\n                // write full block\n                pos = wfblk(w, pos, dat.subarray(i, e));\n            }\n            else {\n                // write final block\n                w[i] = lst;\n                pos = wfblk(w, pos, dat.subarray(i, s));\n            }\n        }\n    }\n    else {\n        var opt = deo[lvl - 1];\n        var n = opt >>> 13, c = opt & 8191;\n        var msk_1 = (1 << plvl) - 1;\n        //    prev 2-byte val map    curr 2-byte val map\n        var prev = new u16(32768), head = new u16(msk_1 + 1);\n        var bs1_1 = Math.ceil(plvl / 3), bs2_1 = 2 * bs1_1;\n        var hsh = function (i) { return (dat[i] ^ (dat[i + 1] << bs1_1) ^ (dat[i + 2] << bs2_1)) & msk_1; };\n        // 24576 is an arbitrary number of maximum symbols per block\n        // 424 buffer for last block\n        var syms = new u32(25000);\n        // length/literal freq   distance freq\n        var lf = new u16(288), df = new u16(32);\n        //  l/lcnt  exbits  index  l/lind  waitdx  bitpos\n        var lc_1 = 0, eb = 0, i = 0, li = 0, wi = 0, bs = 0;\n        for (; i < s; ++i) {\n            // hash value\n            var hv = hsh(i);\n            // index mod 32768\n            var imod = i & 32767;\n            // previous index with this value\n            var pimod = head[hv];\n            prev[imod] = pimod;\n            head[hv] = imod;\n            // We always should modify head and prev, but only add symbols if\n            // this data is not yet processed (\"wait\" for wait index)\n            if (wi <= i) {\n                // bytes remaining\n                var rem = s - i;\n                if ((lc_1 > 7000 || li > 24576) && rem > 423) {\n                    pos = wblk(dat, w, 0, syms, lf, df, eb, li, bs, i - bs, pos);\n                    li = lc_1 = eb = 0, bs = i;\n                    for (var j = 0; j < 286; ++j)\n                        lf[j] = 0;\n                    for (var j = 0; j < 30; ++j)\n                        df[j] = 0;\n                }\n                //  len    dist   chain\n                var l = 2, d = 0, ch_1 = c, dif = (imod - pimod) & 32767;\n                if (rem > 2 && hv == hsh(i - dif)) {\n                    var maxn = Math.min(n, rem) - 1;\n                    var maxd = Math.min(32767, i);\n                    // max possible length\n                    // not capped at dif because decompressors implement \"rolling\" index population\n                    var ml = Math.min(258, rem);\n                    while (dif <= maxd && --ch_1 && imod != pimod) {\n                        if (dat[i + l] == dat[i + l - dif]) {\n                            var nl = 0;\n                            for (; nl < ml && dat[i + nl] == dat[i + nl - dif]; ++nl)\n                                ;\n                            if (nl > l) {\n                                l = nl, d = dif;\n                                // break out early when we reach \"nice\" (we are satisfied enough)\n                                if (nl > maxn)\n                                    break;\n                                // now, find the rarest 2-byte sequence within this\n                                // length of literals and search for that instead.\n                                // Much faster than just using the start\n                                var mmd = Math.min(dif, nl - 2);\n                                var md = 0;\n                                for (var j = 0; j < mmd; ++j) {\n                                    var ti = (i - dif + j + 32768) & 32767;\n                                    var pti = prev[ti];\n                                    var cd = (ti - pti + 32768) & 32767;\n                                    if (cd > md)\n                                        md = cd, pimod = ti;\n                                }\n                            }\n                        }\n                        // check the previous match\n                        imod = pimod, pimod = prev[imod];\n                        dif += (imod - pimod + 32768) & 32767;\n                    }\n                }\n                // d will be nonzero only when a match was found\n                if (d) {\n                    // store both dist and len data in one Uint32\n                    // Make sure this is recognized as a len/dist with 28th bit (2^28)\n                    syms[li++] = 268435456 | (revfl[l] << 18) | revfd[d];\n                    var lin = revfl[l] & 31, din = revfd[d] & 31;\n                    eb += fleb[lin] + fdeb[din];\n                    ++lf[257 + lin];\n                    ++df[din];\n                    wi = i + l;\n                    ++lc_1;\n                }\n                else {\n                    syms[li++] = dat[i];\n                    ++lf[dat[i]];\n                }\n            }\n        }\n        pos = wblk(dat, w, lst, syms, lf, df, eb, li, bs, i - bs, pos);\n        // this is the easiest way to avoid needing to maintain state\n        if (!lst)\n            pos = wfblk(w, pos, et);\n    }\n    return slc(o, 0, pre + shft(pos) + post);\n};\n// CRC32 table\nvar crct = /*#__PURE__*/ (function () {\n    var t = new u32(256);\n    for (var i = 0; i < 256; ++i) {\n        var c = i, k = 9;\n        while (--k)\n            c = ((c & 1) && 0xEDB88320) ^ (c >>> 1);\n        t[i] = c;\n    }\n    return t;\n})();\n// CRC32\nvar crc = function () {\n    var c = 0xFFFFFFFF;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var cr = c;\n            for (var i = 0; i < d.length; ++i)\n                cr = crct[(cr & 255) ^ d[i]] ^ (cr >>> 8);\n            c = cr;\n        },\n        d: function () { return c ^ 0xFFFFFFFF; }\n    };\n};\n// Alder32\nvar adler = function () {\n    var a = 1, b = 0;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var n = a, m = b;\n            var l = d.length;\n            for (var i = 0; i != l;) {\n                var e = Math.min(i + 5552, l);\n                for (; i < e; ++i)\n                    n += d[i], m += n;\n                n %= 65521, m %= 65521;\n            }\n            a = n, b = m;\n        },\n        d: function () { return ((a >>> 8) << 16 | (b & 255) << 8 | (b >>> 8)) + ((a & 255) << 23) * 2; }\n    };\n};\n;\n// deflate with opts\nvar dopt = function (dat, opt, pre, post, st) {\n    return dflt(dat, opt.level == null ? 6 : opt.level, opt.mem == null ? Math.ceil(Math.max(8, Math.min(13, Math.log(dat.length))) * 1.5) : (12 + opt.mem), pre, post, !st);\n};\n// Walmart object spread\nvar mrg = function (a, b) {\n    var o = {};\n    for (var k in a)\n        o[k] = a[k];\n    for (var k in b)\n        o[k] = b[k];\n    return o;\n};\n// worker clone\n// This is possibly the craziest part of the entire codebase, despite how simple it may seem.\n// The only parameter to this function is a closure that returns an array of variables outside of the function scope.\n// We're going to try to figure out the variable names used in the closure as strings because that is crucial for workerization.\n// We will return an object mapping of true variable name to value (basically, the current scope as a JS object).\n// The reason we can't just use the original variable names is minifiers mangling the toplevel scope.\n// This took me three weeks to figure out how to do.\nvar wcln = function (fn, fnStr, td) {\n    var dt = fn();\n    var st = fn.toString();\n    var ks = st.slice(st.indexOf('[') + 1, st.lastIndexOf(']')).replace(/ /g, '').split(',');\n    for (var i = 0; i < dt.length; ++i) {\n        var v = dt[i], k = ks[i];\n        if (typeof v == 'function') {\n            fnStr += ';' + k + '=';\n            var st_1 = v.toString();\n            if (v.prototype) {\n                // for global objects\n                if (st_1.indexOf('[native code]') != -1) {\n                    var spInd = st_1.indexOf(' ', 8) + 1;\n                    fnStr += st_1.slice(spInd, st_1.indexOf('(', spInd));\n                }\n                else {\n                    fnStr += st_1;\n                    for (var t in v.prototype)\n                        fnStr += ';' + k + '.prototype.' + t + '=' + v.prototype[t].toString();\n                }\n            }\n            else\n                fnStr += st_1;\n        }\n        else\n            td[k] = v;\n    }\n    return [fnStr, td];\n};\nvar ch = [];\n// clone bufs\nvar cbfs = function (v) {\n    var tl = [];\n    for (var k in v) {\n        if (v[k] instanceof u8 || v[k] instanceof u16 || v[k] instanceof u32)\n            tl.push((v[k] = new v[k].constructor(v[k])).buffer);\n    }\n    return tl;\n};\n// use a worker to execute code\nvar wrkr = function (fns, init, id, cb) {\n    var _a;\n    if (!ch[id]) {\n        var fnStr = '', td_1 = {}, m = fns.length - 1;\n        for (var i = 0; i < m; ++i)\n            _a = wcln(fns[i], fnStr, td_1), fnStr = _a[0], td_1 = _a[1];\n        ch[id] = wcln(fns[m], fnStr, td_1);\n    }\n    var td = mrg({}, ch[id][1]);\n    return wk(ch[id][0] + ';onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage=' + init.toString() + '}', id, td, cbfs(td), cb);\n};\n// base async inflate fn\nvar bInflt = function () { return [u8, u16, u32, fleb, fdeb, clim, fl, fd, flrm, fdrm, rev, hMap, max, bits, bits16, shft, slc, inflt, inflateSync, pbf, gu8]; };\nvar bDflt = function () { return [u8, u16, u32, fleb, fdeb, clim, revfl, revfd, flm, flt, fdm, fdt, rev, deo, et, hMap, wbits, wbits16, hTree, ln, lc, clen, wfblk, wblk, shft, slc, dflt, dopt, deflateSync, pbf]; };\n// gzip extra\nvar gze = function () { return [gzh, gzhl, wbytes, crc, crct]; };\n// gunzip extra\nvar guze = function () { return [gzs, gzl]; };\n// zlib extra\nvar zle = function () { return [zlh, wbytes, adler]; };\n// unzlib extra\nvar zule = function () { return [zlv]; };\n// post buf\nvar pbf = function (msg) { return postMessage(msg, [msg.buffer]); };\n// get u8\nvar gu8 = function (o) { return o && o.size && new u8(o.size); };\n// async helper\nvar cbify = function (dat, opts, fns, init, id, cb) {\n    var w = wrkr(fns, init, id, function (err, dat) {\n        w.terminate();\n        cb(err, dat);\n    });\n    if (!opts.consume)\n        dat = new u8(dat);\n    w.postMessage([dat, opts], [dat.buffer]);\n    return function () { w.terminate(); };\n};\n// auto stream\nvar astrm = function (strm) {\n    strm.ondata = function (dat, final) { return postMessage([dat, final], [dat.buffer]); };\n    return function (ev) { return strm.push(ev.data[0], ev.data[1]); };\n};\n// async stream attach\nvar astrmify = function (fns, strm, opts, init, id) {\n    var t;\n    var w = wrkr(fns, init, id, function (err, dat) {\n        if (err)\n            w.terminate(), strm.ondata.call(strm, err);\n        else {\n            if (dat[1])\n                w.terminate();\n            strm.ondata.call(strm, err, dat[0], dat[1]);\n        }\n    });\n    w.postMessage(opts);\n    strm.push = function (d, f) {\n        if (t)\n            throw 'stream finished';\n        if (!strm.ondata)\n            throw 'no stream handler';\n        w.postMessage([d, t = f], [d.buffer]);\n    };\n    strm.terminate = function () { w.terminate(); };\n};\n// read 2 bytes\nvar b2 = function (d, b) { return d[b] | (d[b + 1] << 8); };\n// read 4 bytes\nvar b4 = function (d, b) { return (d[b] | (d[b + 1] << 8) | (d[b + 2] << 16)) + (d[b + 3] << 23) * 2; };\n// write bytes\nvar wbytes = function (d, b, v) {\n    for (; v; ++b)\n        d[b] = v, v >>>= 8;\n};\n// gzip header\nvar gzh = function (c, o) {\n    var fn = o.filename;\n    c[0] = 31, c[1] = 139, c[2] = 8, c[8] = o.level < 2 ? 4 : o.level == 9 ? 2 : 0, c[9] = 3; // assume Unix\n    if (o.mtime != 0)\n        wbytes(c, 4, Math.floor(new Date(o.mtime || Date.now()) / 1000));\n    if (fn) {\n        c[3] = 8;\n        for (var i = 0; i <= fn.length; ++i)\n            c[i + 10] = fn.charCodeAt(i);\n    }\n};\n// gzip footer: -8 to -4 = CRC, -4 to -0 is length\n// gzip start\nvar gzs = function (d) {\n    if (d[0] != 31 || d[1] != 139 || d[2] != 8)\n        throw 'invalid gzip data';\n    var flg = d[3];\n    var st = 10;\n    if (flg & 4)\n        st += d[10] | (d[11] << 8) + 2;\n    for (var zs = (flg >> 3 & 1) + (flg >> 4 & 1); zs > 0; zs -= !d[st++])\n        ;\n    return st + (flg & 2);\n};\n// gzip length\nvar gzl = function (d) {\n    var l = d.length;\n    return (d[l - 4] | d[l - 3] << 8 | d[l - 2] << 16) + (2 * (d[l - 1] << 23));\n};\n// gzip header length\nvar gzhl = function (o) { return 10 + ((o.filename && (o.filename.length + 1)) || 0); };\n// zlib header\nvar zlh = function (c, o) {\n    var lv = o.level, fl = lv == 0 ? 0 : lv < 6 ? 1 : lv == 9 ? 3 : 2;\n    c[0] = 120, c[1] = (fl << 6) | (fl ? (32 - 2 * fl) : 1);\n};\n// zlib valid\nvar zlv = function (d) {\n    if ((d[0] & 15) != 8 || (d[0] >>> 4) > 7 || ((d[0] << 8 | d[1]) % 31))\n        throw 'invalid zlib data';\n    if (d[1] & 32)\n        throw 'invalid zlib data: preset dictionaries not supported';\n};\nfunction AsyncCmpStrm(opts, cb) {\n    if (!cb && typeof opts == 'function')\n        cb = opts, opts = {};\n    this.ondata = cb;\n    return opts;\n}\n// zlib footer: -4 to -0 is Adler32\n/**\n * Streaming DEFLATE compression\n */\nvar Deflate = /*#__PURE__*/ (function () {\n    function Deflate(opts, cb) {\n        if (!cb && typeof opts == 'function')\n            cb = opts, opts = {};\n        this.ondata = cb;\n        this.o = opts || {};\n    }\n    Deflate.prototype.p = function (c, f) {\n        this.ondata(dopt(c, this.o, 0, 0, !f), f);\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Deflate.prototype.push = function (chunk, final) {\n        if (this.d)\n            throw 'stream finished';\n        if (!this.ondata)\n            throw 'no stream handler';\n        this.d = final;\n        this.p(chunk, final || false);\n    };\n    return Deflate;\n}());\nexport { Deflate };\n/**\n * Asynchronous streaming DEFLATE compression\n */\nvar AsyncDeflate = /*#__PURE__*/ (function () {\n    function AsyncDeflate(opts, cb) {\n        astrmify([\n            bDflt,\n            function () { return [astrm, Deflate]; }\n        ], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n            var strm = new Deflate(ev.data);\n            onmessage = astrm(strm);\n        }, 6);\n    }\n    return AsyncDeflate;\n}());\nexport { AsyncDeflate };\nexport function deflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bDflt,\n    ], function (ev) { return pbf(deflateSync(ev.data[0], ev.data[1])); }, 0, cb);\n}\n/**\n * Compresses data with DEFLATE without any wrapper\n * @param data The data to compress\n * @param opts The compression options\n * @returns The deflated version of the data\n */\nexport function deflateSync(data, opts) {\n    if (opts === void 0) { opts = {}; }\n    return dopt(data, opts, 0, 0);\n}\n/**\n * Streaming DEFLATE decompression\n */\nvar Inflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates an inflation stream\n     * @param cb The callback to call whenever data is inflated\n     */\n    function Inflate(cb) {\n        this.s = {};\n        this.p = new u8(0);\n        this.ondata = cb;\n    }\n    Inflate.prototype.e = function (c) {\n        if (this.d)\n            throw 'stream finished';\n        if (!this.ondata)\n            throw 'no stream handler';\n        var l = this.p.length;\n        var n = new u8(l + c.length);\n        n.set(this.p), n.set(c, l), this.p = n;\n    };\n    Inflate.prototype.c = function (final) {\n        this.d = this.s.i = final || false;\n        var bts = this.s.b;\n        var dt = inflt(this.p, this.o, this.s);\n        this.ondata(slc(dt, bts, this.s.b), this.d);\n        this.o = slc(dt, this.s.b - 32768), this.s.b = this.o.length;\n        this.p = slc(this.p, (this.s.p / 8) >> 0), this.s.p &= 7;\n    };\n    /**\n     * Pushes a chunk to be inflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the final chunk\n     */\n    Inflate.prototype.push = function (chunk, final) {\n        this.e(chunk), this.c(final);\n    };\n    return Inflate;\n}());\nexport { Inflate };\n/**\n * Asynchronous streaming DEFLATE decompression\n */\nvar AsyncInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous inflation stream\n     * @param cb The callback to call whenever data is deflated\n     */\n    function AsyncInflate(cb) {\n        this.ondata = cb;\n        astrmify([\n            bInflt,\n            function () { return [astrm, Inflate]; }\n        ], this, 0, function () {\n            var strm = new Inflate();\n            onmessage = astrm(strm);\n        }, 7);\n    }\n    return AsyncInflate;\n}());\nexport { AsyncInflate };\nexport function inflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bInflt\n    ], function (ev) { return pbf(inflateSync(ev.data[0], gu8(ev.data[1]))); }, 1, cb);\n}\n/**\n * Expands DEFLATE data with no wrapper\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\nexport function inflateSync(data, out) {\n    return inflt(data, out);\n}\n// before you yell at me for not just using extends, my reason is that TS inheritance is hard to workerize.\n/**\n * Streaming GZIP compression\n */\nvar Gzip = /*#__PURE__*/ (function () {\n    function Gzip(opts, cb) {\n        this.c = crc();\n        this.l = 0;\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be GZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gzip.prototype.push = function (chunk, final) {\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Gzip.prototype.p = function (c, f) {\n        this.c.p(c);\n        this.l += c.length;\n        var raw = dopt(c, this.o, this.v && gzhl(this.o), f && 8, !f);\n        if (this.v)\n            gzh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 8, this.c.d()), wbytes(raw, raw.length - 4, this.l);\n        this.ondata(raw, f);\n    };\n    return Gzip;\n}());\nexport { Gzip };\n/**\n * Asynchronous streaming GZIP compression\n */\nvar AsyncGzip = /*#__PURE__*/ (function () {\n    function AsyncGzip(opts, cb) {\n        astrmify([\n            bDflt,\n            gze,\n            function () { return [astrm, Deflate, Gzip]; }\n        ], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n            var strm = new Gzip(ev.data);\n            onmessage = astrm(strm);\n        }, 8);\n    }\n    return AsyncGzip;\n}());\nexport { AsyncGzip };\nexport function gzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bDflt,\n        gze,\n        function () { return [gzipSync]; }\n    ], function (ev) { return pbf(gzipSync(ev.data[0], ev.data[1])); }, 2, cb);\n}\n/**\n * Compresses data with GZIP\n * @param data The data to compress\n * @param opts The compression options\n * @returns The gzipped version of the data\n */\nexport function gzipSync(data, opts) {\n    if (opts === void 0) { opts = {}; }\n    var c = crc(), l = data.length;\n    c.p(data);\n    var d = dopt(data, opts, gzhl(opts), 8), s = d.length;\n    return gzh(d, opts), wbytes(d, s - 8, c.d()), wbytes(d, s - 4, l), d;\n}\n/**\n * Streaming GZIP decompression\n */\nvar Gunzip = /*#__PURE__*/ (function () {\n    /**\n     * Creates a GUNZIP stream\n     * @param cb The callback to call whenever data is inflated\n     */\n    function Gunzip(cb) {\n        this.v = 1;\n        Inflate.call(this, cb);\n    }\n    /**\n     * Pushes a chunk to be GUNZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gunzip.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        if (this.v) {\n            var s = gzs(this.p);\n            if (s >= this.p.length && !final)\n                return;\n            this.p = this.p.subarray(s), this.v = 0;\n        }\n        if (final) {\n            if (this.p.length < 8)\n                throw 'invalid gzip stream';\n            this.p = this.p.subarray(0, -8);\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n    };\n    return Gunzip;\n}());\nexport { Gunzip };\n/**\n * Asynchronous streaming GZIP decompression\n */\nvar AsyncGunzip = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous GUNZIP stream\n     * @param cb The callback to call whenever data is deflated\n     */\n    function AsyncGunzip(cb) {\n        this.ondata = cb;\n        astrmify([\n            bInflt,\n            guze,\n            function () { return [astrm, Inflate, Gunzip]; }\n        ], this, 0, function () {\n            var strm = new Gunzip();\n            onmessage = astrm(strm);\n        }, 9);\n    }\n    return AsyncGunzip;\n}());\nexport { AsyncGunzip };\nexport function gunzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bInflt,\n        guze,\n        function () { return [gunzipSync]; }\n    ], function (ev) { return pbf(gunzipSync(ev.data[0])); }, 3, cb);\n}\n/**\n * Expands GZIP data\n * @param data The data to decompress\n * @param out Where to write the data. GZIP already encodes the output size, so providing this doesn't save memory.\n * @returns The decompressed version of the data\n */\nexport function gunzipSync(data, out) {\n    return inflt(data.subarray(gzs(data), -8), out || new u8(gzl(data)));\n}\n/**\n * Streaming Zlib compression\n */\nvar Zlib = /*#__PURE__*/ (function () {\n    function Zlib(opts, cb) {\n        this.c = adler();\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be zlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Zlib.prototype.push = function (chunk, final) {\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Zlib.prototype.p = function (c, f) {\n        this.c.p(c);\n        var raw = dopt(c, this.o, this.v && 2, f && 4, !f);\n        if (this.v)\n            zlh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 4, this.c.d());\n        this.ondata(raw, f);\n    };\n    return Zlib;\n}());\nexport { Zlib };\n/**\n * Asynchronous streaming Zlib compression\n */\nvar AsyncZlib = /*#__PURE__*/ (function () {\n    function AsyncZlib(opts, cb) {\n        astrmify([\n            bDflt,\n            zle,\n            function () { return [astrm, Deflate, Zlib]; }\n        ], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n            var strm = new Zlib(ev.data);\n            onmessage = astrm(strm);\n        }, 10);\n    }\n    return AsyncZlib;\n}());\nexport { AsyncZlib };\nexport function zlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bDflt,\n        zle,\n        function () { return [zlibSync]; }\n    ], function (ev) { return pbf(zlibSync(ev.data[0], ev.data[1])); }, 4, cb);\n}\n/**\n * Compress data with Zlib\n * @param data The data to compress\n * @param opts The compression options\n * @returns The zlib-compressed version of the data\n */\nexport function zlibSync(data, opts) {\n    if (opts === void 0) { opts = {}; }\n    var a = adler();\n    a.p(data);\n    var d = dopt(data, opts, 2, 4);\n    return zlh(d, opts), wbytes(d, d.length - 4, a.d()), d;\n}\n/**\n * Streaming Zlib decompression\n */\nvar Unzlib = /*#__PURE__*/ (function () {\n    /**\n     * Creates a Zlib decompression stream\n     * @param cb The callback to call whenever data is inflated\n     */\n    function Unzlib(cb) {\n        this.v = 1;\n        Inflate.call(this, cb);\n    }\n    /**\n     * Pushes a chunk to be unzlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Unzlib.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        if (this.v) {\n            if (this.p.length < 2 && !final)\n                return;\n            this.p = this.p.subarray(2), this.v = 0;\n        }\n        if (final) {\n            if (this.p.length < 4)\n                throw 'invalid zlib stream';\n            this.p = this.p.subarray(0, -4);\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n    };\n    return Unzlib;\n}());\nexport { Unzlib };\n/**\n * Asynchronous streaming Zlib decompression\n */\nvar AsyncUnzlib = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous Zlib decompression stream\n     * @param cb The callback to call whenever data is deflated\n     */\n    function AsyncUnzlib(cb) {\n        this.ondata = cb;\n        astrmify([\n            bInflt,\n            zule,\n            function () { return [astrm, Inflate, Unzlib]; }\n        ], this, 0, function () {\n            var strm = new Unzlib();\n            onmessage = astrm(strm);\n        }, 11);\n    }\n    return AsyncUnzlib;\n}());\nexport { AsyncUnzlib };\nexport function unzlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bInflt,\n        zule,\n        function () { return [unzlibSync]; }\n    ], function (ev) { return pbf(unzlibSync(ev.data[0], gu8(ev.data[1]))); }, 5, cb);\n}\n/**\n * Expands Zlib data\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\nexport function unzlibSync(data, out) {\n    return inflt((zlv(data), data.subarray(2, -4)), out);\n}\n// Default algorithm for compression (used because having a known output size allows faster decompression)\nexport { gzip as compress, AsyncGzip as AsyncCompress };\n// Default algorithm for compression (used because having a known output size allows faster decompression)\nexport { gzipSync as compressSync, Gzip as Compress };\n/**\n * Streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar Decompress = /*#__PURE__*/ (function () {\n    /**\n     * Creates a decompression stream\n     * @param cb The callback to call whenever data is decompressed\n     */\n    function Decompress(cb) {\n        this.G = Gunzip;\n        this.I = Inflate;\n        this.Z = Unzlib;\n        this.ondata = cb;\n    }\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Decompress.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            throw 'no stream handler';\n        if (!this.s) {\n            if (this.p && this.p.length) {\n                var n = new u8(this.p.length + chunk.length);\n                n.set(this.p), n.set(chunk, this.p.length);\n            }\n            else\n                this.p = chunk;\n            if (this.p.length > 2) {\n                var _this_1 = this;\n                var cb = function () { _this_1.ondata.apply(_this_1, arguments); };\n                this.s = (this.p[0] == 31 && this.p[1] == 139 && this.p[2] == 8)\n                    ? new this.G(cb)\n                    : ((this.p[0] & 15) != 8 || (this.p[0] >> 4) > 7 || ((this.p[0] << 8 | this.p[1]) % 31))\n                        ? new this.I(cb)\n                        : new this.Z(cb);\n                this.s.push(this.p, final);\n                this.p = null;\n            }\n        }\n        else\n            this.s.push(chunk, final);\n    };\n    return Decompress;\n}());\nexport { Decompress };\n/**\n * Asynchronous streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar AsyncDecompress = /*#__PURE__*/ (function () {\n    /**\n   * Creates an asynchronous decompression stream\n   * @param cb The callback to call whenever data is decompressed\n   */\n    function AsyncDecompress(cb) {\n        this.G = AsyncGunzip;\n        this.I = AsyncInflate;\n        this.Z = AsyncUnzlib;\n        this.ondata = cb;\n    }\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    AsyncDecompress.prototype.push = function (chunk, final) {\n        Decompress.prototype.push.call(this, chunk, final);\n    };\n    return AsyncDecompress;\n}());\nexport { AsyncDecompress };\nexport function decompress(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzip(data, opts, cb)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflate(data, opts, cb)\n            : unzlib(data, opts, cb);\n}\n/**\n * Expands compressed GZIP, Zlib, or raw DEFLATE data, automatically detecting the format\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\nexport function decompressSync(data, out) {\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzipSync(data, out)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflateSync(data, out)\n            : unzlibSync(data, out);\n}\n// flatten a directory structure\nvar fltn = function (d, p, t, o) {\n    for (var k in d) {\n        var val = d[k], n = p + k;\n        if (val instanceof u8)\n            t[n] = [val, o];\n        else if (Array.isArray(val))\n            t[n] = [val[0], mrg(o, val[1])];\n        else\n            fltn(val, n + '/', t, o);\n    }\n};\n/**\n * Converts a string into a Uint8Array for use with compression/decompression methods\n * @param str The string to encode\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless decoding a binary string.\n * @returns The string encoded in UTF-8/Latin-1 binary\n */\nexport function strToU8(str, latin1) {\n    var l = str.length;\n    if (!latin1 && typeof TextEncoder != 'undefined')\n        return new TextEncoder().encode(str);\n    var ar = new u8(str.length + (str.length >>> 1));\n    var ai = 0;\n    var w = function (v) { ar[ai++] = v; };\n    for (var i = 0; i < l; ++i) {\n        if (ai + 5 > ar.length) {\n            var n = new u8(ai + 8 + ((l - i) << 1));\n            n.set(ar);\n            ar = n;\n        }\n        var c = str.charCodeAt(i);\n        if (c < 128 || latin1)\n            w(c);\n        else if (c < 2048)\n            w(192 | (c >>> 6)), w(128 | (c & 63));\n        else if (c > 55295 && c < 57344)\n            c = 65536 + (c & 1023 << 10) | (str.charCodeAt(++i) & 1023),\n                w(240 | (c >>> 18)), w(128 | ((c >>> 12) & 63)), w(128 | ((c >>> 6) & 63)), w(128 | (c & 63));\n        else\n            w(224 | (c >>> 12)), w(128 | ((c >>> 6) & 63)), w(128 | (c & 63));\n    }\n    return slc(ar, 0, ai);\n}\n/**\n * Converts a Uint8Array to a string\n * @param dat The data to decode to string\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless encoding to binary string.\n * @returns The original UTF-8/Latin-1 string\n */\nexport function strFromU8(dat, latin1) {\n    var r = '';\n    if (!latin1 && typeof TextDecoder != 'undefined')\n        return new TextDecoder().decode(dat);\n    for (var i = 0; i < dat.length;) {\n        var c = dat[i++];\n        if (c < 128 || latin1)\n            r += String.fromCharCode(c);\n        else if (c < 224)\n            r += String.fromCharCode((c & 31) << 6 | (dat[i++] & 63));\n        else if (c < 240)\n            r += String.fromCharCode((c & 15) << 12 | (dat[i++] & 63) << 6 | (dat[i++] & 63));\n        else\n            c = ((c & 15) << 18 | (dat[i++] & 63) << 12 | (dat[i++] & 63) << 6 | (dat[i++] & 63)) - 65536,\n                r += String.fromCharCode(55296 | (c >> 10), 56320 | (c & 1023));\n    }\n    return r;\n}\n;\n// skip local zip header\nvar slzh = function (d, b) { return b + 30 + b2(d, b + 26) + b2(d, b + 28); };\n// read zip header\nvar zh = function (d, b, z) {\n    var fnl = b2(d, b + 28), fn = strFromU8(d.subarray(b + 46, b + 46 + fnl), !(b2(d, b + 8) & 2048)), es = b + 46 + fnl;\n    var _a = z ? z64e(d, es) : [b4(d, b + 20), b4(d, b + 24), b4(d, b + 42)], sc = _a[0], su = _a[1], off = _a[2];\n    return [b2(d, b + 10), sc, su, fn, es + b2(d, b + 30) + b2(d, b + 32), off];\n};\n// read zip64 extra field\nvar z64e = function (d, b) {\n    for (; b2(d, b) != 1; b += 4 + b2(d, b + 2))\n        ;\n    return [b4(d, b + 12), b4(d, b + 4), b4(d, b + 20)];\n};\n// write zip header\nvar wzh = function (d, b, c, cmp, su, fn, u, o, ce, t) {\n    var fl = fn.length, l = cmp.length;\n    wbytes(d, b, ce != null ? 0x2014B50 : 0x4034B50), b += 4;\n    if (ce != null)\n        d[b] = 20, b += 2;\n    d[b] = 20, b += 2; // spec compliance? what's that?\n    d[b++] = (t == 8 && (o.level == 1 ? 6 : o.level < 6 ? 4 : o.level == 9 ? 2 : 0)), d[b++] = u && 8;\n    d[b] = t, b += 2;\n    var dt = new Date(o.mtime || Date.now()), y = dt.getFullYear() - 1980;\n    if (y < 0 || y > 119)\n        throw 'date not in range 1980-2099';\n    wbytes(d, b, ((y << 24) * 2) | ((dt.getMonth() + 1) << 21) | (dt.getDate() << 16) | (dt.getHours() << 11) | (dt.getMinutes() << 5) | (dt.getSeconds() >>> 1));\n    b += 4;\n    wbytes(d, b, c);\n    wbytes(d, b + 4, l);\n    wbytes(d, b + 8, su);\n    wbytes(d, b + 12, fl), b += 16; // skip extra field, comment\n    if (ce != null)\n        wbytes(d, b += 10, ce), b += 4;\n    d.set(fn, b);\n    b += fl;\n    if (ce == null)\n        d.set(cmp, b);\n};\n// write zip footer (end of central directory)\nvar wzf = function (o, b, c, d, e) {\n    wbytes(o, b, 0x6054B50); // skip disk\n    wbytes(o, b + 8, c);\n    wbytes(o, b + 10, c);\n    wbytes(o, b + 12, d);\n    wbytes(o, b + 16, e);\n};\nexport function zip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    var r = {};\n    fltn(data, '', r, opts);\n    var k = Object.keys(r);\n    var lft = k.length, o = 0, tot = 0;\n    var slft = lft, files = new Array(lft);\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var cbf = function () {\n        var out = new u8(tot + 22), oe = o, cdl = tot - o;\n        tot = 0;\n        for (var i = 0; i < slft; ++i) {\n            var f = files[i];\n            try {\n                wzh(out, tot, f.c, f.d, f.m, f.n, f.u, f.p, null, f.t);\n                wzh(out, o, f.c, f.d, f.m, f.n, f.u, f.p, tot, f.t), o += 46 + f.n.length, tot += 30 + f.n.length + f.d.length;\n            }\n            catch (e) {\n                return cb(e, null);\n            }\n        }\n        wzf(out, o, files.length, cdl, oe);\n        cb(null, out);\n    };\n    if (!lft)\n        cbf();\n    var _loop_1 = function (i) {\n        var fn = k[i];\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var c = crc(), m = file.length;\n        c.p(file);\n        var n = strToU8(fn), s = n.length;\n        var t = p.level == 0 ? 0 : 8;\n        var cbl = function (e, d) {\n            if (e) {\n                tAll();\n                cb(e, null);\n            }\n            else {\n                var l = d.length;\n                files[i] = {\n                    t: t,\n                    d: d,\n                    m: m,\n                    c: c.d(),\n                    u: fn.length != l,\n                    n: n,\n                    p: p\n                };\n                o += 30 + s + l;\n                tot += 76 + 2 * s + l;\n                if (!--lft)\n                    cbf();\n            }\n        };\n        if (n.length > 65535)\n            cbl('filename too long', null);\n        if (!t)\n            cbl(null, file);\n        else if (m < 160000) {\n            try {\n                cbl(null, deflateSync(file, p));\n            }\n            catch (e) {\n                cbl(e, null);\n            }\n        }\n        else\n            term.push(deflate(file, p, cbl));\n    };\n    // Cannot use lft because it can decrease\n    for (var i = 0; i < slft; ++i) {\n        _loop_1(i);\n    }\n    return tAll;\n}\n/**\n * Synchronously creates a ZIP file. Prefer using `zip` for better performance\n * with more than one file.\n * @param data The directory structure for the ZIP archive\n * @param opts The main options, merged with per-file options\n * @returns The generated ZIP archive\n */\nexport function zipSync(data, opts) {\n    if (opts === void 0) { opts = {}; }\n    var r = {};\n    var files = [];\n    fltn(data, '', r, opts);\n    var o = 0;\n    var tot = 0;\n    for (var fn in r) {\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var t = p.level == 0 ? 0 : 8;\n        var n = strToU8(fn), s = n.length;\n        if (n.length > 65535)\n            throw 'filename too long';\n        var d = t ? deflateSync(file, p) : file, l = d.length;\n        var c = crc();\n        c.p(file);\n        files.push({\n            t: t,\n            d: d,\n            m: file.length,\n            c: c.d(),\n            u: fn.length != s,\n            n: n,\n            o: o,\n            p: p\n        });\n        o += 30 + s + l;\n        tot += 76 + 2 * s + l;\n    }\n    var out = new u8(tot + 22), oe = o, cdl = tot - o;\n    for (var i = 0; i < files.length; ++i) {\n        var f = files[i];\n        wzh(out, f.o, f.c, f.d, f.m, f.n, f.u, f.p, null, f.t);\n        wzh(out, o, f.c, f.d, f.m, f.n, f.u, f.p, f.o, f.t), o += 46 + f.n.length;\n    }\n    wzf(out, o, files.length, cdl, oe);\n    return out;\n}\n/**\n * Asynchronously decompresses a ZIP archive\n * @param data The raw compressed ZIP file\n * @param cb The callback to call with the decompressed files\n * @returns A function that can be used to immediately terminate the unzipping\n */\nexport function unzip(data, cb) {\n    if (typeof cb != 'function')\n        throw 'no callback';\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var files = {};\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558) {\n            cb('invalid zip file', null);\n            return;\n        }\n    }\n    ;\n    var lft = b2(data, e + 8);\n    if (!lft)\n        cb(null, {});\n    var c = lft;\n    var o = b4(data, e + 16);\n    var z = o == 4294967295;\n    if (z) {\n        e = b4(data, e - 12);\n        if (b4(data, e) != 0x6064B50)\n            throw 'invalid zip file';\n        c = lft = b4(data, e + 32);\n        o = b4(data, e + 48);\n    }\n    var _loop_2 = function (i) {\n        var _a = zh(data, o, z), c_1 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n        o = no;\n        var cbl = function (e, d) {\n            if (e) {\n                tAll();\n                cb(e, null);\n            }\n            else {\n                files[fn] = d;\n                if (!--lft)\n                    cb(null, files);\n            }\n        };\n        if (!c_1)\n            cbl(null, slc(data, b, b + sc));\n        else if (c_1 == 8) {\n            var infl = data.subarray(b, b + sc);\n            if (sc < 320000) {\n                try {\n                    cbl(null, inflateSync(infl, new u8(su)));\n                }\n                catch (e) {\n                    cbl(e, null);\n                }\n            }\n            else\n                term.push(inflate(infl, { size: su }, cbl));\n        }\n        else\n            cbl('unknown compression type ' + c_1, null);\n    };\n    for (var i = 0; i < c; ++i) {\n        _loop_2(i);\n    }\n    return tAll;\n}\n/**\n * Synchronously decompresses a ZIP archive. Prefer using `unzip` for better\n * performance with more than one file.\n * @param data The raw compressed ZIP file\n * @returns The decompressed files\n */\nexport function unzipSync(data) {\n    var files = {};\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558)\n            throw 'invalid zip file';\n    }\n    ;\n    var c = b2(data, e + 8);\n    if (!c)\n        return {};\n    var o = b4(data, e + 16);\n    var z = o == 4294967295;\n    if (z) {\n        e = b4(data, e - 12);\n        if (b4(data, e) != 0x6064B50)\n            throw 'invalid zip file';\n        c = b4(data, e + 32);\n        o = b4(data, e + 48);\n    }\n    for (var i = 0; i < c; ++i) {\n        var _a = zh(data, o, z), c_2 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n        o = no;\n        if (!c_2)\n            files[fn] = slc(data, b, b + sc);\n        else if (c_2 == 8)\n            files[fn] = inflateSync(data.subarray(b, b + sc), new u8(su));\n        else\n            throw 'unknown compression type ' + c_2;\n    }\n    return files;\n}\n","// Generated by CoffeeScript 1.4.0\n\n/**\n * @license\n * PNG.js\n * Copyright (c) 2011 Devon Govett\n * MIT LICENSE\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\n * software and associated documentation files (the \"Software\"), to deal in the Software\n * without restriction, including without limitation the rights to use, copy, modify, merge,\n * publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons\n * to whom the Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or\n * substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { unzlibSync } from \"./fflate.js\";\nimport { globalObject } from \"./globalObject.js\";\n\nvar PNG = (function() {\n  var APNG_BLEND_OP_OVER,\n    APNG_BLEND_OP_SOURCE,\n    APNG_DISPOSE_OP_BACKGROUND,\n    APNG_DISPOSE_OP_NONE,\n    APNG_DISPOSE_OP_PREVIOUS,\n    makeImage,\n    scratchCanvas,\n    scratchCtx;\n\n  APNG_DISPOSE_OP_NONE = 0;\n\n  APNG_DISPOSE_OP_BACKGROUND = 1;\n\n  APNG_DISPOSE_OP_PREVIOUS = 2;\n\n  APNG_BLEND_OP_SOURCE = 0;\n\n  APNG_BLEND_OP_OVER = 1;\n\n  function PNG(data) {\n    var chunkSize,\n      colors,\n      palLen,\n      delayDen,\n      delayNum,\n      frame,\n      i,\n      index,\n      key,\n      section,\n      palShort,\n      text,\n      _i,\n      _j,\n      _ref;\n    this.data = data;\n    this.pos = 8;\n    this.palette = [];\n    this.imgData = [];\n    this.transparency = {};\n    this.animation = null;\n    this.text = {};\n    frame = null;\n    while (true) {\n      chunkSize = this.readUInt32();\n      section = function() {\n        var _i, _results;\n        _results = [];\n        for (i = _i = 0; _i < 4; i = ++_i) {\n          _results.push(String.fromCharCode(this.data[this.pos++]));\n        }\n        return _results;\n      }\n        .call(this)\n        .join(\"\");\n      switch (section) {\n        case \"IHDR\":\n          this.width = this.readUInt32();\n          this.height = this.readUInt32();\n          this.bits = this.data[this.pos++];\n          this.colorType = this.data[this.pos++];\n          this.compressionMethod = this.data[this.pos++];\n          this.filterMethod = this.data[this.pos++];\n          this.interlaceMethod = this.data[this.pos++];\n          break;\n        case \"acTL\":\n          this.animation = {\n            numFrames: this.readUInt32(),\n            numPlays: this.readUInt32() || Infinity,\n            frames: []\n          };\n          break;\n        case \"PLTE\":\n          this.palette = this.read(chunkSize);\n          break;\n        case \"fcTL\":\n          if (frame) {\n            this.animation.frames.push(frame);\n          }\n          this.pos += 4;\n          frame = {\n            width: this.readUInt32(),\n            height: this.readUInt32(),\n            xOffset: this.readUInt32(),\n            yOffset: this.readUInt32()\n          };\n          delayNum = this.readUInt16();\n          delayDen = this.readUInt16() || 100;\n          frame.delay = (1000 * delayNum) / delayDen;\n          frame.disposeOp = this.data[this.pos++];\n          frame.blendOp = this.data[this.pos++];\n          frame.data = [];\n          break;\n        case \"IDAT\":\n        case \"fdAT\":\n          if (section === \"fdAT\") {\n            this.pos += 4;\n            chunkSize -= 4;\n          }\n          data = (frame != null ? frame.data : void 0) || this.imgData;\n          for (\n            i = _i = 0;\n            0 <= chunkSize ? _i < chunkSize : _i > chunkSize;\n            i = 0 <= chunkSize ? ++_i : --_i\n          ) {\n            data.push(this.data[this.pos++]);\n          }\n          break;\n        case \"tRNS\":\n          this.transparency = {};\n          switch (this.colorType) {\n            case 3:\n              palLen = this.palette.length / 3;\n              this.transparency.indexed = this.read(chunkSize);\n              if (this.transparency.indexed.length > palLen)\n                throw new Error(\"More transparent colors than palette size\");\n              /*\n               * According to the PNG spec trns should be increased to the same size as palette if shorter\n               */\n              //palShort = 255 - this.transparency.indexed.length;\n              palShort = palLen - this.transparency.indexed.length;\n              if (palShort > 0) {\n                for (\n                  i = _j = 0;\n                  0 <= palShort ? _j < palShort : _j > palShort;\n                  i = 0 <= palShort ? ++_j : --_j\n                ) {\n                  this.transparency.indexed.push(255);\n                }\n              }\n              break;\n            case 0:\n              this.transparency.grayscale = this.read(chunkSize)[0];\n              break;\n            case 2:\n              this.transparency.rgb = this.read(chunkSize);\n          }\n          break;\n        case \"tEXt\":\n          text = this.read(chunkSize);\n          index = text.indexOf(0);\n          key = String.fromCharCode.apply(String, text.slice(0, index));\n          this.text[key] = String.fromCharCode.apply(\n            String,\n            text.slice(index + 1)\n          );\n          break;\n        case \"IEND\":\n          if (frame) {\n            this.animation.frames.push(frame);\n          }\n          this.colors = function() {\n            switch (this.colorType) {\n              case 0:\n              case 3:\n              case 4:\n                return 1;\n              case 2:\n              case 6:\n                return 3;\n            }\n          }.call(this);\n          this.hasAlphaChannel = (_ref = this.colorType) === 4 || _ref === 6;\n          colors = this.colors + (this.hasAlphaChannel ? 1 : 0);\n          this.pixelBitlength = this.bits * colors;\n          this.colorSpace = function() {\n            switch (this.colors) {\n              case 1:\n                return \"DeviceGray\";\n              case 3:\n                return \"DeviceRGB\";\n            }\n          }.call(this);\n          this.imgData = new Uint8Array(this.imgData);\n          return;\n        default:\n          this.pos += chunkSize;\n      }\n      this.pos += 4;\n      if (this.pos > this.data.length) {\n        throw new Error(\"Incomplete or corrupt PNG file\");\n      }\n    }\n  }\n\n  PNG.prototype.read = function(bytes) {\n    var i, _i, _results;\n    _results = [];\n    for (\n      i = _i = 0;\n      0 <= bytes ? _i < bytes : _i > bytes;\n      i = 0 <= bytes ? ++_i : --_i\n    ) {\n      _results.push(this.data[this.pos++]);\n    }\n    return _results;\n  };\n\n  PNG.prototype.readUInt32 = function() {\n    var b1, b2, b3, b4;\n    b1 = this.data[this.pos++] << 24;\n    b2 = this.data[this.pos++] << 16;\n    b3 = this.data[this.pos++] << 8;\n    b4 = this.data[this.pos++];\n    return b1 | b2 | b3 | b4;\n  };\n\n  PNG.prototype.readUInt16 = function() {\n    var b1, b2;\n    b1 = this.data[this.pos++] << 8;\n    b2 = this.data[this.pos++];\n    return b1 | b2;\n  };\n\n  PNG.prototype.decodePixels = function(data) {\n    var pixelBytes = this.pixelBitlength / 8;\n    var fullPixels = new Uint8Array(this.width * this.height * pixelBytes);\n    var pos = 0;\n    var _this = this;\n\n    if (data == null) {\n      data = this.imgData;\n    }\n    if (data.length === 0) {\n      return new Uint8Array(0);\n    }\n\n    data = unzlibSync(data);\n    function pass(x0, y0, dx, dy) {\n      var abyte,\n        c,\n        col,\n        i,\n        left,\n        length,\n        p,\n        pa,\n        paeth,\n        pb,\n        pc,\n        pixels,\n        row,\n        scanlineLength,\n        upper,\n        upperLeft,\n        _i,\n        _j,\n        _k,\n        _l,\n        _m;\n      var w = Math.ceil((_this.width - x0) / dx),\n        h = Math.ceil((_this.height - y0) / dy);\n      var isFull = _this.width == w && _this.height == h;\n      scanlineLength = pixelBytes * w;\n      pixels = isFull ? fullPixels : new Uint8Array(scanlineLength * h);\n      length = data.length;\n      row = 0;\n      c = 0;\n      while (row < h && pos < length) {\n        switch (data[pos++]) {\n          case 0:\n            for (i = _i = 0; _i < scanlineLength; i = _i += 1) {\n              pixels[c++] = data[pos++];\n            }\n            break;\n          case 1:\n            for (i = _j = 0; _j < scanlineLength; i = _j += 1) {\n              abyte = data[pos++];\n              left = i < pixelBytes ? 0 : pixels[c - pixelBytes];\n              pixels[c++] = (abyte + left) % 256;\n            }\n            break;\n          case 2:\n            for (i = _k = 0; _k < scanlineLength; i = _k += 1) {\n              abyte = data[pos++];\n              col = (i - (i % pixelBytes)) / pixelBytes;\n              upper =\n                row &&\n                pixels[\n                  (row - 1) * scanlineLength +\n                    col * pixelBytes +\n                    (i % pixelBytes)\n                ];\n              pixels[c++] = (upper + abyte) % 256;\n            }\n            break;\n          case 3:\n            for (i = _l = 0; _l < scanlineLength; i = _l += 1) {\n              abyte = data[pos++];\n              col = (i - (i % pixelBytes)) / pixelBytes;\n              left = i < pixelBytes ? 0 : pixels[c - pixelBytes];\n              upper =\n                row &&\n                pixels[\n                  (row - 1) * scanlineLength +\n                    col * pixelBytes +\n                    (i % pixelBytes)\n                ];\n              pixels[c++] = (abyte + Math.floor((left + upper) / 2)) % 256;\n            }\n            break;\n          case 4:\n            for (i = _m = 0; _m < scanlineLength; i = _m += 1) {\n              abyte = data[pos++];\n              col = (i - (i % pixelBytes)) / pixelBytes;\n              left = i < pixelBytes ? 0 : pixels[c - pixelBytes];\n              if (row === 0) {\n                upper = upperLeft = 0;\n              } else {\n                upper =\n                  pixels[\n                    (row - 1) * scanlineLength +\n                      col * pixelBytes +\n                      (i % pixelBytes)\n                  ];\n                upperLeft =\n                  col &&\n                  pixels[\n                    (row - 1) * scanlineLength +\n                      (col - 1) * pixelBytes +\n                      (i % pixelBytes)\n                  ];\n              }\n              p = left + upper - upperLeft;\n              pa = Math.abs(p - left);\n              pb = Math.abs(p - upper);\n              pc = Math.abs(p - upperLeft);\n              if (pa <= pb && pa <= pc) {\n                paeth = left;\n              } else if (pb <= pc) {\n                paeth = upper;\n              } else {\n                paeth = upperLeft;\n              }\n              pixels[c++] = (abyte + paeth) % 256;\n            }\n            break;\n          default:\n            throw new Error(\"Invalid filter algorithm: \" + data[pos - 1]);\n        }\n        if (!isFull) {\n          var fullPos = ((y0 + row * dy) * _this.width + x0) * pixelBytes;\n          var partPos = row * scanlineLength;\n          for (i = 0; i < w; i += 1) {\n            for (var j = 0; j < pixelBytes; j += 1)\n              fullPixels[fullPos++] = pixels[partPos++];\n            fullPos += (dx - 1) * pixelBytes;\n          }\n        }\n        row++;\n      }\n    }\n    if (_this.interlaceMethod == 1) {\n      /*\n          1 6 4 6 2 6 4 6\n          7 7 7 7 7 7 7 7\n          5 6 5 6 5 6 5 6\n          7 7 7 7 7 7 7 7\n          3 6 4 6 3 6 4 6\n          7 7 7 7 7 7 7 7\n          5 6 5 6 5 6 5 6\n          7 7 7 7 7 7 7 7\n        */\n      pass(0, 0, 8, 8); // 1\n      /* NOTE these seem to follow the pattern:\n       * pass(x, 0, 2*x, 2*x);\n       * pass(0, x,   x, 2*x);\n       * with x being 4, 2, 1.\n       */\n      pass(4, 0, 8, 8); // 2\n      pass(0, 4, 4, 8); // 3\n\n      pass(2, 0, 4, 4); // 4\n      pass(0, 2, 2, 4); // 5\n\n      pass(1, 0, 2, 2); // 6\n      pass(0, 1, 1, 2); // 7\n    } else {\n      pass(0, 0, 1, 1);\n    }\n    return fullPixels;\n  };\n\n  PNG.prototype.decodePalette = function() {\n    var c, i, length, palette, pos, ret, transparency, _i, _ref, _ref1;\n    palette = this.palette;\n    transparency = this.transparency.indexed || [];\n    ret = new Uint8Array((transparency.length || 0) + palette.length);\n    pos = 0;\n    length = palette.length;\n    c = 0;\n    for (i = _i = 0, _ref = length; _i < _ref; i = _i += 3) {\n      ret[pos++] = palette[i];\n      ret[pos++] = palette[i + 1];\n      ret[pos++] = palette[i + 2];\n      ret[pos++] = (_ref1 = transparency[c++]) != null ? _ref1 : 255;\n    }\n    return ret;\n  };\n\n  PNG.prototype.copyToImageData = function(imageData, pixels) {\n    var alpha, colors, data, i, input, j, k, length, palette, v, _ref;\n    colors = this.colors;\n    palette = null;\n    alpha = this.hasAlphaChannel;\n    if (this.palette.length) {\n      palette =\n        (_ref = this._decodedPalette) != null\n          ? _ref\n          : (this._decodedPalette = this.decodePalette());\n      colors = 4;\n      alpha = true;\n    }\n    data = imageData.data || imageData;\n    length = data.length;\n    input = palette || pixels;\n    i = j = 0;\n    if (colors === 1) {\n      while (i < length) {\n        k = palette ? pixels[i / 4] * 4 : j;\n        v = input[k++];\n        data[i++] = v;\n        data[i++] = v;\n        data[i++] = v;\n        data[i++] = alpha ? input[k++] : 255;\n        j = k;\n      }\n    } else {\n      while (i < length) {\n        k = palette ? pixels[i / 4] * 4 : j;\n        data[i++] = input[k++];\n        data[i++] = input[k++];\n        data[i++] = input[k++];\n        data[i++] = alpha ? input[k++] : 255;\n        j = k;\n      }\n    }\n  };\n\n  PNG.prototype.decode = function() {\n    var ret;\n    ret = new Uint8Array(this.width * this.height * 4);\n    this.copyToImageData(ret, this.decodePixels());\n    return ret;\n  };\n\n  var hasBrowserCanvas = function() {\n    if (Object.prototype.toString.call(globalObject) === \"[object Window]\") {\n      try {\n        scratchCanvas = globalObject.document.createElement(\"canvas\");\n        scratchCtx = scratchCanvas.getContext(\"2d\");\n      } catch (e) {\n        return false;\n      }\n      return true;\n    }\n    return false;\n  };\n\n  hasBrowserCanvas();\n\n  makeImage = function(imageData) {\n    if (hasBrowserCanvas() === true) {\n      var img;\n      scratchCtx.width = imageData.width;\n      scratchCtx.height = imageData.height;\n      scratchCtx.clearRect(0, 0, imageData.width, imageData.height);\n      scratchCtx.putImageData(imageData, 0, 0);\n      img = new Image();\n      img.src = scratchCanvas.toDataURL();\n      return img;\n    }\n    throw new Error(\"This method requires a Browser with Canvas-capability.\");\n  };\n\n  PNG.prototype.decodeFrames = function(ctx) {\n    var frame, i, imageData, pixels, _i, _len, _ref, _results;\n    if (!this.animation) {\n      return;\n    }\n    _ref = this.animation.frames;\n    _results = [];\n    for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {\n      frame = _ref[i];\n      imageData = ctx.createImageData(frame.width, frame.height);\n      pixels = this.decodePixels(new Uint8Array(frame.data));\n      this.copyToImageData(imageData, pixels);\n      frame.imageData = imageData;\n      _results.push((frame.image = makeImage(imageData)));\n    }\n    return _results;\n  };\n\n  PNG.prototype.renderFrame = function(ctx, number) {\n    var frame, frames, prev;\n    frames = this.animation.frames;\n    frame = frames[number];\n    prev = frames[number - 1];\n    if (number === 0) {\n      ctx.clearRect(0, 0, this.width, this.height);\n    }\n    if (\n      (prev != null ? prev.disposeOp : void 0) === APNG_DISPOSE_OP_BACKGROUND\n    ) {\n      ctx.clearRect(prev.xOffset, prev.yOffset, prev.width, prev.height);\n    } else if (\n      (prev != null ? prev.disposeOp : void 0) === APNG_DISPOSE_OP_PREVIOUS\n    ) {\n      ctx.putImageData(prev.imageData, prev.xOffset, prev.yOffset);\n    }\n    if (frame.blendOp === APNG_BLEND_OP_SOURCE) {\n      ctx.clearRect(frame.xOffset, frame.yOffset, frame.width, frame.height);\n    }\n    return ctx.drawImage(frame.image, frame.xOffset, frame.yOffset);\n  };\n\n  PNG.prototype.animate = function(ctx) {\n    var doFrame,\n      frameNumber,\n      frames,\n      numFrames,\n      numPlays,\n      _ref,\n      _this = this;\n    frameNumber = 0;\n    (_ref = this.animation),\n      (numFrames = _ref.numFrames),\n      (frames = _ref.frames),\n      (numPlays = _ref.numPlays);\n    return (doFrame = function() {\n      var f, frame;\n      f = frameNumber++ % numFrames;\n      frame = frames[f];\n      _this.renderFrame(ctx, f);\n      if (numFrames > 1 && frameNumber / numFrames < numPlays) {\n        return (_this.animation._timeout = setTimeout(doFrame, frame.delay));\n      }\n    })();\n  };\n\n  PNG.prototype.stopAnimation = function() {\n    var _ref;\n    return clearTimeout(\n      (_ref = this.animation) != null ? _ref._timeout : void 0\n    );\n  };\n\n  PNG.prototype.render = function(canvas) {\n    var ctx, data;\n    if (canvas._png) {\n      canvas._png.stopAnimation();\n    }\n    canvas._png = this;\n    canvas.width = this.width;\n    canvas.height = this.height;\n    ctx = canvas.getContext(\"2d\");\n    if (this.animation) {\n      this.decodeFrames(ctx);\n      return this.animate(ctx);\n    } else {\n      data = ctx.createImageData(this.width, this.height);\n      this.copyToImageData(data, this.decodePixels());\n      return ctx.putImageData(data, 0, 0);\n    }\n  };\n\n  return PNG;\n})();\n\nexport { PNG };\n"],"names":["$d01b33f7246fb973$var$inner_button","$d01b33f7246fb973$var$outer_button","$d01b33f7246fb973$var$outer_radius","$d01b33f7246fb973$var$poss","n","w","padding","startp","p","i","$d01b33f7246fb973$var$make_poss","$d01b33f7246fb973$var$button_positions","y","x","push","x1","y1","$d01b33f7246fb973$export$cb9a9c16393b82b3","async","layers","lays","Promise","all","$parcel$interopDefault","$kwljN","map","layer","blob","alt","size","full","img","$d01b33f7246fb973$var$loadImage","canv","document","createElement","width","height","ctx","getContext","r","ellipse","Math","PI","clip","imageSmoothingEnabled","pixel","drawImage","toDataURL","doc","$dQqXj","jsPDF","unit","format","compress","putOnlyUsedFonts","l","layer1","_x","_y","inner_dims","outer_dims","dims","addImage","length","r1","setLineWidth","x2","y2","circle","url","URL","createObjectURL","res","rej","Image","addEventListener","e","error","src","finally","revokeObjectURL","$a1450a841916e972$var$PubSub","context","Error","topics","this","subscribe","topic","callback","once","hasOwnProperty","token","random","toString","unsubscribe","Object","keys","publish","args","Array","prototype","slice","call","arguments","tokens","sub","apply","ex","$e6JRL","globalObject","console","$9m62W","message","forEach","getTopics","$a1450a841916e972$export$1bc649ab427a02ba","parameters","supported","split","indexOf","id","objectNumber","$a1450a841916e972$var$Pattern","gState","matrix","$a1450a841916e972$export$7235f0ad083cb4c6","type","coords","colors","$a1450a841916e972$export$549f717800d2b57f","boundingBox","xStep","yStep","stream","cloneIndex","$a1450a841916e972$export$ba1e2ffc633a60f5","options1","precision","orientation","format1","compressPdf","filters1","userUnit","floatPrecision","defaultPathOperation","encryptionOptions","encryption","userPassword","ownerPassword","userPermissions","abs","filters","toLowerCase","usedFonts","API","internal","__private__","PubSub","pdfVersion","getPdfVersion","setPdfVersion","value","pageFormats","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","b10","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","c10","dl","letter","legal","ledger","tabloid","getPageFormats","getPageFormat","ApiMode","COMPAT","ADVANCED","apiMode","advancedAPI","saveGraphicsState","out1","Matrix","scaleFactor1","getPageHeight","setFontSize","getFontSize","compatAPI","restoreGraphicsState","combineFontStyleAndFontWeight","fontStyle","fontWeight","body","doSwitch","isAdvancedAPI","hpf","advancedApiModeTrap","methodName","roundToPrecision","number","parmPrecision","tmpPrecision","isNaN","toFixed","replace","f2","f3","scale1","scale","transformY","transformScaleY","setPrecision","parseInt","creationDate","fileId","getFileId","setFileId","test","toUpperCase","charAt","floor","join","$geiiY","PDFSecurity","convertDateToPDFDate","parmDate","tzoffset","getTimezoneOffset","tzsign","tzhour","tzmin","timeZoneString","padd2","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","convertPDFDateToDate","parmPDFDate","year","substr","month","date","hour","minutes","seconds","Date","setCreationDate","tmpCreationDateString","getCreationDate","result","currentPage","padd2Hex","hexString","offsets","content1","contentLength","additionalObjects","pages","hasCustomDestination","outputDestination","resetDocument","rootDictionaryObjId","newObjectDeferred","resourceDictionaryObjId","setCustomOutputDestination","destination","setOutputDestination","resetCustomOutputDestination","out","string","write","getArrayBuffer","data","len","ab","ArrayBuffer","u8","Uint8Array","charCodeAt","standardFonts","getStandardFonts","activeFontSize","fontSize","zoomMode","R2L","setR2L","getR2L","pageMode","setZoomMode","zoom","validZoomModes","undefined","getZoomMode","layoutMode","setPageMode","pmode","getPageMode","setLayoutMode","layout","getLayoutMode","setDisplayMode","documentProperties","title","subject","author","keywords","creator","getDocumentProperty","key","getDocumentProperties","setDocumentProperties","setProperties","properties","property","setDocumentProperty","activeFontKey","pageX","pageY","pageMatrix","fonts","fontmap","fontStateStack","patterns","patternMap","gStates","gStatesMap","activeGState","page1","pagesContext","events1","hotfixes","renderTargets","renderTargetMap","renderTargetStack","sx","shy","shx","sy","tx","ty","_matrix","defineProperty","get","set","atan2","decompose","separator","multiply","a","b","c","d","f","scaleX","sqrt","shear","scaleY","translate","rotate","skew","inversed","quot","aInv","bInv","cInv","dInv","applyToPoint","pt","Point","applyToRectangle","rect","pt1","pt2","h","Rectangle","clone","matrixMult","m1","m2","identityMatrix","unitMatrix","addPattern","pattern","patternKey","ShadingPattern","TilingPattern","addShadingPattern","beginTilingPattern","beginNewRenderTarget","endTilingPattern","pop","restore","newObject","oid","newObjectDeferredBegin","doOutput","newAdditionalObject","obj","objId","content","decodeColorString","color","colorEncoded","floatVal","parseFloat","colorAsRGB","encodeColorString","options","ch1","ch2","ch3","ch4","letterArray","pdfColorType","rgbColor","$7XNQI","RGBColor","ok","toHex","hex","getFilters","putStream","data1","alreadyAppliedFilters","addLength1","valueOfLength1","objectId","encryptor","processedData","keyValues","additionalKeyValues","filterAsString","processDataByFilters","reverseChain","isArray","j","decodeParmsArray","k","putPage","page","pageNumber","pageObjectNumber","pageContentsObjId","contentsObjId","mediaBox","bottomLeftX","bottomLeftY","topRightX","topRightY","cropBox","bleedBox","trimBox","artBox","pageContext","pageContent","putPages","pageObjectNumbers","kids","putFont","font","isAlreadyPutted","$1cpXB","toPDFName","postScriptName","encoding","putFonts","fontKey","putXObject","xObject","putXObjects","xObjectKey","interpolateAndEncodeRGBStream","numberSamples","t","tValues","dT","offset","unshift","index","aColor","bColor","round","trim","putShadingPattern","funcObjectNumber","putTilingPattern","deferredResourceDictionaryIds","resourcesObjectId","patternObjectId","resourcesOid","objectOid","putPatterns","putGState","putGStates","gStateKey","putXobjectDict","putEncryptionDict","v","toHexString","U","O","P","putFontDict","putShadingPatternDict","putTilingPatternDict","putGStatesDict","putResourceDictionary","objectIds","putResources","Number","MAX_SAFE_INTEGER","putAdditionalObjects","addFontToFontDictionary","fontName","addFont","isStandardFont","metadata","instance","addFonts","arrayOfFonts","parts","dictionary","SAFE","fn","foo","stack","m","alert","bar","to8bitStream","text","flags","sourceEncoding","encodingBlock","outputEncoding","newtext","isUnicode","ch","bch","autoencode","codePages","String","fromCharCode","noBOM","pdfEscape","beginPage","_setPage","_addPage","parmFormat","parmOrientation","dimensions","warn","min","lineWidth","strokeColor","lineCapID","lineJoinID","_deletePage","splice","setPage","getNumberOfPages","getFont","fontNameLowerCase","disableWarning","noFallback","putInfo","version","putCatalog","tmpRootDictionaryObjId","pcn","putTrailer","putHeader","putXRef","buildDocument","offsetOfXRef","getBlob","Blob","output","filename","save","dataURI","pdfDocument","$1QCgQ","btoa","unescape","encodeURIComponent","pdfObjectUrl","integrity","htmlForNewWindow","JSON","stringify","nW","open","htmlForPDFjsNewWindow","pdfJsUrl","PDFjsNewWindow","scope","documentElement","querySelector","onload","contentWindow","PDFViewerApplication","htmlForDataURLNewWindow","dataURLNewWindow","safari","location","href","hasHotfix","hotfixName","getEncryptor","getPageInfo","pageNumberOneBased","getPageInfoByObjId","getCurrentPageInfo","addPage","insertPage","beforePage","movePage","targetPage","tmpPages","tmpPagesContext","deletePage","text1","transform","payload","da1","angle","align","charSpace","maxWidth","horizontalScale","transformationMatrix","tmp","xtra","isHex","lineHeight","lineHeightFactor","scaleFactor","ESC","s","TabLen","transformTextToSpecialArray","curDa","sa","concat","da","shift","processTextByFunction","processingFunction","tmpResult","textIsOfTypeString","tmpTextIsOfTypeString","sa1","curDa1","len1","match","descent","baseline","splitTextToSize","reduce","acc","textLine","mutex","rotationDirection","cos","s1","sin","activeCharSpace","setCharSpace","getCharSpace","lang","renderingMode","parmRenderingMode","stroke","usedRenderingMode","lineWidths","leading","pageWidth","pageSize","getWidth","activeFont","assign","wordSpacingPerLine","newY","getStringUnitWidth","doKerning","newX","prevWidth","getHorizontalCoordinate","getVerticalCoordinate","doReversing","posX","posY","reverse","activeFontEncoding","posX1","posY1","STRING","ARRAY","variant","wordSpacing","generatePosition","parmPosX","parmPosY","parmTransformationMatrix","position","lineIndex","result1","textColor","rule","clipEvenOdd","discardPath","isValidStyle","style","setDefaultPathOperation","operator","getStyle","op","close","fill","fillWithOptionalPattern","fillEvenOdd","fillStroke","fillStrokeEvenOdd","fillWithPattern","putStyle","cloneTilingPattern","patternData","patternId","clipRuleFromStyle","setGState","moveTo","lineTo","curveTo","x3","y3","line","lines","closed","scalex","scaley","leg","x4","y4","path","triangle","roundedRect","rx","ry","MyArc","SQRT2","lx","ly","setFont","getFontEntry","getFontList","list","encodingOptions","getLineWidth","setLineDash","setLineDashPattern","dashArray","dashPhase","getLineHeight","setLineHeightFactor","getLineHeightFactor","getHorizontalCoordinateString","getVerticalCoordinateString","getStrokeColor","getDrawColor","setStrokeColor","setDrawColor","fillColor","getFillColor","setFillColor","getTextColor","setTextColor","CapJoinStyles","butt","but","miter","rounded","projecting","project","square","bevel","setLineCap","setLineJoin","setLineMiterLimit","setMiterLimit","GState","addGState","equals","duplicate","fontState","setCurrentTransformationMatrix","comment","enumerable","_type","_w","_h","RenderTarget","getPageWidth","setPageWidth","setPageHeight","endFormObject","newXObject","xObjectId","plugin","beginFormObject","doFormObject","getFormObject","returnPromise","$jsrE4","saveAs","unload","setTimeout","resolve","reject","events","newEvents","eventname","handler_and_args","getCoordinateString","collections","setWidth","getHeight","setHeight","getPDFVersion","configurable","other","ignore","count","$e2a6139f447cc337$var$download","name","opts","xhr","XMLHttpRequest","responseType","$e2a6139f447cc337$export$2bc2a80e311129ac","response","onerror","send","$e2a6139f447cc337$var$corsEnabled","status","$e2a6139f447cc337$var$click","node","dispatchEvent","MouseEvent","evt","createEvent","initMouseEvent","window","HTMLAnchorElement","webkitURL","download","rel","origin","target","navigator","msSaveOrOpenBlob","autoBom","$e2a6139f447cc337$var$bom","popup","innerText","force","isSafari","HTMLElement","isChromeIOS","userAgent","FileReader","reader","onloadend","readAsDataURL","url1","$a4553445eab765c9$export$ded1884231baf037","$parcel$global","self","$6cfadbd9d94b980b$var$consoleLog","log","$6cfadbd9d94b980b$export$e896d9a1b4631fa1","str","$5cc4b62373a40510$export$b278fa1959b09b13","color_string","channels","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","feldspar","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslateblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","violetred","wheat","white","whitesmoke","yellow","yellowgreen","color_defs","re","example","process","bits","processor","bits1","exec","g","toRGB","$1588558f1930af8d$export$1406ac7a6dfd7b7a","$1588558f1930af8d$export$a32219e24f8d1e2","atob","bind","$bd0c27266617a981$var$permissionOptions","print","modify","copy","$bd0c27266617a981$export$db2a6070c3c51d98","permissions","protection","perm","paddedUserPassword","paddedOwnerPassword","processOwnerPassword","encryptionKey","$hSPHU","md5Bin","lsbFirstWord","hexToBytes","$c46Bl","rc4","$d04f96cdec4fff46$var$md5cycle","$d04f96cdec4fff46$var$ff","$d04f96cdec4fff46$var$gg","$d04f96cdec4fff46$var$hh","$d04f96cdec4fff46$var$ii","$d04f96cdec4fff46$var$add32","$d04f96cdec4fff46$var$cmn","q","$d04f96cdec4fff46$var$md51","state","$d04f96cdec4fff46$var$md5blk","substring","tail","md5blks","$d04f96cdec4fff46$var$hex_chr","$d04f96cdec4fff46$var$rhex","$d04f96cdec4fff46$var$singleToByteString","$d04f96cdec4fff46$export$edca17d0e3c2a6ab","$d04f96cdec4fff46$var$md5Check","$d04f96cdec4fff46$var$hex","lsw","$8c8afaa6df1e33fd$export$50ce5028793cc2e","lastKey","lastState","num","$0dfb0ca07ab3ffe3$export$d54c4e959dd5e099","strLength","charCode","$d4ecdbf520e63dca$export$a143d493d941bafc","$d4ecdbf520e63dca$export$f99ded8fe4b79145","$d4ecdbf520e63dca$var$customInspectSymbol","Symbol","$d4ecdbf520e63dca$var$Buffer","$d4ecdbf520e63dca$var$K_MAX_LENGTH","$d4ecdbf520e63dca$var$createBuffer","RangeError","buf","setPrototypeOf","arg","encodingOrOffset","TypeError","$d4ecdbf520e63dca$var$allocUnsafe","$d4ecdbf520e63dca$var$from","isEncoding","$d4ecdbf520e63dca$var$byteLength","actual","$d4ecdbf520e63dca$var$fromString","isView","arrayView","$d4ecdbf520e63dca$var$isInstance","$d4ecdbf520e63dca$var$fromArrayBuffer","buffer","byteOffset","byteLength","$d4ecdbf520e63dca$var$fromArrayLike","$d4ecdbf520e63dca$var$fromArrayView","SharedArrayBuffer","valueOf","from","isBuffer","$d4ecdbf520e63dca$var$checked","$d4ecdbf520e63dca$var$numberIsNaN","$d4ecdbf520e63dca$var$fromObject","toPrimitive","$d4ecdbf520e63dca$var$assertSize","array","mustMatch","loweredCase","$d4ecdbf520e63dca$var$utf8ToBytes","$d4ecdbf520e63dca$var$base64ToBytes","$d4ecdbf520e63dca$var$slowToString","start","end","$d4ecdbf520e63dca$var$hexSlice","$d4ecdbf520e63dca$var$utf8Slice","$d4ecdbf520e63dca$var$asciiSlice","$d4ecdbf520e63dca$var$latin1Slice","$d4ecdbf520e63dca$var$base64Slice","$d4ecdbf520e63dca$var$utf16leSlice","$d4ecdbf520e63dca$var$swap","$d4ecdbf520e63dca$var$bidirectionalIndexOf","val","dir","$d4ecdbf520e63dca$var$arrayIndexOf","lastIndexOf","arr","i1","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","found","$d4ecdbf520e63dca$var$hexWrite","remaining","strLen","parsed","$d4ecdbf520e63dca$var$utf8Write","$d4ecdbf520e63dca$var$blitBuffer","$d4ecdbf520e63dca$var$asciiWrite","byteArray","$d4ecdbf520e63dca$var$asciiToBytes","$d4ecdbf520e63dca$var$base64Write","$d4ecdbf520e63dca$var$ucs2Write","units","hi","lo","$d4ecdbf520e63dca$var$utf16leToBytes","$hqZtu","fromByteArray","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","codePoints","$d4ecdbf520e63dca$var$MAX_ARGUMENTS_LENGTH","$d4ecdbf520e63dca$var$decodeCodePointsArray","TYPED_ARRAY_SUPPORT","proto","$d4ecdbf520e63dca$var$typedArraySupport","poolSize","alloc","$d4ecdbf520e63dca$var$alloc","allocUnsafe","allocUnsafeSlow","_isBuffer","compare","pos","swap16","swap32","swap64","toLocaleString","inspect","max","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","$d4ecdbf520e63dca$var$hexSliceLookupTable","bytes","$d4ecdbf520e63dca$var$checkOffset","ext","$d4ecdbf520e63dca$var$checkInt","$d4ecdbf520e63dca$var$wrtBigUInt64LE","$d4ecdbf520e63dca$var$checkIntBI","BigInt","$d4ecdbf520e63dca$var$wrtBigUInt64BE","$d4ecdbf520e63dca$var$checkIEEE754","$d4ecdbf520e63dca$var$writeFloat","littleEndian","noAssert","$5WQj6","$d4ecdbf520e63dca$var$writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","$d4ecdbf520e63dca$var$defineBigIntMethod","$d4ecdbf520e63dca$var$validateNumber","first","last","$d4ecdbf520e63dca$var$boundsError","readBigUInt64BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","limit","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","code","$d4ecdbf520e63dca$var$errors","$d4ecdbf520e63dca$var$E","sym","getMessage","Base","writable","super","$d4ecdbf520e63dca$var$addNumericalSeparator","range","ERR_OUT_OF_RANGE","$d4ecdbf520e63dca$var$checkBounds","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","input","msg","received","isInteger","$d4ecdbf520e63dca$var$INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","$d4ecdbf520e63dca$var$base64clean","dst","constructor","alphabet","table","i16","$d4ecdbf520e63dca$var$BufferBigIntNotDefined","$034686670a8a195b$export$d622b2ad8d90c771","$034686670a8a195b$export$6100ba28696e12de","b64","lens","$034686670a8a195b$var$getLens","validLen","placeHoldersLen","$034686670a8a195b$var$Arr","$034686670a8a195b$var$_byteLength","curByte","$034686670a8a195b$var$revLookup","uint8","extraBytes","maxChunkLength","len2","$034686670a8a195b$var$encodeChunk","$034686670a8a195b$var$lookup","$034686670a8a195b$var$code","$034686670a8a195b$var$i","$034686670a8a195b$var$len","$454af19f7384844b$export$aafa59e2e03f2942","$454af19f7384844b$export$68d8715fc104d294","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","LN2","jsPDFAPI","__addimage__","UNKNOWN","imageFileTypeHeaders","PNG","TIFF","JPEG","JPEG2000","GIF87a","GIF89a","WEBP","BMP","getImageFileTypeByImageData","imageData","fallbackFormat","headerSchemata","compareResult","fileType","Uint8ClampedArray","isArrayBufferView","putImage","image","filter","colorSpace","color_spaces","INDEXED","palette","sMask","DEVICE_CMYK","bitsPerComponent","decodeParameters","transparency","predictor","arrayBufferToBinaryString","putResourcesCallback","images","putXObjectsDictCallback","initialize","getImages","getImageIndex","isImageTypeSupported","isDOMElement","object","nodeType","getImageDataFromElement","element","nodeName","hasAttribute","getAttribute","tmpImageData","loadFile","mimeType","checkImagesForAlias","alias","determineWidthAndHeight","writeImageToPDF","rotation","coord","vcoord","f4","rotationTransformationMatrix","DEVICE_RGB","DEVICE_GRAY","CAL_GREY","CAL_RGB","LAB","ICC_BASED","PATTERN","SEPARATION","DEVICE_N","decode","DCT_DECODE","FLATE_DECODE","LZW_DECODE","JPX_DECODE","JBIG2_DECODE","ASCII85_DECODE","ASCII_HEX_DECODE","RUN_LENGTH_DECODE","CCITT_FAX_DECODE","image_compression","NONE","FAST","MEDIUM","SLOW","sHashCode","hash","validateStringAsBase64","possibleBase64String","extractImageFromDataUrl","dataUrl","dataUrlParts","extractedInfo","charset","supportsArrayBuffer","isArrayBuffer","Uint32Array","Int8Array","Int16Array","Uint16Array","Int32Array","Float32Array","Float64Array","binaryStringToUint8Array","binary_string","compression","processImageData","dataAsBinaryString","convertBase64ToBinaryString","generateAliasFromImageData","checkCompressValue","stringData","throwError","base64Info","rawData","getImageProperties","hasCompressionJS","compressBytes","applyPngFilterMethod","filterNone","filterSub","filterUp","filterAverage","filterPaeth","paethPredictor","getFilterMethods","getIndexOfSmallestSum","$hIp1Z","zlibSync","lineLength","colorsPerPixel","level","filter_method","dat","prevLine","filter_methods","results","ind","left","up","upLeft","paeth","pLeft","pUp","pUpLeft","arrays","sum","pv","cv","processPNG","trns","pal","smask","pixels","alphaData","imgData","hasColors","$3eFUj","colorType","pixelBitlength","decodePixels","pbl","pDiff","indexed","trans","total","getPredictorFromCompression","$ce59f66169506b51$var$ch2","$ce59f66169506b51$var$u8","$ce59f66169506b51$var$u16","$ce59f66169506b51$var$u32","$ce59f66169506b51$var$fleb","$ce59f66169506b51$var$fdeb","$ce59f66169506b51$var$clim","$ce59f66169506b51$var$freb","eb","$ce59f66169506b51$var$_a","$ce59f66169506b51$var$fl","$ce59f66169506b51$var$revfl","$ce59f66169506b51$var$_b","$ce59f66169506b51$var$fd","$ce59f66169506b51$var$revfd","$ce59f66169506b51$var$rev","$ce59f66169506b51$var$i","$ce59f66169506b51$var$x","$ce59f66169506b51$var$hMap","cd","mb","co","le","rvb","sv","r_1","$ce59f66169506b51$var$flt","$ce59f66169506b51$var$fdt","$ce59f66169506b51$var$flm","$ce59f66169506b51$var$flrm","$ce59f66169506b51$var$fdm","$ce59f66169506b51$var$fdrm","$ce59f66169506b51$var$max","$ce59f66169506b51$var$bits","o","$ce59f66169506b51$var$bits16","$ce59f66169506b51$var$shft","$ce59f66169506b51$var$slc","$ce59f66169506b51$var$inflt","st","sl","noBuf","noSt","cbuf","bl","nbuf","final","bt","lm","dm","lbt","dbt","tbts","l1","hLit","hcLen","tl","ldt","clt","clb","clbmsk","clm","lt","dt","lms","dms","mxa","add","dsym","$ce59f66169506b51$var$wbits","$ce59f66169506b51$var$wbits16","$ce59f66169506b51$var$hTree","t2","sort","i0","i2","maxSym","tr","mbt","$ce59f66169506b51$var$ln","lft","cst","i2_1","i2_2","i2_3","$ce59f66169506b51$var$lc","cl","cli","cln","cls","$ce59f66169506b51$var$clen","cf","$ce59f66169506b51$var$wfblk","$ce59f66169506b51$var$wblk","syms","lf","df","li","bs","_a","dlt","mlb","_b","ddt","mdb","_c","lclt","nlc","_d","lcdt","ndc","lcfreq","_e","lct","mlcb","nlcc","ll","flen","ftlen","dtlen","llm","lcts","it","clct","$ce59f66169506b51$var$deo","$ce59f66169506b51$var$et","$ce59f66169506b51$var$dflt","lvl","plvl","pre","post","lst","opt","msk_1","prev","head","bs1_1","ceil","bs2_1","hsh","lc_1","wi","hv","imod","pimod","rem","ch_1","dif","maxn","maxd","ml","nl","mmd","md","ti","lin","din","$ce59f66169506b51$var$crct","$ce59f66169506b51$var$crc","cr","$ce59f66169506b51$var$adler","$ce59f66169506b51$var$dopt","mem","$ce59f66169506b51$var$mrg","$ce59f66169506b51$var$wcln","fnStr","td","ks","st_1","spInd","$ce59f66169506b51$var$ch","$ce59f66169506b51$var$wrkr","fns","init","cb","td_1","transfer","u","Worker","onmessage","postMessage","$ce59f66169506b51$var$wk","$ce59f66169506b51$var$cbfs","$ce59f66169506b51$var$bInflt","$ce59f66169506b51$export$90366d8b308ba94a","$ce59f66169506b51$var$pbf","$ce59f66169506b51$var$gu8","$ce59f66169506b51$var$guze","$ce59f66169506b51$var$gzs","$ce59f66169506b51$var$gzl","$ce59f66169506b51$var$zule","$ce59f66169506b51$var$zlv","$ce59f66169506b51$var$astrm","strm","ondata","ev","$ce59f66169506b51$var$astrmify","err","terminate","$ce59f66169506b51$var$wbytes","$ce59f66169506b51$var$gzh","mtime","now","flg","zs","$ce59f66169506b51$var$gzhl","$ce59f66169506b51$var$zlh","lv","fl","$ce59f66169506b51$export$ae157b6234afe138","chunk","$ce59f66169506b51$export$d1de70a877d6e43c","bts","$ce59f66169506b51$export$fff8358d6dbaa9cc","$ce59f66169506b51$export$8e4b66d280bf8342","raw","$ce59f66169506b51$export$4cb607de6db70415","$ce59f66169506b51$export$d5adcdd968132151","$ce59f66169506b51$export$4187ccf2467013b9","$ce59f66169506b51$export$f87121a6d50aff25","$ce59f66169506b51$export$af2424f875ff1b17","$ce59f66169506b51$export$cf6668790220dcad","$ce59f66169506b51$export$9ec8134f0f1b9fc6","$ce59f66169506b51$export$578fe199ef655b76","G","I","Z","_this_1","$ce59f66169506b51$export$ae2c1d81988d4b43","$25b32fd1f1d0164f$export$1f536085c24cc947","makeImage","scratchCanvas","scratchCtx","chunkSize","palLen","delayDen","delayNum","frame","section","palShort","_i1","_j","_ref","animation","readUInt32","_i","_results","compressionMethod","filterMethod","interlaceMethod","numFrames","numPlays","frames","xOffset","yOffset","readUInt16","delay","disposeOp","blendOp","grayscale","rgb","hasAlphaChannel","pixelBytes","fullPixels","_this","pass","x0","y0","dx","dy","abyte","col","pa","pb","pc","row","scanlineLength","upper","upperLeft","_k","_l","_m","isFull","fullPos","partPos","unzlibSync","decodePalette","_ref1","copyToImageData","alpha","_decodedPalette","hasBrowserCanvas","clearRect","putImageData","decodeFrames","_len","createImageData","renderFrame","animate","doFrame","frameNumber","_timeout","stopAnimation","clearTimeout","render","canvas","_png"],"version":3,"file":"genpdf.3de4678d.js.map"}