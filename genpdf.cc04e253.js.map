{"mappings":"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","sources":["src/genpdf.ts","node_modules/jspdf/src/jspdf.js","node_modules/jspdf/src/libs/FileSaver.js","node_modules/jspdf/src/libs/globalObject.js","node_modules/jspdf/src/libs/console.js","node_modules/jspdf/src/libs/rgbcolor.js","node_modules/jspdf/src/libs/AtobBtoa.js","node_modules/jspdf/src/libs/pdfsecurity.js","node_modules/jspdf/src/libs/md5.js","node_modules/jspdf/src/libs/rc4.js","node_modules/jspdf/src/libs/pdfname.js","node_modules/buffer/index.js","node_modules/base64-js/index.js","node_modules/ieee754/index.js","node_modules/jspdf/src/modules/addimage.js","node_modules/jspdf/src/modules/png_support.js","node_modules/fflate/esm/browser.js","node_modules/jspdf/src/libs/png.js"],"sourcesContent":["import { jsPDF } from \"jspdf/src/jspdf\";\nimport \"jspdf/src/modules/addimage\";\nimport \"jspdf/src/modules/png_support\";\nimport iterate from \"iterare\";\n\nconst inner_button = 1.25;\nconst outer_button = 1.625;\nconst page_width = 8.5;\nconst page_height = 11;\nconst ncols = 4;\nconst nrows = 5;\nconst margin = 0.25;\nconst gap = (page_width - (margin * 2 + outer_button * ncols)) / (ncols - 1);\n\nconst outer_radius = outer_button / 2 - inner_button / 2;\n\nfunction* make_poss(n: number, w: number, padding: number, startp: number) {\n    let p = startp;\n    for (let i = 0; i < n; i++) {\n        yield p;\n        p += w + padding;\n    }\n}\n\nconst calc_dims = (x: number, y: number): [Dimension, Dimension] => {\n    const inner_dims: Dimension = [x + outer_radius, y + outer_radius, inner_button, inner_button];\n    const outer_dims: Dimension = [x, y, outer_button, outer_button];\n    return [inner_dims, outer_dims];\n};\n\nconst poss = (n: number) => make_poss(n, outer_button, gap, margin);\n\ntype Dimension = [number, number, number, number];\nconst button_positions: [number, number, Dimension, Dimension][] = [];\nfor (const y of poss(nrows)) {\n    for (const x of poss(ncols)) {\n        button_positions.push([x, y, ...calc_dims(x, y)]);\n    }\n}\n\nexport type Alt = { blob: Blob; full: boolean; pixel: boolean };\n\nexport const genPdf = async (layers: Iterable<Iterable<Alt>>) => {\n    const lays = await Promise.all(\n        iterate(layers).map((layer) =>\n            Promise.all(\n                iterate(layer).map(async ({ blob, ...alt }) => {\n                    const DPI = 300;\n                    const size = (alt.full ? inner_button : outer_button) * DPI;\n                    const img = await loadImage(blob);\n                    const canv = document.createElement(\"canvas\");\n                    canv.width = size;\n                    canv.height = size;\n                    const ctx = canv.getContext(\"2d\")!;\n\n                    const r = size / 2;\n                    ctx.ellipse(r, r, r, r, 0, 0, Math.PI * 2);\n                    ctx.clip();\n\n                    ctx.imageSmoothingEnabled = !alt.pixel;\n                    ctx.drawImage(img, 0, 0, size, size);\n\n                    return { canv: canv.toDataURL(\"image/png\"), ...alt };\n                })\n            )\n        )\n    );\n    const doc = new jsPDF({ unit: \"in\", format: \"letter\", compress: true, putOnlyUsedFonts: true });\n    let l = 0;\n    for (const layer of lays) {\n        let i = 0;\n        for (const [_x, _y, inner_dims, outer_dims] of button_positions) {\n            const alt = layer[i];\n            const dims = alt.full ? outer_dims : inner_dims;\n            doc.addImage(alt.canv, \"PNG\", ...dims, `l${l}a${i}`);\n            i = (i + 1) % layer.length;\n        }\n        l += 1;\n    }\n\n    const r = outer_button / 2;\n    doc.setLineWidth(1 / 72);\n    for (const [x, y] of button_positions) {\n        doc.circle(x + r, y + r, r);\n    }\n\n    return doc;\n};\n\nconst loadImage = (blob: Blob): Promise<CanvasImageSource> => {\n    const url = URL.createObjectURL(blob);\n    const prom = new Promise<HTMLImageElement>((res, rej) => {\n        const img = new Image();\n        img.addEventListener(\"load\", () => res(img));\n        img.addEventListener(\"error\", (e) => rej(e.error));\n        img.src = url;\n    });\n    return prom.finally(() => URL.revokeObjectURL(url));\n};\n","/* eslint-disable no-console */\n\n// @if MODULE_FORMAT!='cjs'\nimport { saveAs } from \"./libs/FileSaver.js\";\n// @endif\nimport { globalObject } from \"./libs/globalObject.js\";\nimport { RGBColor } from \"./libs/rgbcolor.js\";\nimport { btoa } from \"./libs/AtobBtoa.js\";\nimport { console } from \"./libs/console.js\";\nimport { PDFSecurity } from \"./libs/pdfsecurity.js\";\nimport { toPDFName } from \"./libs/pdfname.js\";\n/**\n * jsPDF's Internal PubSub Implementation.\n * Backward compatible rewritten on 2014 by\n * Diego Casorran, https://github.com/diegocr\n *\n * @class\n * @name PubSub\n * @ignore\n */\nfunction PubSub(context) {\n  if (typeof context !== \"object\") {\n    throw new Error(\n      \"Invalid Context passed to initialize PubSub (jsPDF-module)\"\n    );\n  }\n  var topics = {};\n\n  this.subscribe = function(topic, callback, once) {\n    once = once || false;\n    if (\n      typeof topic !== \"string\" ||\n      typeof callback !== \"function\" ||\n      typeof once !== \"boolean\"\n    ) {\n      throw new Error(\n        \"Invalid arguments passed to PubSub.subscribe (jsPDF-module)\"\n      );\n    }\n\n    if (!topics.hasOwnProperty(topic)) {\n      topics[topic] = {};\n    }\n\n    var token = Math.random().toString(35);\n    topics[topic][token] = [callback, !!once];\n\n    return token;\n  };\n\n  this.unsubscribe = function(token) {\n    for (var topic in topics) {\n      if (topics[topic][token]) {\n        delete topics[topic][token];\n        if (Object.keys(topics[topic]).length === 0) {\n          delete topics[topic];\n        }\n        return true;\n      }\n    }\n    return false;\n  };\n\n  this.publish = function(topic) {\n    if (topics.hasOwnProperty(topic)) {\n      var args = Array.prototype.slice.call(arguments, 1),\n        tokens = [];\n\n      for (var token in topics[topic]) {\n        var sub = topics[topic][token];\n        try {\n          sub[0].apply(context, args);\n        } catch (ex) {\n          if (globalObject.console) {\n            console.error(\"jsPDF PubSub Error\", ex.message, ex);\n          }\n        }\n        if (sub[1]) tokens.push(token);\n      }\n      if (tokens.length) tokens.forEach(this.unsubscribe);\n    }\n  };\n\n  this.getTopics = function() {\n    return topics;\n  };\n}\n\nfunction GState(parameters) {\n  if (!(this instanceof GState)) {\n    return new GState(parameters);\n  }\n\n  /**\n   * @name GState#opacity\n   * @type {any}\n   */\n  /**\n   * @name GState#stroke-opacity\n   * @type {any}\n   */\n  var supported = \"opacity,stroke-opacity\".split(\",\");\n  for (var p in parameters) {\n    if (parameters.hasOwnProperty(p) && supported.indexOf(p) >= 0) {\n      this[p] = parameters[p];\n    }\n  }\n  /**\n   * @name GState#id\n   * @type {string}\n   */\n  this.id = \"\"; // set by addGState()\n  /**\n   * @name GState#objectNumber\n   * @type {number}\n   */\n  this.objectNumber = -1; // will be set by putGState()\n}\n\nGState.prototype.equals = function equals(other) {\n  var ignore = \"id,objectNumber,equals\";\n  var p;\n  if (!other || typeof other !== typeof this) return false;\n  var count = 0;\n  for (p in this) {\n    if (ignore.indexOf(p) >= 0) continue;\n    if (this.hasOwnProperty(p) && !other.hasOwnProperty(p)) return false;\n    if (this[p] !== other[p]) return false;\n    count++;\n  }\n  for (p in other) {\n    if (other.hasOwnProperty(p) && ignore.indexOf(p) < 0) count--;\n  }\n  return count === 0;\n};\n\nfunction Pattern(gState, matrix) {\n  this.gState = gState;\n  this.matrix = matrix;\n\n  this.id = \"\"; // set by addPattern()\n  this.objectNumber = -1; // will be set by putPattern()\n}\n\nfunction ShadingPattern(type, coords, colors, gState, matrix) {\n  if (!(this instanceof ShadingPattern)) {\n    return new ShadingPattern(type, coords, colors, gState, matrix);\n  }\n\n  // see putPattern() for information how they are realized\n  this.type = type === \"axial\" ? 2 : 3;\n  this.coords = coords;\n  this.colors = colors;\n\n  Pattern.call(this, gState, matrix);\n}\n\nfunction TilingPattern(boundingBox, xStep, yStep, gState, matrix) {\n  if (!(this instanceof TilingPattern)) {\n    return new TilingPattern(boundingBox, xStep, yStep, gState, matrix);\n  }\n\n  this.boundingBox = boundingBox;\n  this.xStep = xStep;\n  this.yStep = yStep;\n\n  this.stream = \"\"; // set by endTilingPattern();\n\n  this.cloneIndex = 0;\n\n  Pattern.call(this, gState, matrix);\n}\n\n/**\n * Creates new jsPDF document object instance.\n * @name jsPDF\n * @class\n * @param {Object} [options] - Collection of settings initializing the jsPDF-instance\n * @param {string} [options.orientation=portrait] - Orientation of the first page. Possible values are \"portrait\" or \"landscape\" (or shortcuts \"p\" or \"l\").<br />\n * @param {string} [options.unit=mm] Measurement unit (base unit) to be used when coordinates are specified.<br />\n * Possible values are \"pt\" (points), \"mm\", \"cm\", \"in\", \"px\", \"pc\", \"em\" or \"ex\". Note that in order to get the correct scaling for \"px\"\n * units, you need to enable the hotfix \"px_scaling\" by setting options.hotfixes = [\"px_scaling\"].\n * @param {string/Array} [options.format=a4] The format of the first page. Can be:<ul><li>a0 - a10</li><li>b0 - b10</li><li>c0 - c10</li><li>dl</li><li>letter</li><li>government-letter</li><li>legal</li><li>junior-legal</li><li>ledger</li><li>tabloid</li><li>credit-card</li></ul><br />\n * Default is \"a4\". If you want to use your own format just pass instead of one of the above predefined formats the size as an number-array, e.g. [595.28, 841.89]\n * @param {boolean} [options.putOnlyUsedFonts=false] Only put fonts into the PDF, which were used.\n * @param {boolean} [options.compress=false] Compress the generated PDF.\n * @param {number} [options.precision=16] Precision of the element-positions.\n * @param {number} [options.userUnit=1.0] Not to be confused with the base unit. Please inform yourself before you use it.\n * @param {string[]} [options.hotfixes] An array of strings to enable hotfixes such as correct pixel scaling.\n * @param {Object} [options.encryption]\n * @param {string} [options.encryption.userPassword] Password for the user bound by the given permissions list.\n * @param {string} [options.encryption.ownerPassword] Both userPassword and ownerPassword should be set for proper authentication.\n * @param {string[]} [options.encryption.userPermissions] Array of permissions \"print\", \"modify\", \"copy\", \"annot-forms\", accessible by the user.\n * @param {number|\"smart\"} [options.floatPrecision=16]\n * @returns {jsPDF} jsPDF-instance\n * @description\n * ```\n * {\n *  orientation: 'p',\n *  unit: 'mm',\n *  format: 'a4',\n *  putOnlyUsedFonts:true,\n *  floatPrecision: 16 // or \"smart\", default is 16\n * }\n * ```\n *\n * @constructor\n */\nfunction jsPDF(options) {\n  var orientation = typeof arguments[0] === \"string\" ? arguments[0] : \"p\";\n  var unit = arguments[1];\n  var format = arguments[2];\n  var compressPdf = arguments[3];\n  var filters = [];\n  var userUnit = 1.0;\n  var precision;\n  var floatPrecision = 16;\n  var defaultPathOperation = \"S\";\n  var encryptionOptions = null;\n\n  options = options || {};\n\n  if (typeof options === \"object\") {\n    orientation = options.orientation;\n    unit = options.unit || unit;\n    format = options.format || format;\n    compressPdf = options.compress || options.compressPdf || compressPdf;\n    encryptionOptions = options.encryption || null;\n    if (encryptionOptions !== null) {\n      encryptionOptions.userPassword = encryptionOptions.userPassword || \"\";\n      encryptionOptions.ownerPassword = encryptionOptions.ownerPassword || \"\";\n      encryptionOptions.userPermissions =\n        encryptionOptions.userPermissions || [];\n    }\n    userUnit =\n      typeof options.userUnit === \"number\" ? Math.abs(options.userUnit) : 1.0;\n    if (typeof options.precision !== \"undefined\") {\n      precision = options.precision;\n    }\n    if (typeof options.floatPrecision !== \"undefined\") {\n      floatPrecision = options.floatPrecision;\n    }\n    defaultPathOperation = options.defaultPathOperation || \"S\";\n  }\n\n  filters =\n    options.filters || (compressPdf === true ? [\"FlateEncode\"] : filters);\n\n  unit = unit || \"mm\";\n  orientation = (\"\" + (orientation || \"P\")).toLowerCase();\n  var putOnlyUsedFonts = options.putOnlyUsedFonts || false;\n  var usedFonts = {};\n\n  var API = {\n    internal: {},\n    __private__: {}\n  };\n\n  API.__private__.PubSub = PubSub;\n\n  var pdfVersion = \"1.3\";\n  var getPdfVersion = (API.__private__.getPdfVersion = function() {\n    return pdfVersion;\n  });\n\n  API.__private__.setPdfVersion = function(value) {\n    pdfVersion = value;\n  };\n\n  // Size in pt of various paper formats\n  var pageFormats = {\n    a0: [2383.94, 3370.39],\n    a1: [1683.78, 2383.94],\n    a2: [1190.55, 1683.78],\n    a3: [841.89, 1190.55],\n    a4: [595.28, 841.89],\n    a5: [419.53, 595.28],\n    a6: [297.64, 419.53],\n    a7: [209.76, 297.64],\n    a8: [147.4, 209.76],\n    a9: [104.88, 147.4],\n    a10: [73.7, 104.88],\n    b0: [2834.65, 4008.19],\n    b1: [2004.09, 2834.65],\n    b2: [1417.32, 2004.09],\n    b3: [1000.63, 1417.32],\n    b4: [708.66, 1000.63],\n    b5: [498.9, 708.66],\n    b6: [354.33, 498.9],\n    b7: [249.45, 354.33],\n    b8: [175.75, 249.45],\n    b9: [124.72, 175.75],\n    b10: [87.87, 124.72],\n    c0: [2599.37, 3676.54],\n    c1: [1836.85, 2599.37],\n    c2: [1298.27, 1836.85],\n    c3: [918.43, 1298.27],\n    c4: [649.13, 918.43],\n    c5: [459.21, 649.13],\n    c6: [323.15, 459.21],\n    c7: [229.61, 323.15],\n    c8: [161.57, 229.61],\n    c9: [113.39, 161.57],\n    c10: [79.37, 113.39],\n    dl: [311.81, 623.62],\n    letter: [612, 792],\n    \"government-letter\": [576, 756],\n    legal: [612, 1008],\n    \"junior-legal\": [576, 360],\n    ledger: [1224, 792],\n    tabloid: [792, 1224],\n    \"credit-card\": [153, 243]\n  };\n\n  API.__private__.getPageFormats = function() {\n    return pageFormats;\n  };\n\n  var getPageFormat = (API.__private__.getPageFormat = function(value) {\n    return pageFormats[value];\n  });\n\n  format = format || \"a4\";\n\n  var ApiMode = {\n    COMPAT: \"compat\",\n    ADVANCED: \"advanced\"\n  };\n  var apiMode = ApiMode.COMPAT;\n\n  function advancedAPI() {\n    // prepend global change of basis matrix\n    // (Now, instead of converting every coordinate to the pdf coordinate system, we apply a matrix\n    // that does this job for us (however, texts, images and similar objects must be drawn bottom up))\n    this.saveGraphicsState();\n    out(\n      new Matrix(\n        scaleFactor,\n        0,\n        0,\n        -scaleFactor,\n        0,\n        getPageHeight() * scaleFactor\n      ).toString() + \" cm\"\n    );\n    this.setFontSize(this.getFontSize() / scaleFactor);\n\n    // The default in MrRio's implementation is \"S\" (stroke), whereas the default in the yWorks implementation\n    // was \"n\" (none). Although this has nothing to do with transforms, we should use the API switch here.\n    defaultPathOperation = \"n\";\n\n    apiMode = ApiMode.ADVANCED;\n  }\n\n  function compatAPI() {\n    this.restoreGraphicsState();\n    defaultPathOperation = \"S\";\n    apiMode = ApiMode.COMPAT;\n  }\n\n  /**\n   * @function combineFontStyleAndFontWeight\n   * @param {string} fontStyle Fontstyle or variant. Example: \"italic\".\n   * @param {number | string} fontWeight Weight of the Font. Example: \"normal\" | 400\n   * @returns {string}\n   * @private\n   */\n  var combineFontStyleAndFontWeight = (API.__private__.combineFontStyleAndFontWeight = function(\n    fontStyle,\n    fontWeight\n  ) {\n    if (\n      (fontStyle == \"bold\" && fontWeight == \"normal\") ||\n      (fontStyle == \"bold\" && fontWeight == 400) ||\n      (fontStyle == \"normal\" && fontWeight == \"italic\") ||\n      (fontStyle == \"bold\" && fontWeight == \"italic\")\n    ) {\n      throw new Error(\"Invalid Combination of fontweight and fontstyle\");\n    }\n    if (fontWeight) {\n      fontStyle =\n        fontWeight == 400 || fontWeight === \"normal\"\n          ? fontStyle === \"italic\"\n            ? \"italic\"\n            : \"normal\"\n          : (fontWeight == 700 || fontWeight === \"bold\") &&\n            fontStyle === \"normal\"\n          ? \"bold\"\n          : (fontWeight == 700 ? \"bold\" : fontWeight) + \"\" + fontStyle;\n    }\n    return fontStyle;\n  });\n\n  /**\n   * @callback ApiSwitchBody\n   * @param {jsPDF} pdf\n   */\n\n  /**\n   * For compatibility reasons jsPDF offers two API modes which differ in the way they convert between the the usual\n   * screen coordinates and the PDF coordinate system.\n   *   - \"compat\": Offers full compatibility across all plugins but does not allow arbitrary transforms\n   *   - \"advanced\": Allows arbitrary transforms and more advanced features like pattern fills. Some plugins might\n   *     not support this mode, though.\n   * Initial mode is \"compat\".\n   *\n   * You can either provide a callback to the body argument, which means that jsPDF will automatically switch back to\n   * the original API mode afterwards; or you can omit the callback and switch back manually using {@link compatAPI}.\n   *\n   * Note, that the calls to {@link saveGraphicsState} and {@link restoreGraphicsState} need to be balanced within the\n   * callback or between calls of this method and its counterpart {@link compatAPI}. Calls to {@link beginFormObject}\n   * or {@link beginTilingPattern} need to be closed by their counterparts before switching back to \"compat\" API mode.\n   *\n   * @param {ApiSwitchBody=} body When provided, this callback will be called after the API mode has been switched.\n   * The API mode will be switched back automatically afterwards.\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name advancedAPI\n   */\n  API.advancedAPI = function(body) {\n    var doSwitch = apiMode === ApiMode.COMPAT;\n\n    if (doSwitch) {\n      advancedAPI.call(this);\n    }\n\n    if (typeof body !== \"function\") {\n      return this;\n    }\n\n    body(this);\n\n    if (doSwitch) {\n      compatAPI.call(this);\n    }\n\n    return this;\n  };\n\n  /**\n   * Switches to \"compat\" API mode. See {@link advancedAPI} for more details.\n   *\n   * @param {ApiSwitchBody=} body When provided, this callback will be called after the API mode has been switched.\n   * The API mode will be switched back automatically afterwards.\n   * @return {jsPDF}\n   * @memberof jsPDF#\n   * @name compatApi\n   */\n  API.compatAPI = function(body) {\n    var doSwitch = apiMode === ApiMode.ADVANCED;\n\n    if (doSwitch) {\n      compatAPI.call(this);\n    }\n\n    if (typeof body !== \"function\") {\n      return this;\n    }\n\n    body(this);\n\n    if (doSwitch) {\n      advancedAPI.call(this);\n    }\n\n    return this;\n  };\n\n  /**\n   * @return {boolean} True iff the current API mode is \"advanced\". See {@link advancedAPI}.\n   * @memberof jsPDF#\n   * @name isAdvancedAPI\n   */\n  API.isAdvancedAPI = function() {\n    return apiMode === ApiMode.ADVANCED;\n  };\n\n  var advancedApiModeTrap = function(methodName) {\n    if (apiMode !== ApiMode.ADVANCED) {\n      throw new Error(\n        methodName +\n          \" is only available in 'advanced' API mode. \" +\n          \"You need to call advancedAPI() first.\"\n      );\n    }\n  };\n\n  var roundToPrecision = (API.roundToPrecision = API.__private__.roundToPrecision = function(\n    number,\n    parmPrecision\n  ) {\n    var tmpPrecision = precision || parmPrecision;\n    if (isNaN(number) || isNaN(tmpPrecision)) {\n      throw new Error(\"Invalid argument passed to jsPDF.roundToPrecision\");\n    }\n    return number.toFixed(tmpPrecision).replace(/0+$/, \"\");\n  });\n\n  // high precision float\n  var hpf;\n  if (typeof floatPrecision === \"number\") {\n    hpf = API.hpf = API.__private__.hpf = function(number) {\n      if (isNaN(number)) {\n        throw new Error(\"Invalid argument passed to jsPDF.hpf\");\n      }\n      return roundToPrecision(number, floatPrecision);\n    };\n  } else if (floatPrecision === \"smart\") {\n    hpf = API.hpf = API.__private__.hpf = function(number) {\n      if (isNaN(number)) {\n        throw new Error(\"Invalid argument passed to jsPDF.hpf\");\n      }\n      if (number > -1 && number < 1) {\n        return roundToPrecision(number, 16);\n      } else {\n        return roundToPrecision(number, 5);\n      }\n    };\n  } else {\n    hpf = API.hpf = API.__private__.hpf = function(number) {\n      if (isNaN(number)) {\n        throw new Error(\"Invalid argument passed to jsPDF.hpf\");\n      }\n      return roundToPrecision(number, 16);\n    };\n  }\n  var f2 = (API.f2 = API.__private__.f2 = function(number) {\n    if (isNaN(number)) {\n      throw new Error(\"Invalid argument passed to jsPDF.f2\");\n    }\n    return roundToPrecision(number, 2);\n  });\n\n  var f3 = (API.__private__.f3 = function(number) {\n    if (isNaN(number)) {\n      throw new Error(\"Invalid argument passed to jsPDF.f3\");\n    }\n    return roundToPrecision(number, 3);\n  });\n\n  var scale = (API.scale = API.__private__.scale = function(number) {\n    if (isNaN(number)) {\n      throw new Error(\"Invalid argument passed to jsPDF.scale\");\n    }\n    if (apiMode === ApiMode.COMPAT) {\n      return number * scaleFactor;\n    } else if (apiMode === ApiMode.ADVANCED) {\n      return number;\n    }\n  });\n\n  var transformY = function(y) {\n    if (apiMode === ApiMode.COMPAT) {\n      return getPageHeight() - y;\n    } else if (apiMode === ApiMode.ADVANCED) {\n      return y;\n    }\n  };\n\n  var transformScaleY = function(y) {\n    return scale(transformY(y));\n  };\n\n  /**\n   * @name setPrecision\n   * @memberof jsPDF#\n   * @function\n   * @instance\n   * @param {string} precision\n   * @returns {jsPDF}\n   */\n  API.__private__.setPrecision = API.setPrecision = function(value) {\n    if (typeof parseInt(value, 10) === \"number\") {\n      precision = parseInt(value, 10);\n    }\n  };\n\n  var fileId = \"00000000000000000000000000000000\";\n\n  var getFileId = (API.__private__.getFileId = function() {\n    return fileId;\n  });\n\n  var setFileId = (API.__private__.setFileId = function(value) {\n    if (typeof value !== \"undefined\" && /^[a-fA-F0-9]{32}$/.test(value)) {\n      fileId = value.toUpperCase();\n    } else {\n      fileId = fileId\n        .split(\"\")\n        .map(function() {\n          return \"ABCDEF0123456789\".charAt(Math.floor(Math.random() * 16));\n        })\n        .join(\"\");\n    }\n\n    if (encryptionOptions !== null) {\n      encryption = new PDFSecurity(\n        encryptionOptions.userPermissions,\n        encryptionOptions.userPassword,\n        encryptionOptions.ownerPassword,\n        fileId\n      );\n    }\n    return fileId;\n  });\n\n  /**\n   * @name setFileId\n   * @memberof jsPDF#\n   * @function\n   * @instance\n   * @param {string} value GUID.\n   * @returns {jsPDF}\n   */\n  API.setFileId = function(value) {\n    setFileId(value);\n    return this;\n  };\n\n  /**\n   * @name getFileId\n   * @memberof jsPDF#\n   * @function\n   * @instance\n   *\n   * @returns {string} GUID.\n   */\n  API.getFileId = function() {\n    return getFileId();\n  };\n\n  var creationDate;\n\n  var convertDateToPDFDate = (API.__private__.convertDateToPDFDate = function(\n    parmDate\n  ) {\n    var result = \"\";\n    var tzoffset = parmDate.getTimezoneOffset(),\n      tzsign = tzoffset < 0 ? \"+\" : \"-\",\n      tzhour = Math.floor(Math.abs(tzoffset / 60)),\n      tzmin = Math.abs(tzoffset % 60),\n      timeZoneString = [tzsign, padd2(tzhour), \"'\", padd2(tzmin), \"'\"].join(\"\");\n\n    result = [\n      \"D:\",\n      parmDate.getFullYear(),\n      padd2(parmDate.getMonth() + 1),\n      padd2(parmDate.getDate()),\n      padd2(parmDate.getHours()),\n      padd2(parmDate.getMinutes()),\n      padd2(parmDate.getSeconds()),\n      timeZoneString\n    ].join(\"\");\n    return result;\n  });\n\n  var convertPDFDateToDate = (API.__private__.convertPDFDateToDate = function(\n    parmPDFDate\n  ) {\n    var year = parseInt(parmPDFDate.substr(2, 4), 10);\n    var month = parseInt(parmPDFDate.substr(6, 2), 10) - 1;\n    var date = parseInt(parmPDFDate.substr(8, 2), 10);\n    var hour = parseInt(parmPDFDate.substr(10, 2), 10);\n    var minutes = parseInt(parmPDFDate.substr(12, 2), 10);\n    var seconds = parseInt(parmPDFDate.substr(14, 2), 10);\n    // var timeZoneHour = parseInt(parmPDFDate.substr(16, 2), 10);\n    // var timeZoneMinutes = parseInt(parmPDFDate.substr(20, 2), 10);\n\n    var resultingDate = new Date(year, month, date, hour, minutes, seconds, 0);\n    return resultingDate;\n  });\n\n  var setCreationDate = (API.__private__.setCreationDate = function(date) {\n    var tmpCreationDateString;\n    var regexPDFCreationDate = /^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\\+0[0-9]|\\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/;\n    if (typeof date === \"undefined\") {\n      date = new Date();\n    }\n\n    if (date instanceof Date) {\n      tmpCreationDateString = convertDateToPDFDate(date);\n    } else if (regexPDFCreationDate.test(date)) {\n      tmpCreationDateString = date;\n    } else {\n      throw new Error(\"Invalid argument passed to jsPDF.setCreationDate\");\n    }\n    creationDate = tmpCreationDateString;\n    return creationDate;\n  });\n\n  var getCreationDate = (API.__private__.getCreationDate = function(type) {\n    var result = creationDate;\n    if (type === \"jsDate\") {\n      result = convertPDFDateToDate(creationDate);\n    }\n    return result;\n  });\n\n  /**\n   * @name setCreationDate\n   * @memberof jsPDF#\n   * @function\n   * @instance\n   * @param {Object} date\n   * @returns {jsPDF}\n   */\n  API.setCreationDate = function(date) {\n    setCreationDate(date);\n    return this;\n  };\n\n  /**\n   * @name getCreationDate\n   * @memberof jsPDF#\n   * @function\n   * @instance\n   * @param {Object} type\n   * @returns {Object}\n   */\n  API.getCreationDate = function(type) {\n    return getCreationDate(type);\n  };\n\n  var padd2 = (API.__private__.padd2 = function(number) {\n    return (\"0\" + parseInt(number)).slice(-2);\n  });\n\n  var padd2Hex = (API.__private__.padd2Hex = function(hexString) {\n    hexString = hexString.toString();\n    return (\"00\" + hexString).substr(hexString.length);\n  });\n\n  var objectNumber = 0; // 'n' Current object number\n  var offsets = []; // List of offsets. Activated and reset by buildDocument(). Pupulated by various calls buildDocument makes.\n  var content = [];\n  var contentLength = 0;\n  var additionalObjects = [];\n\n  var pages = [];\n  var currentPage;\n  var hasCustomDestination = false;\n  var outputDestination = content;\n\n  var resetDocument = function() {\n    //reset fields relevant for objectNumber generation and xref.\n    objectNumber = 0;\n    contentLength = 0;\n    content = [];\n    offsets = [];\n    additionalObjects = [];\n\n    rootDictionaryObjId = newObjectDeferred();\n    resourceDictionaryObjId = newObjectDeferred();\n  };\n\n  API.__private__.setCustomOutputDestination = function(destination) {\n    hasCustomDestination = true;\n    outputDestination = destination;\n  };\n  var setOutputDestination = function(destination) {\n    if (!hasCustomDestination) {\n      outputDestination = destination;\n    }\n  };\n\n  API.__private__.resetCustomOutputDestination = function() {\n    hasCustomDestination = false;\n    outputDestination = content;\n  };\n\n  var out = (API.__private__.out = function(string) {\n    string = string.toString();\n    contentLength += string.length + 1;\n    outputDestination.push(string);\n\n    return outputDestination;\n  });\n\n  var write = (API.__private__.write = function(value) {\n    return out(\n      arguments.length === 1\n        ? value.toString()\n        : Array.prototype.join.call(arguments, \" \")\n    );\n  });\n\n  var getArrayBuffer = (API.__private__.getArrayBuffer = function(data) {\n    var len = data.length,\n      ab = new ArrayBuffer(len),\n      u8 = new Uint8Array(ab);\n\n    while (len--) u8[len] = data.charCodeAt(len);\n    return ab;\n  });\n\n  var standardFonts = [\n    [\"Helvetica\", \"helvetica\", \"normal\", \"WinAnsiEncoding\"],\n    [\"Helvetica-Bold\", \"helvetica\", \"bold\", \"WinAnsiEncoding\"],\n    [\"Helvetica-Oblique\", \"helvetica\", \"italic\", \"WinAnsiEncoding\"],\n    [\"Helvetica-BoldOblique\", \"helvetica\", \"bolditalic\", \"WinAnsiEncoding\"],\n    [\"Courier\", \"courier\", \"normal\", \"WinAnsiEncoding\"],\n    [\"Courier-Bold\", \"courier\", \"bold\", \"WinAnsiEncoding\"],\n    [\"Courier-Oblique\", \"courier\", \"italic\", \"WinAnsiEncoding\"],\n    [\"Courier-BoldOblique\", \"courier\", \"bolditalic\", \"WinAnsiEncoding\"],\n    [\"Times-Roman\", \"times\", \"normal\", \"WinAnsiEncoding\"],\n    [\"Times-Bold\", \"times\", \"bold\", \"WinAnsiEncoding\"],\n    [\"Times-Italic\", \"times\", \"italic\", \"WinAnsiEncoding\"],\n    [\"Times-BoldItalic\", \"times\", \"bolditalic\", \"WinAnsiEncoding\"],\n    [\"ZapfDingbats\", \"zapfdingbats\", \"normal\", null],\n    [\"Symbol\", \"symbol\", \"normal\", null]\n  ];\n\n  API.__private__.getStandardFonts = function() {\n    return standardFonts;\n  };\n\n  var activeFontSize = options.fontSize || 16;\n\n  /**\n   * Sets font size for upcoming text elements.\n   *\n   * @param {number} size Font size in points.\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setFontSize\n   */\n  API.__private__.setFontSize = API.setFontSize = function(size) {\n    if (apiMode === ApiMode.ADVANCED) {\n      activeFontSize = size / scaleFactor;\n    } else {\n      activeFontSize = size;\n    }\n    return this;\n  };\n\n  /**\n   * Gets the fontsize for upcoming text elements.\n   *\n   * @function\n   * @instance\n   * @returns {number}\n   * @memberof jsPDF#\n   * @name getFontSize\n   */\n  var getFontSize = (API.__private__.getFontSize = API.getFontSize = function() {\n    if (apiMode === ApiMode.COMPAT) {\n      return activeFontSize;\n    } else {\n      return activeFontSize * scaleFactor;\n    }\n  });\n\n  var R2L = options.R2L || false;\n\n  /**\n   * Set value of R2L functionality.\n   *\n   * @param {boolean} value\n   * @function\n   * @instance\n   * @returns {jsPDF} jsPDF-instance\n   * @memberof jsPDF#\n   * @name setR2L\n   */\n  API.__private__.setR2L = API.setR2L = function(value) {\n    R2L = value;\n    return this;\n  };\n\n  /**\n   * Get value of R2L functionality.\n   *\n   * @function\n   * @instance\n   * @returns {boolean} jsPDF-instance\n   * @memberof jsPDF#\n   * @name getR2L\n   */\n  API.__private__.getR2L = API.getR2L = function() {\n    return R2L;\n  };\n\n  var zoomMode; // default: 1;\n\n  var setZoomMode = (API.__private__.setZoomMode = function(zoom) {\n    var validZoomModes = [\n      undefined,\n      null,\n      \"fullwidth\",\n      \"fullheight\",\n      \"fullpage\",\n      \"original\"\n    ];\n\n    if (/^(?:\\d+\\.\\d*|\\d*\\.\\d+|\\d+)%$/.test(zoom)) {\n      zoomMode = zoom;\n    } else if (!isNaN(zoom)) {\n      zoomMode = parseInt(zoom, 10);\n    } else if (validZoomModes.indexOf(zoom) !== -1) {\n      zoomMode = zoom;\n    } else {\n      throw new Error(\n        'zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. \"' +\n          zoom +\n          '\" is not recognized.'\n      );\n    }\n  });\n\n  API.__private__.getZoomMode = function() {\n    return zoomMode;\n  };\n\n  var pageMode; // default: 'UseOutlines';\n  var setPageMode = (API.__private__.setPageMode = function(pmode) {\n    var validPageModes = [\n      undefined,\n      null,\n      \"UseNone\",\n      \"UseOutlines\",\n      \"UseThumbs\",\n      \"FullScreen\"\n    ];\n\n    if (validPageModes.indexOf(pmode) == -1) {\n      throw new Error(\n        'Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. \"' +\n          pmode +\n          '\" is not recognized.'\n      );\n    }\n    pageMode = pmode;\n  });\n\n  API.__private__.getPageMode = function() {\n    return pageMode;\n  };\n\n  var layoutMode; // default: 'continuous';\n  var setLayoutMode = (API.__private__.setLayoutMode = function(layout) {\n    var validLayoutModes = [\n      undefined,\n      null,\n      \"continuous\",\n      \"single\",\n      \"twoleft\",\n      \"tworight\",\n      \"two\"\n    ];\n\n    if (validLayoutModes.indexOf(layout) == -1) {\n      throw new Error(\n        'Layout mode must be one of continuous, single, twoleft, tworight. \"' +\n          layout +\n          '\" is not recognized.'\n      );\n    }\n    layoutMode = layout;\n  });\n\n  API.__private__.getLayoutMode = function() {\n    return layoutMode;\n  };\n\n  /**\n   * Set the display mode options of the page like zoom and layout.\n   *\n   * @name setDisplayMode\n   * @memberof jsPDF#\n   * @function\n   * @instance\n   * @param {integer|String} zoom   You can pass an integer or percentage as\n   * a string. 2 will scale the document up 2x, '200%' will scale up by the\n   * same amount. You can also set it to 'fullwidth', 'fullheight',\n   * 'fullpage', or 'original'.\n   *\n   * Only certain PDF readers support this, such as Adobe Acrobat.\n   *\n   * @param {string} layout Layout mode can be: 'continuous' - this is the\n   * default continuous scroll. 'single' - the single page mode only shows one\n   * page at a time. 'twoleft' - two column left mode, first page starts on\n   * the left, and 'tworight' - pages are laid out in two columns, with the\n   * first page on the right. This would be used for books.\n   * @param {string} pmode 'UseOutlines' - it shows the\n   * outline of the document on the left. 'UseThumbs' - shows thumbnails along\n   * the left. 'FullScreen' - prompts the user to enter fullscreen mode.\n   *\n   * @returns {jsPDF}\n   */\n  API.__private__.setDisplayMode = API.setDisplayMode = function(\n    zoom,\n    layout,\n    pmode\n  ) {\n    setZoomMode(zoom);\n    setLayoutMode(layout);\n    setPageMode(pmode);\n    return this;\n  };\n\n  var documentProperties = {\n    title: \"\",\n    subject: \"\",\n    author: \"\",\n    keywords: \"\",\n    creator: \"\"\n  };\n\n  API.__private__.getDocumentProperty = function(key) {\n    if (Object.keys(documentProperties).indexOf(key) === -1) {\n      throw new Error(\"Invalid argument passed to jsPDF.getDocumentProperty\");\n    }\n    return documentProperties[key];\n  };\n\n  API.__private__.getDocumentProperties = function() {\n    return documentProperties;\n  };\n\n  /**\n   * Adds a properties to the PDF document.\n   *\n   * @param {Object} A property_name-to-property_value object structure.\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setDocumentProperties\n   */\n  API.__private__.setDocumentProperties = API.setProperties = API.setDocumentProperties = function(\n    properties\n  ) {\n    // copying only those properties we can render.\n    for (var property in documentProperties) {\n      if (documentProperties.hasOwnProperty(property) && properties[property]) {\n        documentProperties[property] = properties[property];\n      }\n    }\n    return this;\n  };\n\n  API.__private__.setDocumentProperty = function(key, value) {\n    if (Object.keys(documentProperties).indexOf(key) === -1) {\n      throw new Error(\"Invalid arguments passed to jsPDF.setDocumentProperty\");\n    }\n    return (documentProperties[key] = value);\n  };\n\n  var fonts = {}; // collection of font objects, where key is fontKey - a dynamically created label for a given font.\n  var fontmap = {}; // mapping structure fontName > fontStyle > font key - performance layer. See addFont()\n  var activeFontKey; // will be string representing the KEY of the font as combination of fontName + fontStyle\n  var fontStateStack = []; //\n  var patterns = {}; // collection of pattern objects\n  var patternMap = {}; // see fonts\n  var gStates = {}; // collection of graphic state objects\n  var gStatesMap = {}; // see fonts\n  var activeGState = null;\n  var scaleFactor; // Scale factor\n  var page = 0;\n  var pagesContext = [];\n  var events = new PubSub(API);\n  var hotfixes = options.hotfixes || [];\n\n  var renderTargets = {};\n  var renderTargetMap = {};\n  var renderTargetStack = [];\n  var pageX;\n  var pageY;\n  var pageMatrix; // only used for FormObjects\n\n  /**\n   * A matrix object for 2D homogenous transformations: <br>\n   * | a b 0 | <br>\n   * | c d 0 | <br>\n   * | e f 1 | <br>\n   * pdf multiplies matrices righthand: v' = v x m1 x m2 x ...\n   *\n   * @class\n   * @name Matrix\n   * @param {number} sx\n   * @param {number} shy\n   * @param {number} shx\n   * @param {number} sy\n   * @param {number} tx\n   * @param {number} ty\n   * @constructor\n   */\n  var Matrix = function(sx, shy, shx, sy, tx, ty) {\n    if (!(this instanceof Matrix)) {\n      return new Matrix(sx, shy, shx, sy, tx, ty);\n    }\n\n    if (isNaN(sx)) sx = 1;\n    if (isNaN(shy)) shy = 0;\n    if (isNaN(shx)) shx = 0;\n    if (isNaN(sy)) sy = 1;\n    if (isNaN(tx)) tx = 0;\n    if (isNaN(ty)) ty = 0;\n\n    this._matrix = [sx, shy, shx, sy, tx, ty];\n  };\n\n  /**\n   * @name sx\n   * @memberof Matrix#\n   */\n  Object.defineProperty(Matrix.prototype, \"sx\", {\n    get: function() {\n      return this._matrix[0];\n    },\n    set: function(value) {\n      this._matrix[0] = value;\n    }\n  });\n\n  /**\n   * @name shy\n   * @memberof Matrix#\n   */\n  Object.defineProperty(Matrix.prototype, \"shy\", {\n    get: function() {\n      return this._matrix[1];\n    },\n    set: function(value) {\n      this._matrix[1] = value;\n    }\n  });\n\n  /**\n   * @name shx\n   * @memberof Matrix#\n   */\n  Object.defineProperty(Matrix.prototype, \"shx\", {\n    get: function() {\n      return this._matrix[2];\n    },\n    set: function(value) {\n      this._matrix[2] = value;\n    }\n  });\n\n  /**\n   * @name sy\n   * @memberof Matrix#\n   */\n  Object.defineProperty(Matrix.prototype, \"sy\", {\n    get: function() {\n      return this._matrix[3];\n    },\n    set: function(value) {\n      this._matrix[3] = value;\n    }\n  });\n\n  /**\n   * @name tx\n   * @memberof Matrix#\n   */\n  Object.defineProperty(Matrix.prototype, \"tx\", {\n    get: function() {\n      return this._matrix[4];\n    },\n    set: function(value) {\n      this._matrix[4] = value;\n    }\n  });\n\n  /**\n   * @name ty\n   * @memberof Matrix#\n   */\n  Object.defineProperty(Matrix.prototype, \"ty\", {\n    get: function() {\n      return this._matrix[5];\n    },\n    set: function(value) {\n      this._matrix[5] = value;\n    }\n  });\n\n  Object.defineProperty(Matrix.prototype, \"a\", {\n    get: function() {\n      return this._matrix[0];\n    },\n    set: function(value) {\n      this._matrix[0] = value;\n    }\n  });\n\n  Object.defineProperty(Matrix.prototype, \"b\", {\n    get: function() {\n      return this._matrix[1];\n    },\n    set: function(value) {\n      this._matrix[1] = value;\n    }\n  });\n\n  Object.defineProperty(Matrix.prototype, \"c\", {\n    get: function() {\n      return this._matrix[2];\n    },\n    set: function(value) {\n      this._matrix[2] = value;\n    }\n  });\n\n  Object.defineProperty(Matrix.prototype, \"d\", {\n    get: function() {\n      return this._matrix[3];\n    },\n    set: function(value) {\n      this._matrix[3] = value;\n    }\n  });\n\n  Object.defineProperty(Matrix.prototype, \"e\", {\n    get: function() {\n      return this._matrix[4];\n    },\n    set: function(value) {\n      this._matrix[4] = value;\n    }\n  });\n\n  Object.defineProperty(Matrix.prototype, \"f\", {\n    get: function() {\n      return this._matrix[5];\n    },\n    set: function(value) {\n      this._matrix[5] = value;\n    }\n  });\n\n  /**\n   * @name rotation\n   * @memberof Matrix#\n   */\n  Object.defineProperty(Matrix.prototype, \"rotation\", {\n    get: function() {\n      return Math.atan2(this.shx, this.sx);\n    }\n  });\n\n  /**\n   * @name scaleX\n   * @memberof Matrix#\n   */\n  Object.defineProperty(Matrix.prototype, \"scaleX\", {\n    get: function() {\n      return this.decompose().scale.sx;\n    }\n  });\n\n  /**\n   * @name scaleY\n   * @memberof Matrix#\n   */\n  Object.defineProperty(Matrix.prototype, \"scaleY\", {\n    get: function() {\n      return this.decompose().scale.sy;\n    }\n  });\n\n  /**\n   * @name isIdentity\n   * @memberof Matrix#\n   */\n  Object.defineProperty(Matrix.prototype, \"isIdentity\", {\n    get: function() {\n      if (this.sx !== 1) {\n        return false;\n      }\n      if (this.shy !== 0) {\n        return false;\n      }\n      if (this.shx !== 0) {\n        return false;\n      }\n      if (this.sy !== 1) {\n        return false;\n      }\n      if (this.tx !== 0) {\n        return false;\n      }\n      if (this.ty !== 0) {\n        return false;\n      }\n      return true;\n    }\n  });\n\n  /**\n   * Join the Matrix Values to a String\n   *\n   * @function join\n   * @param {string} separator Specifies a string to separate each pair of adjacent elements of the array. The separator is converted to a string if necessary. If omitted, the array elements are separated with a comma (\",\"). If separator is an empty string, all elements are joined without any characters in between them.\n   * @returns {string} A string with all array elements joined.\n   * @memberof Matrix#\n   */\n  Matrix.prototype.join = function(separator) {\n    return [this.sx, this.shy, this.shx, this.sy, this.tx, this.ty]\n      .map(hpf)\n      .join(separator);\n  };\n\n  /**\n   * Multiply the matrix with given Matrix\n   *\n   * @function multiply\n   * @param matrix\n   * @returns {Matrix}\n   * @memberof Matrix#\n   */\n  Matrix.prototype.multiply = function(matrix) {\n    var sx = matrix.sx * this.sx + matrix.shy * this.shx;\n    var shy = matrix.sx * this.shy + matrix.shy * this.sy;\n    var shx = matrix.shx * this.sx + matrix.sy * this.shx;\n    var sy = matrix.shx * this.shy + matrix.sy * this.sy;\n    var tx = matrix.tx * this.sx + matrix.ty * this.shx + this.tx;\n    var ty = matrix.tx * this.shy + matrix.ty * this.sy + this.ty;\n\n    return new Matrix(sx, shy, shx, sy, tx, ty);\n  };\n\n  /**\n   * @function decompose\n   * @memberof Matrix#\n   */\n  Matrix.prototype.decompose = function() {\n    var a = this.sx;\n    var b = this.shy;\n    var c = this.shx;\n    var d = this.sy;\n    var e = this.tx;\n    var f = this.ty;\n\n    var scaleX = Math.sqrt(a * a + b * b);\n    a /= scaleX;\n    b /= scaleX;\n\n    var shear = a * c + b * d;\n    c -= a * shear;\n    d -= b * shear;\n\n    var scaleY = Math.sqrt(c * c + d * d);\n    c /= scaleY;\n    d /= scaleY;\n    shear /= scaleY;\n\n    if (a * d < b * c) {\n      a = -a;\n      b = -b;\n      shear = -shear;\n      scaleX = -scaleX;\n    }\n\n    return {\n      scale: new Matrix(scaleX, 0, 0, scaleY, 0, 0),\n      translate: new Matrix(1, 0, 0, 1, e, f),\n      rotate: new Matrix(a, b, -b, a, 0, 0),\n      skew: new Matrix(1, 0, shear, 1, 0, 0)\n    };\n  };\n\n  /**\n   * @function toString\n   * @memberof Matrix#\n   */\n  Matrix.prototype.toString = function(parmPrecision) {\n    return this.join(\" \");\n  };\n\n  /**\n   * @function inversed\n   * @memberof Matrix#\n   */\n  Matrix.prototype.inversed = function() {\n    var a = this.sx,\n      b = this.shy,\n      c = this.shx,\n      d = this.sy,\n      e = this.tx,\n      f = this.ty;\n\n    var quot = 1 / (a * d - b * c);\n\n    var aInv = d * quot;\n    var bInv = -b * quot;\n    var cInv = -c * quot;\n    var dInv = a * quot;\n    var eInv = -aInv * e - cInv * f;\n    var fInv = -bInv * e - dInv * f;\n\n    return new Matrix(aInv, bInv, cInv, dInv, eInv, fInv);\n  };\n\n  /**\n   * @function applyToPoint\n   * @memberof Matrix#\n   */\n  Matrix.prototype.applyToPoint = function(pt) {\n    var x = pt.x * this.sx + pt.y * this.shx + this.tx;\n    var y = pt.x * this.shy + pt.y * this.sy + this.ty;\n    return new Point(x, y);\n  };\n\n  /**\n   * @function applyToRectangle\n   * @memberof Matrix#\n   */\n  Matrix.prototype.applyToRectangle = function(rect) {\n    var pt1 = this.applyToPoint(rect);\n    var pt2 = this.applyToPoint(new Point(rect.x + rect.w, rect.y + rect.h));\n    return new Rectangle(pt1.x, pt1.y, pt2.x - pt1.x, pt2.y - pt1.y);\n  };\n\n  /**\n   * Clone the Matrix\n   *\n   * @function clone\n   * @memberof Matrix#\n   * @name clone\n   * @instance\n   */\n  Matrix.prototype.clone = function() {\n    var sx = this.sx;\n    var shy = this.shy;\n    var shx = this.shx;\n    var sy = this.sy;\n    var tx = this.tx;\n    var ty = this.ty;\n\n    return new Matrix(sx, shy, shx, sy, tx, ty);\n  };\n\n  API.Matrix = Matrix;\n\n  /**\n   * Multiplies two matrices. (see {@link Matrix})\n   * @param {Matrix} m1\n   * @param {Matrix} m2\n   * @memberof jsPDF#\n   * @name matrixMult\n   */\n  var matrixMult = (API.matrixMult = function(m1, m2) {\n    return m2.multiply(m1);\n  });\n\n  /**\n   * The identity matrix (equivalent to new Matrix(1, 0, 0, 1, 0, 0)).\n   * @type {Matrix}\n   * @memberof! jsPDF#\n   * @name identityMatrix\n   */\n  var identityMatrix = new Matrix(1, 0, 0, 1, 0, 0);\n  API.unitMatrix = API.identityMatrix = identityMatrix;\n\n  /**\n   * Adds a new pattern for later use.\n   * @param {String} key The key by it can be referenced later. The keys must be unique!\n   * @param {API.Pattern} pattern The pattern\n   */\n  var addPattern = function(key, pattern) {\n    // only add it if it is not already present (the keys provided by the user must be unique!)\n    if (patternMap[key]) return;\n\n    var prefix = pattern instanceof ShadingPattern ? \"Sh\" : \"P\";\n    var patternKey = prefix + (Object.keys(patterns).length + 1).toString(10);\n    pattern.id = patternKey;\n\n    patternMap[key] = patternKey;\n    patterns[patternKey] = pattern;\n\n    events.publish(\"addPattern\", pattern);\n  };\n\n  /**\n   * A pattern describing a shading pattern.\n   *\n   * Only available in \"advanced\" API mode.\n   *\n   * @param {String} type One of \"axial\" or \"radial\"\n   * @param {Array<Number>} coords Either [x1, y1, x2, y2] for \"axial\" type describing the two interpolation points\n   * or [x1, y1, r, x2, y2, r2] for \"radial\" describing inner and the outer circle.\n   * @param {Array<Object>} colors An array of objects with the fields \"offset\" and \"color\". \"offset\" describes\n   * the offset in parameter space [0, 1]. \"color\" is an array of length 3 describing RGB values in [0, 255].\n   * @param {GState=} gState An additional graphics state that gets applied to the pattern (optional).\n   * @param {Matrix=} matrix A matrix that describes the transformation between the pattern coordinate system\n   * and the use coordinate system (optional).\n   * @constructor\n   * @extends API.Pattern\n   */\n  API.ShadingPattern = ShadingPattern;\n\n  /**\n   * A PDF Tiling pattern.\n   *\n   * Only available in \"advanced\" API mode.\n   *\n   * @param {Array.<Number>} boundingBox The bounding box at which one pattern cell gets clipped.\n   * @param {Number} xStep Horizontal spacing between pattern cells.\n   * @param {Number} yStep Vertical spacing between pattern cells.\n   * @param {API.GState=} gState An additional graphics state that gets applied to the pattern (optional).\n   * @param {Matrix=} matrix A matrix that describes the transformation between the pattern coordinate system\n   * and the use coordinate system (optional).\n   * @constructor\n   * @extends API.Pattern\n   */\n  API.TilingPattern = TilingPattern;\n\n  /**\n   * Adds a new {@link API.ShadingPattern} for later use. Only available in \"advanced\" API mode.\n   * @param {String} key\n   * @param {Pattern} pattern\n   * @function\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name addPattern\n   */\n  API.addShadingPattern = function(key, pattern) {\n    advancedApiModeTrap(\"addShadingPattern()\");\n\n    addPattern(key, pattern);\n    return this;\n  };\n\n  /**\n   * Begins a new tiling pattern. All subsequent render calls are drawn to this pattern until {@link API.endTilingPattern}\n   * gets called. Only available in \"advanced\" API mode.\n   * @param {API.Pattern} pattern\n   * @memberof jsPDF#\n   * @name beginTilingPattern\n   */\n  API.beginTilingPattern = function(pattern) {\n    advancedApiModeTrap(\"beginTilingPattern()\");\n\n    beginNewRenderTarget(\n      pattern.boundingBox[0],\n      pattern.boundingBox[1],\n      pattern.boundingBox[2] - pattern.boundingBox[0],\n      pattern.boundingBox[3] - pattern.boundingBox[1],\n      pattern.matrix\n    );\n  };\n\n  /**\n   * Ends a tiling pattern and sets the render target to the one active before {@link API.beginTilingPattern} has been called.\n   *\n   * Only available in \"advanced\" API mode.\n   *\n   * @param {string} key A unique key that is used to reference this pattern at later use.\n   * @param {API.Pattern} pattern The pattern to end.\n   * @memberof jsPDF#\n   * @name endTilingPattern\n   */\n  API.endTilingPattern = function(key, pattern) {\n    advancedApiModeTrap(\"endTilingPattern()\");\n\n    // retrieve the stream\n    pattern.stream = pages[currentPage].join(\"\\n\");\n\n    addPattern(key, pattern);\n\n    events.publish(\"endTilingPattern\", pattern);\n\n    // restore state from stack\n    renderTargetStack.pop().restore();\n  };\n\n  var newObject = (API.__private__.newObject = function() {\n    var oid = newObjectDeferred();\n    newObjectDeferredBegin(oid, true);\n    return oid;\n  });\n\n  // Does not output the object.  The caller must call newObjectDeferredBegin(oid) before outputing any data\n  var newObjectDeferred = (API.__private__.newObjectDeferred = function() {\n    objectNumber++;\n    offsets[objectNumber] = function() {\n      return contentLength;\n    };\n    return objectNumber;\n  });\n\n  var newObjectDeferredBegin = function(oid, doOutput) {\n    doOutput = typeof doOutput === \"boolean\" ? doOutput : false;\n    offsets[oid] = contentLength;\n    if (doOutput) {\n      out(oid + \" 0 obj\");\n    }\n    return oid;\n  };\n  // Does not output the object until after the pages have been output.\n  // Returns an object containing the objectId and content.\n  // All pages have been added so the object ID can be estimated to start right after.\n  // This does not modify the current objectNumber;  It must be updated after the newObjects are output.\n  var newAdditionalObject = (API.__private__.newAdditionalObject = function() {\n    var objId = newObjectDeferred();\n    var obj = {\n      objId: objId,\n      content: \"\"\n    };\n    additionalObjects.push(obj);\n    return obj;\n  });\n\n  var rootDictionaryObjId = newObjectDeferred();\n  var resourceDictionaryObjId = newObjectDeferred();\n\n  /////////////////////\n  // Private functions\n  /////////////////////\n\n  var decodeColorString = (API.__private__.decodeColorString = function(color) {\n    var colorEncoded = color.split(\" \");\n    if (\n      colorEncoded.length === 2 &&\n      (colorEncoded[1] === \"g\" || colorEncoded[1] === \"G\")\n    ) {\n      // convert grayscale value to rgb so that it can be converted to hex for consistency\n      var floatVal = parseFloat(colorEncoded[0]);\n      colorEncoded = [floatVal, floatVal, floatVal, \"r\"];\n    } else if (\n      colorEncoded.length === 5 &&\n      (colorEncoded[4] === \"k\" || colorEncoded[4] === \"K\")\n    ) {\n      // convert CMYK values to rbg so that it can be converted to hex for consistency\n      var red = (1.0 - colorEncoded[0]) * (1.0 - colorEncoded[3]);\n      var green = (1.0 - colorEncoded[1]) * (1.0 - colorEncoded[3]);\n      var blue = (1.0 - colorEncoded[2]) * (1.0 - colorEncoded[3]);\n\n      colorEncoded = [red, green, blue, \"r\"];\n    }\n    var colorAsRGB = \"#\";\n    for (var i = 0; i < 3; i++) {\n      colorAsRGB += (\n        \"0\" + Math.floor(parseFloat(colorEncoded[i]) * 255).toString(16)\n      ).slice(-2);\n    }\n    return colorAsRGB;\n  });\n\n  var encodeColorString = (API.__private__.encodeColorString = function(\n    options\n  ) {\n    var color;\n\n    if (typeof options === \"string\") {\n      options = {\n        ch1: options\n      };\n    }\n    var ch1 = options.ch1;\n    var ch2 = options.ch2;\n    var ch3 = options.ch3;\n    var ch4 = options.ch4;\n    var letterArray =\n      options.pdfColorType === \"draw\" ? [\"G\", \"RG\", \"K\"] : [\"g\", \"rg\", \"k\"];\n\n    if (typeof ch1 === \"string\" && ch1.charAt(0) !== \"#\") {\n      var rgbColor = new RGBColor(ch1);\n      if (rgbColor.ok) {\n        ch1 = rgbColor.toHex();\n      } else if (!/^\\d*\\.?\\d*$/.test(ch1)) {\n        throw new Error(\n          'Invalid color \"' + ch1 + '\" passed to jsPDF.encodeColorString.'\n        );\n      }\n    }\n    //convert short rgb to long form\n    if (typeof ch1 === \"string\" && /^#[0-9A-Fa-f]{3}$/.test(ch1)) {\n      ch1 = \"#\" + ch1[1] + ch1[1] + ch1[2] + ch1[2] + ch1[3] + ch1[3];\n    }\n\n    if (typeof ch1 === \"string\" && /^#[0-9A-Fa-f]{6}$/.test(ch1)) {\n      var hex = parseInt(ch1.substr(1), 16);\n      ch1 = (hex >> 16) & 255;\n      ch2 = (hex >> 8) & 255;\n      ch3 = hex & 255;\n    }\n\n    if (\n      typeof ch2 === \"undefined\" ||\n      (typeof ch4 === \"undefined\" && ch1 === ch2 && ch2 === ch3)\n    ) {\n      // Gray color space.\n      if (typeof ch1 === \"string\") {\n        color = ch1 + \" \" + letterArray[0];\n      } else {\n        switch (options.precision) {\n          case 2:\n            color = f2(ch1 / 255) + \" \" + letterArray[0];\n            break;\n          case 3:\n          default:\n            color = f3(ch1 / 255) + \" \" + letterArray[0];\n        }\n      }\n    } else if (typeof ch4 === \"undefined\" || typeof ch4 === \"object\") {\n      // assume RGBA\n      if (ch4 && !isNaN(ch4.a)) {\n        //TODO Implement transparency.\n        //WORKAROUND use white for now, if transparent, otherwise handle as rgb\n        if (ch4.a === 0) {\n          color = [\"1.\", \"1.\", \"1.\", letterArray[1]].join(\" \");\n          return color;\n        }\n      }\n      // assume RGB\n      if (typeof ch1 === \"string\") {\n        color = [ch1, ch2, ch3, letterArray[1]].join(\" \");\n      } else {\n        switch (options.precision) {\n          case 2:\n            color = [\n              f2(ch1 / 255),\n              f2(ch2 / 255),\n              f2(ch3 / 255),\n              letterArray[1]\n            ].join(\" \");\n            break;\n          default:\n          case 3:\n            color = [\n              f3(ch1 / 255),\n              f3(ch2 / 255),\n              f3(ch3 / 255),\n              letterArray[1]\n            ].join(\" \");\n        }\n      }\n    } else {\n      // assume CMYK\n      if (typeof ch1 === \"string\") {\n        color = [ch1, ch2, ch3, ch4, letterArray[2]].join(\" \");\n      } else {\n        switch (options.precision) {\n          case 2:\n            color = [f2(ch1), f2(ch2), f2(ch3), f2(ch4), letterArray[2]].join(\n              \" \"\n            );\n            break;\n          case 3:\n          default:\n            color = [f3(ch1), f3(ch2), f3(ch3), f3(ch4), letterArray[2]].join(\n              \" \"\n            );\n        }\n      }\n    }\n    return color;\n  });\n\n  var getFilters = (API.__private__.getFilters = function() {\n    return filters;\n  });\n\n  var putStream = (API.__private__.putStream = function(options) {\n    options = options || {};\n    var data = options.data || \"\";\n    var filters = options.filters || getFilters();\n    var alreadyAppliedFilters = options.alreadyAppliedFilters || [];\n    var addLength1 = options.addLength1 || false;\n    var valueOfLength1 = data.length;\n    var objectId = options.objectId;\n    var encryptor = function(data) {\n      return data;\n    };\n    if (encryptionOptions !== null && typeof objectId == \"undefined\") {\n      throw new Error(\n        \"ObjectId must be passed to putStream for file encryption\"\n      );\n    }\n    if (encryptionOptions !== null) {\n      encryptor = encryption.encryptor(objectId, 0);\n    }\n\n    var processedData = {};\n    if (filters === true) {\n      filters = [\"FlateEncode\"];\n    }\n    var keyValues = options.additionalKeyValues || [];\n    if (typeof jsPDF.API.processDataByFilters !== \"undefined\") {\n      processedData = jsPDF.API.processDataByFilters(data, filters);\n    } else {\n      processedData = { data: data, reverseChain: [] };\n    }\n    var filterAsString =\n      processedData.reverseChain +\n      (Array.isArray(alreadyAppliedFilters)\n        ? alreadyAppliedFilters.join(\" \")\n        : alreadyAppliedFilters.toString());\n\n    if (processedData.data.length !== 0) {\n      keyValues.push({\n        key: \"Length\",\n        value: processedData.data.length\n      });\n      if (addLength1 === true) {\n        keyValues.push({\n          key: \"Length1\",\n          value: valueOfLength1\n        });\n      }\n    }\n\n    if (filterAsString.length != 0) {\n      if (filterAsString.split(\"/\").length - 1 === 1) {\n        keyValues.push({\n          key: \"Filter\",\n          value: filterAsString\n        });\n      } else {\n        keyValues.push({\n          key: \"Filter\",\n          value: \"[\" + filterAsString + \"]\"\n        });\n\n        for (var j = 0; j < keyValues.length; j += 1) {\n          if (keyValues[j].key === \"DecodeParms\") {\n            var decodeParmsArray = [];\n\n            for (\n              var i = 0;\n              i < processedData.reverseChain.split(\"/\").length - 1;\n              i += 1\n            ) {\n              decodeParmsArray.push(\"null\");\n            }\n\n            decodeParmsArray.push(keyValues[j].value);\n            keyValues[j].value = \"[\" + decodeParmsArray.join(\" \") + \"]\";\n          }\n        }\n      }\n    }\n\n    out(\"<<\");\n    for (var k = 0; k < keyValues.length; k++) {\n      out(\"/\" + keyValues[k].key + \" \" + keyValues[k].value);\n    }\n    out(\">>\");\n    if (processedData.data.length !== 0) {\n      out(\"stream\");\n      out(encryptor(processedData.data));\n      out(\"endstream\");\n    }\n  });\n\n  var putPage = (API.__private__.putPage = function(page) {\n    var pageNumber = page.number;\n    var data = page.data;\n    var pageObjectNumber = page.objId;\n    var pageContentsObjId = page.contentsObjId;\n\n    newObjectDeferredBegin(pageObjectNumber, true);\n    out(\"<</Type /Page\");\n    out(\"/Parent \" + page.rootDictionaryObjId + \" 0 R\");\n    out(\"/Resources \" + page.resourceDictionaryObjId + \" 0 R\");\n    out(\n      \"/MediaBox [\" +\n        parseFloat(hpf(page.mediaBox.bottomLeftX)) +\n        \" \" +\n        parseFloat(hpf(page.mediaBox.bottomLeftY)) +\n        \" \" +\n        hpf(page.mediaBox.topRightX) +\n        \" \" +\n        hpf(page.mediaBox.topRightY) +\n        \"]\"\n    );\n    if (page.cropBox !== null) {\n      out(\n        \"/CropBox [\" +\n          hpf(page.cropBox.bottomLeftX) +\n          \" \" +\n          hpf(page.cropBox.bottomLeftY) +\n          \" \" +\n          hpf(page.cropBox.topRightX) +\n          \" \" +\n          hpf(page.cropBox.topRightY) +\n          \"]\"\n      );\n    }\n\n    if (page.bleedBox !== null) {\n      out(\n        \"/BleedBox [\" +\n          hpf(page.bleedBox.bottomLeftX) +\n          \" \" +\n          hpf(page.bleedBox.bottomLeftY) +\n          \" \" +\n          hpf(page.bleedBox.topRightX) +\n          \" \" +\n          hpf(page.bleedBox.topRightY) +\n          \"]\"\n      );\n    }\n\n    if (page.trimBox !== null) {\n      out(\n        \"/TrimBox [\" +\n          hpf(page.trimBox.bottomLeftX) +\n          \" \" +\n          hpf(page.trimBox.bottomLeftY) +\n          \" \" +\n          hpf(page.trimBox.topRightX) +\n          \" \" +\n          hpf(page.trimBox.topRightY) +\n          \"]\"\n      );\n    }\n\n    if (page.artBox !== null) {\n      out(\n        \"/ArtBox [\" +\n          hpf(page.artBox.bottomLeftX) +\n          \" \" +\n          hpf(page.artBox.bottomLeftY) +\n          \" \" +\n          hpf(page.artBox.topRightX) +\n          \" \" +\n          hpf(page.artBox.topRightY) +\n          \"]\"\n      );\n    }\n\n    if (typeof page.userUnit === \"number\" && page.userUnit !== 1.0) {\n      out(\"/UserUnit \" + page.userUnit);\n    }\n\n    events.publish(\"putPage\", {\n      objId: pageObjectNumber,\n      pageContext: pagesContext[pageNumber],\n      pageNumber: pageNumber,\n      page: data\n    });\n    out(\"/Contents \" + pageContentsObjId + \" 0 R\");\n    out(\">>\");\n    out(\"endobj\");\n    // Page content\n    var pageContent = data.join(\"\\n\");\n\n    if (apiMode === ApiMode.ADVANCED) {\n      // if the user forgot to switch back to COMPAT mode, we must balance the graphics stack again\n      pageContent += \"\\nQ\";\n    }\n\n    newObjectDeferredBegin(pageContentsObjId, true);\n    putStream({\n      data: pageContent,\n      filters: getFilters(),\n      objectId: pageContentsObjId\n    });\n    out(\"endobj\");\n    return pageObjectNumber;\n  });\n\n  var putPages = (API.__private__.putPages = function() {\n    var n,\n      i,\n      pageObjectNumbers = [];\n\n    for (n = 1; n <= page; n++) {\n      pagesContext[n].objId = newObjectDeferred();\n      pagesContext[n].contentsObjId = newObjectDeferred();\n    }\n\n    for (n = 1; n <= page; n++) {\n      pageObjectNumbers.push(\n        putPage({\n          number: n,\n          data: pages[n],\n          objId: pagesContext[n].objId,\n          contentsObjId: pagesContext[n].contentsObjId,\n          mediaBox: pagesContext[n].mediaBox,\n          cropBox: pagesContext[n].cropBox,\n          bleedBox: pagesContext[n].bleedBox,\n          trimBox: pagesContext[n].trimBox,\n          artBox: pagesContext[n].artBox,\n          userUnit: pagesContext[n].userUnit,\n          rootDictionaryObjId: rootDictionaryObjId,\n          resourceDictionaryObjId: resourceDictionaryObjId\n        })\n      );\n    }\n    newObjectDeferredBegin(rootDictionaryObjId, true);\n    out(\"<</Type /Pages\");\n    var kids = \"/Kids [\";\n    for (i = 0; i < page; i++) {\n      kids += pageObjectNumbers[i] + \" 0 R \";\n    }\n    out(kids + \"]\");\n    out(\"/Count \" + page);\n    out(\">>\");\n    out(\"endobj\");\n    events.publish(\"postPutPages\");\n  });\n\n  var putFont = function(font) {\n    events.publish(\"putFont\", {\n      font: font,\n      out: out,\n      newObject: newObject,\n      putStream: putStream\n    });\n\n    if (font.isAlreadyPutted !== true) {\n      font.objectNumber = newObject();\n      out(\"<<\");\n      out(\"/Type /Font\");\n      out(\"/BaseFont /\" + toPDFName(font.postScriptName));\n      out(\"/Subtype /Type1\");\n      if (typeof font.encoding === \"string\") {\n        out(\"/Encoding /\" + font.encoding);\n      }\n      out(\"/FirstChar 32\");\n      out(\"/LastChar 255\");\n      out(\">>\");\n      out(\"endobj\");\n    }\n  };\n\n  var putFonts = function() {\n    for (var fontKey in fonts) {\n      if (fonts.hasOwnProperty(fontKey)) {\n        if (\n          putOnlyUsedFonts === false ||\n          (putOnlyUsedFonts === true && usedFonts.hasOwnProperty(fontKey))\n        ) {\n          putFont(fonts[fontKey]);\n        }\n      }\n    }\n  };\n\n  var putXObject = function(xObject) {\n    xObject.objectNumber = newObject();\n\n    var options = [];\n    options.push({ key: \"Type\", value: \"/XObject\" });\n    options.push({ key: \"Subtype\", value: \"/Form\" });\n    options.push({\n      key: \"BBox\",\n      value:\n        \"[\" +\n        [\n          hpf(xObject.x),\n          hpf(xObject.y),\n          hpf(xObject.x + xObject.width),\n          hpf(xObject.y + xObject.height)\n        ].join(\" \") +\n        \"]\"\n    });\n    options.push({\n      key: \"Matrix\",\n      value: \"[\" + xObject.matrix.toString() + \"]\"\n    });\n    // TODO: /Resources\n\n    var stream = xObject.pages[1].join(\"\\n\");\n    putStream({\n      data: stream,\n      additionalKeyValues: options,\n      objectId: xObject.objectNumber\n    });\n    out(\"endobj\");\n  };\n\n  var putXObjects = function() {\n    for (var xObjectKey in renderTargets) {\n      if (renderTargets.hasOwnProperty(xObjectKey)) {\n        putXObject(renderTargets[xObjectKey]);\n      }\n    }\n  };\n\n  var interpolateAndEncodeRGBStream = function(colors, numberSamples) {\n    var tValues = [];\n    var t;\n    var dT = 1.0 / (numberSamples - 1);\n    for (t = 0.0; t < 1.0; t += dT) {\n      tValues.push(t);\n    }\n    tValues.push(1.0);\n    // add first and last control point if not present\n    if (colors[0].offset != 0.0) {\n      var c0 = {\n        offset: 0.0,\n        color: colors[0].color\n      };\n      colors.unshift(c0);\n    }\n    if (colors[colors.length - 1].offset != 1.0) {\n      var c1 = {\n        offset: 1.0,\n        color: colors[colors.length - 1].color\n      };\n      colors.push(c1);\n    }\n    var out = \"\";\n    var index = 0;\n\n    for (var i = 0; i < tValues.length; i++) {\n      t = tValues[i];\n      while (t > colors[index + 1].offset) index++;\n      var a = colors[index].offset;\n      var b = colors[index + 1].offset;\n      var d = (t - a) / (b - a);\n\n      var aColor = colors[index].color;\n      var bColor = colors[index + 1].color;\n\n      out +=\n        padd2Hex(Math.round((1 - d) * aColor[0] + d * bColor[0]).toString(16)) +\n        padd2Hex(Math.round((1 - d) * aColor[1] + d * bColor[1]).toString(16)) +\n        padd2Hex(Math.round((1 - d) * aColor[2] + d * bColor[2]).toString(16));\n    }\n    return out.trim();\n  };\n\n  var putShadingPattern = function(pattern, numberSamples) {\n    /*\n       Axial patterns shade between the two points specified in coords, radial patterns between the inner\n       and outer circle.\n       The user can specify an array (colors) that maps t-Values in [0, 1] to RGB colors. These are now\n       interpolated to equidistant samples and written to pdf as a sample (type 0) function.\n       */\n    // The number of color samples that should be used to describe the shading.\n    // The higher, the more accurate the gradient will be.\n    numberSamples || (numberSamples = 21);\n    var funcObjectNumber = newObject();\n    var stream = interpolateAndEncodeRGBStream(pattern.colors, numberSamples);\n\n    var options = [];\n    options.push({ key: \"FunctionType\", value: \"0\" });\n    options.push({ key: \"Domain\", value: \"[0.0 1.0]\" });\n    options.push({ key: \"Size\", value: \"[\" + numberSamples + \"]\" });\n    options.push({ key: \"BitsPerSample\", value: \"8\" });\n    options.push({ key: \"Range\", value: \"[0.0 1.0 0.0 1.0 0.0 1.0]\" });\n    options.push({ key: \"Decode\", value: \"[0.0 1.0 0.0 1.0 0.0 1.0]\" });\n\n    putStream({\n      data: stream,\n      additionalKeyValues: options,\n      alreadyAppliedFilters: [\"/ASCIIHexDecode\"],\n      objectId: funcObjectNumber\n    });\n    out(\"endobj\");\n\n    pattern.objectNumber = newObject();\n    out(\"<< /ShadingType \" + pattern.type);\n    out(\"/ColorSpace /DeviceRGB\");\n    var coords =\n      \"/Coords [\" +\n      hpf(parseFloat(pattern.coords[0])) +\n      \" \" + // x1\n      hpf(parseFloat(pattern.coords[1])) +\n      \" \"; // y1\n    if (pattern.type === 2) {\n      // axial\n      coords +=\n        hpf(parseFloat(pattern.coords[2])) +\n        \" \" + // x2\n        hpf(parseFloat(pattern.coords[3])); // y2\n    } else {\n      // radial\n      coords +=\n        hpf(parseFloat(pattern.coords[2])) +\n        \" \" + // r1\n        hpf(parseFloat(pattern.coords[3])) +\n        \" \" + // x2\n        hpf(parseFloat(pattern.coords[4])) +\n        \" \" + // y2\n        hpf(parseFloat(pattern.coords[5])); // r2\n    }\n    coords += \"]\";\n    out(coords);\n\n    if (pattern.matrix) {\n      out(\"/Matrix [\" + pattern.matrix.toString() + \"]\");\n    }\n    out(\"/Function \" + funcObjectNumber + \" 0 R\");\n    out(\"/Extend [true true]\");\n    out(\">>\");\n    out(\"endobj\");\n  };\n\n  var putTilingPattern = function(pattern, deferredResourceDictionaryIds) {\n    var resourcesObjectId = newObjectDeferred();\n    var patternObjectId = newObject();\n\n    deferredResourceDictionaryIds.push({\n      resourcesOid: resourcesObjectId,\n      objectOid: patternObjectId\n    });\n\n    pattern.objectNumber = patternObjectId;\n    var options = [];\n    options.push({ key: \"Type\", value: \"/Pattern\" });\n    options.push({ key: \"PatternType\", value: \"1\" }); // tiling pattern\n    options.push({ key: \"PaintType\", value: \"1\" }); // colored tiling pattern\n    options.push({ key: \"TilingType\", value: \"1\" }); // constant spacing\n    options.push({\n      key: \"BBox\",\n      value: \"[\" + pattern.boundingBox.map(hpf).join(\" \") + \"]\"\n    });\n    options.push({ key: \"XStep\", value: hpf(pattern.xStep) });\n    options.push({ key: \"YStep\", value: hpf(pattern.yStep) });\n    options.push({ key: \"Resources\", value: resourcesObjectId + \" 0 R\" });\n    if (pattern.matrix) {\n      options.push({\n        key: \"Matrix\",\n        value: \"[\" + pattern.matrix.toString() + \"]\"\n      });\n    }\n\n    putStream({\n      data: pattern.stream,\n      additionalKeyValues: options,\n      objectId: pattern.objectNumber\n    });\n    out(\"endobj\");\n  };\n\n  var putPatterns = function(deferredResourceDictionaryIds) {\n    var patternKey;\n    for (patternKey in patterns) {\n      if (patterns.hasOwnProperty(patternKey)) {\n        if (patterns[patternKey] instanceof ShadingPattern) {\n          putShadingPattern(patterns[patternKey]);\n        } else if (patterns[patternKey] instanceof TilingPattern) {\n          putTilingPattern(patterns[patternKey], deferredResourceDictionaryIds);\n        }\n      }\n    }\n  };\n\n  var putGState = function(gState) {\n    gState.objectNumber = newObject();\n    out(\"<<\");\n    for (var p in gState) {\n      switch (p) {\n        case \"opacity\":\n          out(\"/ca \" + f2(gState[p]));\n          break;\n        case \"stroke-opacity\":\n          out(\"/CA \" + f2(gState[p]));\n          break;\n      }\n    }\n    out(\">>\");\n    out(\"endobj\");\n  };\n\n  var putGStates = function() {\n    var gStateKey;\n    for (gStateKey in gStates) {\n      if (gStates.hasOwnProperty(gStateKey)) {\n        putGState(gStates[gStateKey]);\n      }\n    }\n  };\n\n  var putXobjectDict = function() {\n    out(\"/XObject <<\");\n    for (var xObjectKey in renderTargets) {\n      if (\n        renderTargets.hasOwnProperty(xObjectKey) &&\n        renderTargets[xObjectKey].objectNumber >= 0\n      ) {\n        out(\n          \"/\" +\n            xObjectKey +\n            \" \" +\n            renderTargets[xObjectKey].objectNumber +\n            \" 0 R\"\n        );\n      }\n    }\n\n    // Loop through images, or other data objects\n    events.publish(\"putXobjectDict\");\n    out(\">>\");\n  };\n\n  var putEncryptionDict = function() {\n    encryption.oid = newObject();\n    out(\"<<\");\n    out(\"/Filter /Standard\");\n    out(\"/V \" + encryption.v);\n    out(\"/R \" + encryption.r);\n    out(\"/U <\" + encryption.toHexString(encryption.U) + \">\");\n    out(\"/O <\" + encryption.toHexString(encryption.O) + \">\");\n    out(\"/P \" + encryption.P);\n    out(\">>\");\n    out(\"endobj\");\n  };\n\n  var putFontDict = function() {\n    out(\"/Font <<\");\n\n    for (var fontKey in fonts) {\n      if (fonts.hasOwnProperty(fontKey)) {\n        if (\n          putOnlyUsedFonts === false ||\n          (putOnlyUsedFonts === true && usedFonts.hasOwnProperty(fontKey))\n        ) {\n          out(\"/\" + fontKey + \" \" + fonts[fontKey].objectNumber + \" 0 R\");\n        }\n      }\n    }\n    out(\">>\");\n  };\n\n  var putShadingPatternDict = function() {\n    if (Object.keys(patterns).length > 0) {\n      out(\"/Shading <<\");\n      for (var patternKey in patterns) {\n        if (\n          patterns.hasOwnProperty(patternKey) &&\n          patterns[patternKey] instanceof ShadingPattern &&\n          patterns[patternKey].objectNumber >= 0\n        ) {\n          out(\n            \"/\" + patternKey + \" \" + patterns[patternKey].objectNumber + \" 0 R\"\n          );\n        }\n      }\n\n      events.publish(\"putShadingPatternDict\");\n      out(\">>\");\n    }\n  };\n\n  var putTilingPatternDict = function(objectOid) {\n    if (Object.keys(patterns).length > 0) {\n      out(\"/Pattern <<\");\n      for (var patternKey in patterns) {\n        if (\n          patterns.hasOwnProperty(patternKey) &&\n          patterns[patternKey] instanceof API.TilingPattern &&\n          patterns[patternKey].objectNumber >= 0 &&\n          patterns[patternKey].objectNumber < objectOid // prevent cyclic dependencies\n        ) {\n          out(\n            \"/\" + patternKey + \" \" + patterns[patternKey].objectNumber + \" 0 R\"\n          );\n        }\n      }\n      events.publish(\"putTilingPatternDict\");\n      out(\">>\");\n    }\n  };\n\n  var putGStatesDict = function() {\n    if (Object.keys(gStates).length > 0) {\n      var gStateKey;\n      out(\"/ExtGState <<\");\n      for (gStateKey in gStates) {\n        if (\n          gStates.hasOwnProperty(gStateKey) &&\n          gStates[gStateKey].objectNumber >= 0\n        ) {\n          out(\"/\" + gStateKey + \" \" + gStates[gStateKey].objectNumber + \" 0 R\");\n        }\n      }\n\n      events.publish(\"putGStateDict\");\n      out(\">>\");\n    }\n  };\n\n  var putResourceDictionary = function(objectIds) {\n    newObjectDeferredBegin(objectIds.resourcesOid, true);\n    out(\"<<\");\n    out(\"/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]\");\n    putFontDict();\n    putShadingPatternDict();\n    putTilingPatternDict(objectIds.objectOid);\n    putGStatesDict();\n    putXobjectDict();\n    out(\">>\");\n    out(\"endobj\");\n  };\n\n  var putResources = function() {\n    // FormObjects, Patterns etc. might use other FormObjects/Patterns/Images\n    // which means their resource dictionaries must contain the already resolved\n    // object ids. For this reason we defer the serialization of the resource\n    // dicts until all objects have been serialized and have object ids.\n    //\n    // In order to prevent cyclic dependencies (which Adobe Reader doesn't like),\n    // we only put all oids that are smaller than the oid of the object the\n    // resource dict belongs to. This is correct behavior, since the streams\n    // may only use other objects that have already been defined and thus appear\n    // earlier in their respective collection.\n    // Currently, this only affects tiling patterns, but a (more) correct\n    // implementation of FormObjects would also define their own resource dicts.\n    var deferredResourceDictionaryIds = [];\n\n    putFonts();\n    putGStates();\n    putXObjects();\n    putPatterns(deferredResourceDictionaryIds);\n\n    events.publish(\"putResources\");\n    deferredResourceDictionaryIds.forEach(putResourceDictionary);\n    putResourceDictionary({\n      resourcesOid: resourceDictionaryObjId,\n      objectOid: Number.MAX_SAFE_INTEGER // output all objects\n    });\n    events.publish(\"postPutResources\");\n  };\n\n  var putAdditionalObjects = function() {\n    events.publish(\"putAdditionalObjects\");\n    for (var i = 0; i < additionalObjects.length; i++) {\n      var obj = additionalObjects[i];\n      newObjectDeferredBegin(obj.objId, true);\n      out(obj.content);\n      out(\"endobj\");\n    }\n    events.publish(\"postPutAdditionalObjects\");\n  };\n\n  var addFontToFontDictionary = function(font) {\n    fontmap[font.fontName] = fontmap[font.fontName] || {};\n    fontmap[font.fontName][font.fontStyle] = font.id;\n  };\n\n  var addFont = function(\n    postScriptName,\n    fontName,\n    fontStyle,\n    encoding,\n    isStandardFont\n  ) {\n    var font = {\n      id: \"F\" + (Object.keys(fonts).length + 1).toString(10),\n      postScriptName: postScriptName,\n      fontName: fontName,\n      fontStyle: fontStyle,\n      encoding: encoding,\n      isStandardFont: isStandardFont || false,\n      metadata: {}\n    };\n\n    events.publish(\"addFont\", {\n      font: font,\n      instance: this\n    });\n\n    fonts[font.id] = font;\n    addFontToFontDictionary(font);\n    return font.id;\n  };\n\n  var addFonts = function(arrayOfFonts) {\n    for (var i = 0, l = standardFonts.length; i < l; i++) {\n      var fontKey = addFont.call(\n        this,\n        arrayOfFonts[i][0],\n        arrayOfFonts[i][1],\n        arrayOfFonts[i][2],\n        standardFonts[i][3],\n        true\n      );\n\n      if (putOnlyUsedFonts === false) {\n        usedFonts[fontKey] = true;\n      }\n      // adding aliases for standard fonts, this time matching the capitalization\n      var parts = arrayOfFonts[i][0].split(\"-\");\n      addFontToFontDictionary({\n        id: fontKey,\n        fontName: parts[0],\n        fontStyle: parts[1] || \"\"\n      });\n    }\n    events.publish(\"addFonts\", {\n      fonts: fonts,\n      dictionary: fontmap\n    });\n  };\n\n  var SAFE = function __safeCall(fn) {\n    fn.foo = function __safeCallWrapper() {\n      try {\n        return fn.apply(this, arguments);\n      } catch (e) {\n        var stack = e.stack || \"\";\n        if (~stack.indexOf(\" at \")) stack = stack.split(\" at \")[1];\n        var m =\n          \"Error in function \" +\n          stack.split(\"\\n\")[0].split(\"<\")[0] +\n          \": \" +\n          e.message;\n        if (globalObject.console) {\n          globalObject.console.error(m, e);\n          if (globalObject.alert) alert(m);\n        } else {\n          throw new Error(m);\n        }\n      }\n    };\n    fn.foo.bar = fn;\n    return fn.foo;\n  };\n\n  var to8bitStream = function(text, flags) {\n    /**\n     * PDF 1.3 spec:\n     * \"For text strings encoded in Unicode, the first two bytes must be 254 followed by\n     * 255, representing the Unicode byte order marker, U+FEFF. (This sequence conflicts\n     * with the PDFDocEncoding character sequence thorn ydieresis, which is unlikely\n     * to be a meaningful beginning of a word or phrase.) The remainder of the\n     * string consists of Unicode character codes, according to the UTF-16 encoding\n     * specified in the Unicode standard, version 2.0. Commonly used Unicode values\n     * are represented as 2 bytes per character, with the high-order byte appearing first\n     * in the string.\"\n     *\n     * In other words, if there are chars in a string with char code above 255, we\n     * recode the string to UCS2 BE - string doubles in length and BOM is prepended.\n     *\n     * HOWEVER!\n     * Actual *content* (body) text (as opposed to strings used in document properties etc)\n     * does NOT expect BOM. There, it is treated as a literal GID (Glyph ID)\n     *\n     * Because of Adobe's focus on \"you subset your fonts!\" you are not supposed to have\n     * a font that maps directly Unicode (UCS2 / UTF16BE) code to font GID, but you could\n     * fudge it with \"Identity-H\" encoding and custom CIDtoGID map that mimics Unicode\n     * code page. There, however, all characters in the stream are treated as GIDs,\n     * including BOM, which is the reason we need to skip BOM in content text (i.e. that\n     * that is tied to a font).\n     *\n     * To signal this \"special\" PDFEscape / to8bitStream handling mode,\n     * API.text() function sets (unless you overwrite it with manual values\n     * given to API.text(.., flags) )\n     * flags.autoencode = true\n     * flags.noBOM = true\n     *\n     * ===================================================================================\n     * `flags` properties relied upon:\n     *   .sourceEncoding = string with encoding label.\n     *                     \"Unicode\" by default. = encoding of the incoming text.\n     *                     pass some non-existing encoding name\n     *                     (ex: 'Do not touch my strings! I know what I am doing.')\n     *                     to make encoding code skip the encoding step.\n     *   .outputEncoding = Either valid PDF encoding name\n     *                     (must be supported by jsPDF font metrics, otherwise no encoding)\n     *                     or a JS object, where key = sourceCharCode, value = outputCharCode\n     *                     missing keys will be treated as: sourceCharCode === outputCharCode\n     *   .noBOM\n     *       See comment higher above for explanation for why this is important\n     *   .autoencode\n     *       See comment higher above for explanation for why this is important\n     */\n\n    var i,\n      l,\n      sourceEncoding,\n      encodingBlock,\n      outputEncoding,\n      newtext,\n      isUnicode,\n      ch,\n      bch;\n\n    flags = flags || {};\n    sourceEncoding = flags.sourceEncoding || \"Unicode\";\n    outputEncoding = flags.outputEncoding;\n\n    // This 'encoding' section relies on font metrics format\n    // attached to font objects by, among others,\n    // \"Willow Systems' standard_font_metrics plugin\"\n    // see jspdf.plugin.standard_font_metrics.js for format\n    // of the font.metadata.encoding Object.\n    // It should be something like\n    //   .encoding = {'codePages':['WinANSI....'], 'WinANSI...':{code:code, ...}}\n    //   .widths = {0:width, code:width, ..., 'fof':divisor}\n    //   .kerning = {code:{previous_char_code:shift, ..., 'fof':-divisor},...}\n    if (\n      (flags.autoencode || outputEncoding) &&\n      fonts[activeFontKey].metadata &&\n      fonts[activeFontKey].metadata[sourceEncoding] &&\n      fonts[activeFontKey].metadata[sourceEncoding].encoding\n    ) {\n      encodingBlock = fonts[activeFontKey].metadata[sourceEncoding].encoding;\n\n      // each font has default encoding. Some have it clearly defined.\n      if (!outputEncoding && fonts[activeFontKey].encoding) {\n        outputEncoding = fonts[activeFontKey].encoding;\n      }\n\n      // Hmmm, the above did not work? Let's try again, in different place.\n      if (!outputEncoding && encodingBlock.codePages) {\n        outputEncoding = encodingBlock.codePages[0]; // let's say, first one is the default\n      }\n\n      if (typeof outputEncoding === \"string\") {\n        outputEncoding = encodingBlock[outputEncoding];\n      }\n      // we want output encoding to be a JS Object, where\n      // key = sourceEncoding's character code and\n      // value = outputEncoding's character code.\n      if (outputEncoding) {\n        isUnicode = false;\n        newtext = [];\n        for (i = 0, l = text.length; i < l; i++) {\n          ch = outputEncoding[text.charCodeAt(i)];\n          if (ch) {\n            newtext.push(String.fromCharCode(ch));\n          } else {\n            newtext.push(text[i]);\n          }\n\n          // since we are looping over chars anyway, might as well\n          // check for residual unicodeness\n          if (newtext[i].charCodeAt(0) >> 8) {\n            /* more than 255 */\n            isUnicode = true;\n          }\n        }\n        text = newtext.join(\"\");\n      }\n    }\n\n    i = text.length;\n    // isUnicode may be set to false above. Hence the triple-equal to undefined\n    while (isUnicode === undefined && i !== 0) {\n      if (text.charCodeAt(i - 1) >> 8) {\n        /* more than 255 */\n        isUnicode = true;\n      }\n      i--;\n    }\n    if (!isUnicode) {\n      return text;\n    }\n\n    newtext = flags.noBOM ? [] : [254, 255];\n    for (i = 0, l = text.length; i < l; i++) {\n      ch = text.charCodeAt(i);\n      bch = ch >> 8; // divide by 256\n      if (bch >> 8) {\n        /* something left after dividing by 256 second time */\n        throw new Error(\n          \"Character at position \" +\n            i +\n            \" of string '\" +\n            text +\n            \"' exceeds 16bits. Cannot be encoded into UCS-2 BE\"\n        );\n      }\n      newtext.push(bch);\n      newtext.push(ch - (bch << 8));\n    }\n    return String.fromCharCode.apply(undefined, newtext);\n  };\n\n  var pdfEscape = (API.__private__.pdfEscape = API.pdfEscape = function(\n    text,\n    flags\n  ) {\n    /**\n     * Replace '/', '(', and ')' with pdf-safe versions\n     *\n     * Doing to8bitStream does NOT make this PDF display unicode text. For that\n     * we also need to reference a unicode font and embed it - royal pain in the rear.\n     *\n     * There is still a benefit to to8bitStream - PDF simply cannot handle 16bit chars,\n     * which JavaScript Strings are happy to provide. So, while we still cannot display\n     * 2-byte characters property, at least CONDITIONALLY converting (entire string containing)\n     * 16bit chars to (USC-2-BE) 2-bytes per char + BOM streams we ensure that entire PDF\n     * is still parseable.\n     * This will allow immediate support for unicode in document properties strings.\n     */\n    return to8bitStream(text, flags)\n      .replace(/\\\\/g, \"\\\\\\\\\")\n      .replace(/\\(/g, \"\\\\(\")\n      .replace(/\\)/g, \"\\\\)\");\n  });\n\n  var beginPage = (API.__private__.beginPage = function(format) {\n    pages[++page] = [];\n    pagesContext[page] = {\n      objId: 0,\n      contentsObjId: 0,\n      userUnit: Number(userUnit),\n      artBox: null,\n      bleedBox: null,\n      cropBox: null,\n      trimBox: null,\n      mediaBox: {\n        bottomLeftX: 0,\n        bottomLeftY: 0,\n        topRightX: Number(format[0]),\n        topRightY: Number(format[1])\n      }\n    };\n    _setPage(page);\n    setOutputDestination(pages[currentPage]);\n  });\n\n  var _addPage = function(parmFormat, parmOrientation) {\n    var dimensions, width, height;\n\n    orientation = parmOrientation || orientation;\n\n    if (typeof parmFormat === \"string\") {\n      dimensions = getPageFormat(parmFormat.toLowerCase());\n      if (Array.isArray(dimensions)) {\n        width = dimensions[0];\n        height = dimensions[1];\n      }\n    }\n\n    if (Array.isArray(parmFormat)) {\n      width = parmFormat[0] * scaleFactor;\n      height = parmFormat[1] * scaleFactor;\n    }\n\n    if (isNaN(width)) {\n      width = format[0];\n      height = format[1];\n    }\n\n    if (width > 14400 || height > 14400) {\n      console.warn(\n        \"A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400\"\n      );\n      width = Math.min(14400, width);\n      height = Math.min(14400, height);\n    }\n\n    format = [width, height];\n\n    switch (orientation.substr(0, 1)) {\n      case \"l\":\n        if (height > width) {\n          format = [height, width];\n        }\n        break;\n      case \"p\":\n        if (width > height) {\n          format = [height, width];\n        }\n        break;\n    }\n\n    beginPage(format);\n\n    // Set line width\n    setLineWidth(lineWidth);\n    // Set draw color\n    out(strokeColor);\n    // resurrecting non-default line caps, joins\n    if (lineCapID !== 0) {\n      out(lineCapID + \" J\");\n    }\n    if (lineJoinID !== 0) {\n      out(lineJoinID + \" j\");\n    }\n    events.publish(\"addPage\", {\n      pageNumber: page\n    });\n  };\n\n  var _deletePage = function(n) {\n    if (n > 0 && n <= page) {\n      pages.splice(n, 1);\n      pagesContext.splice(n, 1);\n      page--;\n      if (currentPage > page) {\n        currentPage = page;\n      }\n      this.setPage(currentPage);\n    }\n  };\n\n  var _setPage = function(n) {\n    if (n > 0 && n <= page) {\n      currentPage = n;\n    }\n  };\n\n  var getNumberOfPages = (API.__private__.getNumberOfPages = API.getNumberOfPages = function() {\n    return pages.length - 1;\n  });\n\n  /**\n   * Returns a document-specific font key - a label assigned to a\n   * font name + font type combination at the time the font was added\n   * to the font inventory.\n   *\n   * Font key is used as label for the desired font for a block of text\n   * to be added to the PDF document stream.\n   * @private\n   * @function\n   * @param fontName {string} can be undefined on \"falthy\" to indicate \"use current\"\n   * @param fontStyle {string} can be undefined on \"falthy\" to indicate \"use current\"\n   * @returns {string} Font key.\n   * @ignore\n   */\n  var getFont = function(fontName, fontStyle, options) {\n    var key = undefined,\n      fontNameLowerCase;\n    options = options || {};\n\n    fontName =\n      fontName !== undefined ? fontName : fonts[activeFontKey].fontName;\n    fontStyle =\n      fontStyle !== undefined ? fontStyle : fonts[activeFontKey].fontStyle;\n    fontNameLowerCase = fontName.toLowerCase();\n\n    if (\n      fontmap[fontNameLowerCase] !== undefined &&\n      fontmap[fontNameLowerCase][fontStyle] !== undefined\n    ) {\n      key = fontmap[fontNameLowerCase][fontStyle];\n    } else if (\n      fontmap[fontName] !== undefined &&\n      fontmap[fontName][fontStyle] !== undefined\n    ) {\n      key = fontmap[fontName][fontStyle];\n    } else {\n      if (options.disableWarning === false) {\n        console.warn(\n          \"Unable to look up font label for font '\" +\n            fontName +\n            \"', '\" +\n            fontStyle +\n            \"'. Refer to getFontList() for available fonts.\"\n        );\n      }\n    }\n\n    if (!key && !options.noFallback) {\n      key = fontmap[\"times\"][fontStyle];\n      if (key == null) {\n        key = fontmap[\"times\"][\"normal\"];\n      }\n    }\n    return key;\n  };\n\n  var putInfo = (API.__private__.putInfo = function() {\n    var objectId = newObject();\n    var encryptor = function(data) {\n      return data;\n    };\n    if (encryptionOptions !== null) {\n      encryptor = encryption.encryptor(objectId, 0);\n    }\n    out(\"<<\");\n    out(\"/Producer (\" + pdfEscape(encryptor(\"jsPDF \" + jsPDF.version)) + \")\");\n    for (var key in documentProperties) {\n      if (documentProperties.hasOwnProperty(key) && documentProperties[key]) {\n        out(\n          \"/\" +\n            key.substr(0, 1).toUpperCase() +\n            key.substr(1) +\n            \" (\" +\n            pdfEscape(encryptor(documentProperties[key])) +\n            \")\"\n        );\n      }\n    }\n    out(\"/CreationDate (\" + pdfEscape(encryptor(creationDate)) + \")\");\n    out(\">>\");\n    out(\"endobj\");\n  });\n\n  var putCatalog = (API.__private__.putCatalog = function(options) {\n    options = options || {};\n    var tmpRootDictionaryObjId =\n      options.rootDictionaryObjId || rootDictionaryObjId;\n    newObject();\n    out(\"<<\");\n    out(\"/Type /Catalog\");\n    out(\"/Pages \" + tmpRootDictionaryObjId + \" 0 R\");\n    // PDF13ref Section 7.2.1\n    if (!zoomMode) zoomMode = \"fullwidth\";\n    switch (zoomMode) {\n      case \"fullwidth\":\n        out(\"/OpenAction [3 0 R /FitH null]\");\n        break;\n      case \"fullheight\":\n        out(\"/OpenAction [3 0 R /FitV null]\");\n        break;\n      case \"fullpage\":\n        out(\"/OpenAction [3 0 R /Fit]\");\n        break;\n      case \"original\":\n        out(\"/OpenAction [3 0 R /XYZ null null 1]\");\n        break;\n      default:\n        var pcn = \"\" + zoomMode;\n        if (pcn.substr(pcn.length - 1) === \"%\")\n          zoomMode = parseInt(zoomMode) / 100;\n        if (typeof zoomMode === \"number\") {\n          out(\"/OpenAction [3 0 R /XYZ null null \" + f2(zoomMode) + \"]\");\n        }\n    }\n    if (!layoutMode) layoutMode = \"continuous\";\n    switch (layoutMode) {\n      case \"continuous\":\n        out(\"/PageLayout /OneColumn\");\n        break;\n      case \"single\":\n        out(\"/PageLayout /SinglePage\");\n        break;\n      case \"two\":\n      case \"twoleft\":\n        out(\"/PageLayout /TwoColumnLeft\");\n        break;\n      case \"tworight\":\n        out(\"/PageLayout /TwoColumnRight\");\n        break;\n    }\n    if (pageMode) {\n      /**\n       * A name object specifying how the document should be displayed when opened:\n       * UseNone      : Neither document outline nor thumbnail images visible -- DEFAULT\n       * UseOutlines  : Document outline visible\n       * UseThumbs    : Thumbnail images visible\n       * FullScreen   : Full-screen mode, with no menu bar, window controls, or any other window visible\n       */\n      out(\"/PageMode /\" + pageMode);\n    }\n    events.publish(\"putCatalog\");\n    out(\">>\");\n    out(\"endobj\");\n  });\n\n  var putTrailer = (API.__private__.putTrailer = function() {\n    out(\"trailer\");\n    out(\"<<\");\n    out(\"/Size \" + (objectNumber + 1));\n    // Root and Info must be the last and second last objects written respectively\n    out(\"/Root \" + objectNumber + \" 0 R\");\n    out(\"/Info \" + (objectNumber - 1) + \" 0 R\");\n    if (encryptionOptions !== null) {\n      out(\"/Encrypt \" + encryption.oid + \" 0 R\");\n    }\n    out(\"/ID [ <\" + fileId + \"> <\" + fileId + \"> ]\");\n    out(\">>\");\n  });\n\n  var putHeader = (API.__private__.putHeader = function() {\n    out(\"%PDF-\" + pdfVersion);\n    out(\"%\\xBA\\xDF\\xAC\\xE0\");\n  });\n\n  var putXRef = (API.__private__.putXRef = function() {\n    var p = \"0000000000\";\n\n    out(\"xref\");\n    out(\"0 \" + (objectNumber + 1));\n    out(\"0000000000 65535 f \");\n    for (var i = 1; i <= objectNumber; i++) {\n      var offset = offsets[i];\n      if (typeof offset === \"function\") {\n        out((p + offsets[i]()).slice(-10) + \" 00000 n \");\n      } else {\n        if (typeof offsets[i] !== \"undefined\") {\n          out((p + offsets[i]).slice(-10) + \" 00000 n \");\n        } else {\n          out(\"0000000000 00000 n \");\n        }\n      }\n    }\n  });\n\n  var buildDocument = (API.__private__.buildDocument = function() {\n    resetDocument();\n    setOutputDestination(content);\n\n    events.publish(\"buildDocument\");\n\n    putHeader();\n    putPages();\n    putAdditionalObjects();\n    putResources();\n    if (encryptionOptions !== null) putEncryptionDict();\n    putInfo();\n    putCatalog();\n\n    var offsetOfXRef = contentLength;\n    putXRef();\n    putTrailer();\n    out(\"startxref\");\n    out(\"\" + offsetOfXRef);\n    out(\"%%EOF\");\n\n    setOutputDestination(pages[currentPage]);\n\n    return content.join(\"\\n\");\n  });\n\n  var getBlob = (API.__private__.getBlob = function(data) {\n    return new Blob([getArrayBuffer(data)], {\n      type: \"application/pdf\"\n    });\n  });\n\n  /**\n   * Generates the PDF document.\n   *\n   * If `type` argument is undefined, output is raw body of resulting PDF returned as a string.\n   *\n   * @param {string} type A string identifying one of the possible output types.<br/>\n   *                      Possible values are: <br/>\n   *                          'arraybuffer' -> (ArrayBuffer)<br/>\n   *                          'blob' -> (Blob)<br/>\n   *                          'bloburi'/'bloburl' -> (string)<br/>\n   *                          'datauristring'/'dataurlstring' -> (string)<br/>\n   *                          'datauri'/'dataurl' -> (undefined) -> change location to generated datauristring/dataurlstring<br/>\n   *                          'dataurlnewwindow' -> (window | null | undefined) throws error if global isn't a window object(node)<br/>\n   *                          'pdfobjectnewwindow' -> (window | null) throws error if global isn't a window object(node)<br/>\n   *                          'pdfjsnewwindow' -> (wind | null)\n   * @param {Object|string} options An object providing some additional signalling to PDF generator.<br/>\n   *                                Possible options are 'filename'.<br/>\n   *                                A string can be passed instead of {filename:string} and defaults to 'generated.pdf'\n   * @function\n   * @instance\n   * @returns {string|window|ArrayBuffer|Blob|jsPDF|null|undefined}\n   * @memberof jsPDF#\n   * @name output\n   */\n  var output = (API.output = API.__private__.output = SAFE(function output(\n    type,\n    options\n  ) {\n    options = options || {};\n\n    if (typeof options === \"string\") {\n      options = {\n        filename: options\n      };\n    } else {\n      options.filename = options.filename || \"generated.pdf\";\n    }\n\n    switch (type) {\n      case undefined:\n        return buildDocument();\n      case \"save\":\n        API.save(options.filename);\n        break;\n      case \"arraybuffer\":\n        return getArrayBuffer(buildDocument());\n      case \"blob\":\n        return getBlob(buildDocument());\n      case \"bloburi\":\n      case \"bloburl\":\n        // Developer is responsible of calling revokeObjectURL\n        if (\n          typeof globalObject.URL !== \"undefined\" &&\n          typeof globalObject.URL.createObjectURL === \"function\"\n        ) {\n          return (\n            (globalObject.URL &&\n              globalObject.URL.createObjectURL(getBlob(buildDocument()))) ||\n            void 0\n          );\n        } else {\n          console.warn(\n            \"bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.\"\n          );\n        }\n        break;\n      case \"datauristring\":\n      case \"dataurlstring\":\n        var dataURI = \"\";\n        var pdfDocument = buildDocument();\n        try {\n          dataURI = btoa(pdfDocument);\n        } catch (e) {\n          dataURI = btoa(unescape(encodeURIComponent(pdfDocument)));\n        }\n        return (\n          \"data:application/pdf;filename=\" +\n          options.filename +\n          \";base64,\" +\n          dataURI\n        );\n      case \"pdfobjectnewwindow\":\n        if (\n          Object.prototype.toString.call(globalObject) === \"[object Window]\"\n        ) {\n          var pdfObjectUrl =\n            \"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js\";\n          var integrity =\n            ' integrity=\"sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==\" crossorigin=\"anonymous\"';\n\n          if (options.pdfObjectUrl) {\n            pdfObjectUrl = options.pdfObjectUrl;\n            integrity = \"\";\n          }\n\n          var htmlForNewWindow =\n            \"<html>\" +\n            '<style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src=\"' +\n            pdfObjectUrl +\n            '\"' +\n            integrity +\n            '></script><script >PDFObject.embed(\"' +\n            this.output(\"dataurlstring\") +\n            '\", ' +\n            JSON.stringify(options) +\n            \");</script></body></html>\";\n          var nW = globalObject.open();\n\n          if (nW !== null) {\n            nW.document.write(htmlForNewWindow);\n          }\n          return nW;\n        } else {\n          throw new Error(\n            \"The option pdfobjectnewwindow just works in a browser-environment.\"\n          );\n        }\n      case \"pdfjsnewwindow\":\n        if (\n          Object.prototype.toString.call(globalObject) === \"[object Window]\"\n        ) {\n          var pdfJsUrl = options.pdfJsUrl || \"examples/PDF.js/web/viewer.html\";\n          var htmlForPDFjsNewWindow =\n            \"<html>\" +\n            \"<style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style>\" +\n            '<body><iframe id=\"pdfViewer\" src=\"' +\n            pdfJsUrl +\n            \"?file=&downloadName=\" +\n            options.filename +\n            '\" width=\"500px\" height=\"400px\" />' +\n            \"</body></html>\";\n          var PDFjsNewWindow = globalObject.open();\n\n          if (PDFjsNewWindow !== null) {\n            PDFjsNewWindow.document.write(htmlForPDFjsNewWindow);\n            var scope = this;\n            PDFjsNewWindow.document.documentElement.querySelector(\n              \"#pdfViewer\"\n            ).onload = function() {\n              PDFjsNewWindow.document.title = options.filename;\n              PDFjsNewWindow.document.documentElement\n                .querySelector(\"#pdfViewer\")\n                .contentWindow.PDFViewerApplication.open(\n                  scope.output(\"bloburl\")\n                );\n            };\n          }\n          return PDFjsNewWindow;\n        } else {\n          throw new Error(\n            \"The option pdfjsnewwindow just works in a browser-environment.\"\n          );\n        }\n      case \"dataurlnewwindow\":\n        if (\n          Object.prototype.toString.call(globalObject) === \"[object Window]\"\n        ) {\n          var htmlForDataURLNewWindow =\n            \"<html>\" +\n            \"<style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style>\" +\n            \"<body>\" +\n            '<iframe src=\"' +\n            this.output(\"datauristring\", options) +\n            '\"></iframe>' +\n            \"</body></html>\";\n          var dataURLNewWindow = globalObject.open();\n          if (dataURLNewWindow !== null) {\n            dataURLNewWindow.document.write(htmlForDataURLNewWindow);\n            dataURLNewWindow.document.title = options.filename;\n          }\n          if (dataURLNewWindow || typeof safari === \"undefined\")\n            return dataURLNewWindow;\n        } else {\n          throw new Error(\n            \"The option dataurlnewwindow just works in a browser-environment.\"\n          );\n        }\n        break;\n      case \"datauri\":\n      case \"dataurl\":\n        return (globalObject.document.location.href = this.output(\n          \"datauristring\",\n          options\n        ));\n      default:\n        return null;\n    }\n  }));\n\n  /**\n   * Used to see if a supplied hotfix was requested when the pdf instance was created.\n   * @param {string} hotfixName - The name of the hotfix to check.\n   * @returns {boolean}\n   */\n  var hasHotfix = function(hotfixName) {\n    return (\n      Array.isArray(hotfixes) === true && hotfixes.indexOf(hotfixName) > -1\n    );\n  };\n\n  switch (unit) {\n    case \"pt\":\n      scaleFactor = 1;\n      break;\n    case \"mm\":\n      scaleFactor = 72 / 25.4;\n      break;\n    case \"cm\":\n      scaleFactor = 72 / 2.54;\n      break;\n    case \"in\":\n      scaleFactor = 72;\n      break;\n    case \"px\":\n      if (hasHotfix(\"px_scaling\") == true) {\n        scaleFactor = 72 / 96;\n      } else {\n        scaleFactor = 96 / 72;\n      }\n      break;\n    case \"pc\":\n      scaleFactor = 12;\n      break;\n    case \"em\":\n      scaleFactor = 12;\n      break;\n    case \"ex\":\n      scaleFactor = 6;\n      break;\n    default:\n      if (typeof unit === \"number\") {\n        scaleFactor = unit;\n      } else {\n        throw new Error(\"Invalid unit: \" + unit);\n      }\n  }\n\n  var encryption = null;\n  setCreationDate();\n  setFileId();\n\n  var getEncryptor = function(objectId) {\n    if (encryptionOptions !== null) {\n      return encryption.encryptor(objectId, 0);\n    }\n    return function(data) {\n      return data;\n    };\n  };\n\n  //---------------------------------------\n  // Public API\n\n  var getPageInfo = (API.__private__.getPageInfo = API.getPageInfo = function(\n    pageNumberOneBased\n  ) {\n    if (isNaN(pageNumberOneBased) || pageNumberOneBased % 1 !== 0) {\n      throw new Error(\"Invalid argument passed to jsPDF.getPageInfo\");\n    }\n    var objId = pagesContext[pageNumberOneBased].objId;\n    return {\n      objId: objId,\n      pageNumber: pageNumberOneBased,\n      pageContext: pagesContext[pageNumberOneBased]\n    };\n  });\n\n  var getPageInfoByObjId = (API.__private__.getPageInfoByObjId = function(\n    objId\n  ) {\n    if (isNaN(objId) || objId % 1 !== 0) {\n      throw new Error(\"Invalid argument passed to jsPDF.getPageInfoByObjId\");\n    }\n    for (var pageNumber in pagesContext) {\n      if (pagesContext[pageNumber].objId === objId) {\n        break;\n      }\n    }\n    return getPageInfo(pageNumber);\n  });\n\n  var getCurrentPageInfo = (API.__private__.getCurrentPageInfo = API.getCurrentPageInfo = function() {\n    return {\n      objId: pagesContext[currentPage].objId,\n      pageNumber: currentPage,\n      pageContext: pagesContext[currentPage]\n    };\n  });\n\n  /**\n   * Adds (and transfers the focus to) new page to the PDF document.\n   * @param format {String/Array} The format of the new page. Can be: <ul><li>a0 - a10</li><li>b0 - b10</li><li>c0 - c10</li><li>dl</li><li>letter</li><li>government-letter</li><li>legal</li><li>junior-legal</li><li>ledger</li><li>tabloid</li><li>credit-card</li></ul><br />\n   * Default is \"a4\". If you want to use your own format just pass instead of one of the above predefined formats the size as an number-array, e.g. [595.28, 841.89]\n   * @param orientation {string} Orientation of the new page. Possible values are \"portrait\" or \"landscape\" (or shortcuts \"p\" (Default), \"l\").\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   *\n   * @memberof jsPDF#\n   * @name addPage\n   */\n  API.addPage = function() {\n    _addPage.apply(this, arguments);\n    return this;\n  };\n  /**\n   * Adds (and transfers the focus to) new page to the PDF document.\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   *\n   * @memberof jsPDF#\n   * @name setPage\n   * @param {number} page Switch the active page to the page number specified (indexed starting at 1).\n   * @example\n   * doc = jsPDF()\n   * doc.addPage()\n   * doc.addPage()\n   * doc.text('I am on page 3', 10, 10)\n   * doc.setPage(1)\n   * doc.text('I am on page 1', 10, 10)\n   */\n  API.setPage = function() {\n    _setPage.apply(this, arguments);\n    setOutputDestination.call(this, pages[currentPage]);\n    return this;\n  };\n\n  /**\n   * @name insertPage\n   * @memberof jsPDF#\n   *\n   * @function\n   * @instance\n   * @param {Object} beforePage\n   * @returns {jsPDF}\n   */\n  API.insertPage = function(beforePage) {\n    this.addPage();\n    this.movePage(currentPage, beforePage);\n    return this;\n  };\n\n  /**\n   * @name movePage\n   * @memberof jsPDF#\n   * @function\n   * @instance\n   * @param {number} targetPage\n   * @param {number} beforePage\n   * @returns {jsPDF}\n   */\n  API.movePage = function(targetPage, beforePage) {\n    var tmpPages, tmpPagesContext;\n    if (targetPage > beforePage) {\n      tmpPages = pages[targetPage];\n      tmpPagesContext = pagesContext[targetPage];\n      for (var i = targetPage; i > beforePage; i--) {\n        pages[i] = pages[i - 1];\n        pagesContext[i] = pagesContext[i - 1];\n      }\n      pages[beforePage] = tmpPages;\n      pagesContext[beforePage] = tmpPagesContext;\n      this.setPage(beforePage);\n    } else if (targetPage < beforePage) {\n      tmpPages = pages[targetPage];\n      tmpPagesContext = pagesContext[targetPage];\n      for (var j = targetPage; j < beforePage; j++) {\n        pages[j] = pages[j + 1];\n        pagesContext[j] = pagesContext[j + 1];\n      }\n      pages[beforePage] = tmpPages;\n      pagesContext[beforePage] = tmpPagesContext;\n      this.setPage(beforePage);\n    }\n    return this;\n  };\n\n  /**\n   * Deletes a page from the PDF.\n   * @name deletePage\n   * @memberof jsPDF#\n   * @function\n   * @param {number} targetPage\n   * @instance\n   * @returns {jsPDF}\n   */\n  API.deletePage = function() {\n    _deletePage.apply(this, arguments);\n    return this;\n  };\n\n  /**\n   * Adds text to page. Supports adding multiline text when 'text' argument is an Array of Strings.\n   *\n   * @function\n   * @instance\n   * @param {String|Array} text String or array of strings to be added to the page. Each line is shifted one line down per font, spacing settings declared before this call.\n   * @param {number} x Coordinate (in units declared at inception of PDF document) against left edge of the page.\n   * @param {number} y Coordinate (in units declared at inception of PDF document) against upper edge of the page.\n   * @param {Object} [options] - Collection of settings signaling how the text must be encoded.\n   * @param {string} [options.align=left] - The alignment of the text, possible values: left, center, right, justify.\n   * @param {string} [options.baseline=alphabetic] - Sets text baseline used when drawing the text, possible values: alphabetic, ideographic, bottom, top, middle, hanging\n   * @param {number|Matrix} [options.angle=0] - Rotate the text clockwise or counterclockwise. Expects the angle in degree.\n   * @param {number} [options.rotationDirection=1] - Direction of the rotation. 0 = clockwise, 1 = counterclockwise.\n   * @param {number} [options.charSpace=0] - The space between each letter.\n   * @param {number} [options.horizontalScale=1] - Horizontal scale of the text as a factor of the regular size.\n   * @param {number} [options.lineHeightFactor=1.15] - The lineheight of each line.\n   * @param {Object} [options.flags] - Flags for to8bitStream.\n   * @param {boolean} [options.flags.noBOM=true] - Don't add BOM to Unicode-text.\n   * @param {boolean} [options.flags.autoencode=true] - Autoencode the Text.\n   * @param {number} [options.maxWidth=0] - Split the text by given width, 0 = no split.\n   * @param {string} [options.renderingMode=fill] - Set how the text should be rendered, possible values: fill, stroke, fillThenStroke, invisible, fillAndAddForClipping, strokeAndAddPathForClipping, fillThenStrokeAndAddToPathForClipping, addToPathForClipping.\n   * @param {boolean} [options.isInputVisual] - Option for the BidiEngine\n   * @param {boolean} [options.isOutputVisual] - Option for the BidiEngine\n   * @param {boolean} [options.isInputRtl] - Option for the BidiEngine\n   * @param {boolean} [options.isOutputRtl] - Option for the BidiEngine\n   * @param {boolean} [options.isSymmetricSwapping] - Option for the BidiEngine\n   * @param {number|Matrix} transform If transform is a number the text will be rotated by this value around the anchor set by x and y.\n   *\n   * If it is a Matrix, this matrix gets directly applied to the text, which allows shearing\n   * effects etc.; the x and y offsets are then applied AFTER the coordinate system has been established by this\n   * matrix. This means passing a rotation matrix that is equivalent to some rotation angle will in general yield a\n   * DIFFERENT result. A matrix is only allowed in \"advanced\" API mode.\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name text\n   */\n  API.__private__.text = API.text = function(text, x, y, options, transform) {\n    /*\n     * Inserts something like this into PDF\n     *   BT\n     *    /F1 16 Tf  % Font name + size\n     *    16 TL % How many units down for next line in multiline text\n     *    0 g % color\n     *    28.35 813.54 Td % position\n     *    (line one) Tj\n     *    T* (line two) Tj\n     *    T* (line three) Tj\n     *   ET\n     */\n    options = options || {};\n    var scope = options.scope || this;\n    var payload, da, angle, align, charSpace, maxWidth, flags, horizontalScale;\n\n    // Pre-August-2012 the order of arguments was function(x, y, text, flags)\n    // in effort to make all calls have similar signature like\n    //   function(data, coordinates... , miscellaneous)\n    // this method had its args flipped.\n    // code below allows backward compatibility with old arg order.\n    if (\n      typeof text === \"number\" &&\n      typeof x === \"number\" &&\n      (typeof y === \"string\" || Array.isArray(y))\n    ) {\n      var tmp = y;\n      y = x;\n      x = text;\n      text = tmp;\n    }\n\n    var transformationMatrix;\n\n    if (arguments[3] instanceof Matrix === false) {\n      flags = arguments[3];\n      angle = arguments[4];\n      align = arguments[5];\n\n      if (typeof flags !== \"object\" || flags === null) {\n        if (typeof angle === \"string\") {\n          align = angle;\n          angle = null;\n        }\n        if (typeof flags === \"string\") {\n          align = flags;\n          flags = null;\n        }\n        if (typeof flags === \"number\") {\n          angle = flags;\n          flags = null;\n        }\n        options = {\n          flags: flags,\n          angle: angle,\n          align: align\n        };\n      }\n    } else {\n      advancedApiModeTrap(\n        \"The transform parameter of text() with a Matrix value\"\n      );\n      transformationMatrix = transform;\n    }\n\n    if (isNaN(x) || isNaN(y) || typeof text === \"undefined\" || text === null) {\n      throw new Error(\"Invalid arguments passed to jsPDF.text\");\n    }\n\n    if (text.length === 0) {\n      return scope;\n    }\n\n    var xtra = \"\";\n    var isHex = false;\n    var lineHeight =\n      typeof options.lineHeightFactor === \"number\"\n        ? options.lineHeightFactor\n        : lineHeightFactor;\n    var scaleFactor = scope.internal.scaleFactor;\n\n    function ESC(s) {\n      s = s.split(\"\\t\").join(Array(options.TabLen || 9).join(\" \"));\n      return pdfEscape(s, flags);\n    }\n\n    function transformTextToSpecialArray(text) {\n      //we don't want to destroy original text array, so cloning it\n      var sa = text.concat();\n      var da = [];\n      var len = sa.length;\n      var curDa;\n      //we do array.join('text that must not be PDFescaped\")\n      //thus, pdfEscape each component separately\n      while (len--) {\n        curDa = sa.shift();\n        if (typeof curDa === \"string\") {\n          da.push(curDa);\n        } else {\n          if (\n            Array.isArray(text) &&\n            (curDa.length === 1 ||\n              (curDa[1] === undefined && curDa[2] === undefined))\n          ) {\n            da.push(curDa[0]);\n          } else {\n            da.push([curDa[0], curDa[1], curDa[2]]);\n          }\n        }\n      }\n      return da;\n    }\n\n    function processTextByFunction(text, processingFunction) {\n      var result;\n      if (typeof text === \"string\") {\n        result = processingFunction(text)[0];\n      } else if (Array.isArray(text)) {\n        //we don't want to destroy original text array, so cloning it\n        var sa = text.concat();\n        var da = [];\n        var len = sa.length;\n        var curDa;\n        var tmpResult;\n        //we do array.join('text that must not be PDFescaped\")\n        //thus, pdfEscape each component separately\n        while (len--) {\n          curDa = sa.shift();\n          if (typeof curDa === \"string\") {\n            da.push(processingFunction(curDa)[0]);\n          } else if (Array.isArray(curDa) && typeof curDa[0] === \"string\") {\n            tmpResult = processingFunction(curDa[0], curDa[1], curDa[2]);\n            da.push([tmpResult[0], tmpResult[1], tmpResult[2]]);\n          }\n        }\n        result = da;\n      }\n      return result;\n    }\n\n    //Check if text is of type String\n    var textIsOfTypeString = false;\n    var tmpTextIsOfTypeString = true;\n\n    if (typeof text === \"string\") {\n      textIsOfTypeString = true;\n    } else if (Array.isArray(text)) {\n      //we don't want to destroy original text array, so cloning it\n      var sa = text.concat();\n      da = [];\n      var len = sa.length;\n      var curDa;\n      //we do array.join('text that must not be PDFescaped\")\n      //thus, pdfEscape each component separately\n      while (len--) {\n        curDa = sa.shift();\n        if (\n          typeof curDa !== \"string\" ||\n          (Array.isArray(curDa) && typeof curDa[0] !== \"string\")\n        ) {\n          tmpTextIsOfTypeString = false;\n        }\n      }\n      textIsOfTypeString = tmpTextIsOfTypeString;\n    }\n    if (textIsOfTypeString === false) {\n      throw new Error(\n        'Type of text must be string or Array. \"' +\n          text +\n          '\" is not recognized.'\n      );\n    }\n\n    //If there are any newlines in text, we assume\n    //the user wanted to print multiple lines, so break the\n    //text up into an array. If the text is already an array,\n    //we assume the user knows what they are doing.\n    //Convert text into an array anyway to simplify\n    //later code.\n\n    if (typeof text === \"string\") {\n      if (text.match(/[\\r?\\n]/)) {\n        text = text.split(/\\r\\n|\\r|\\n/g);\n      } else {\n        text = [text];\n      }\n    }\n\n    //baseline\n    var height = activeFontSize / scope.internal.scaleFactor;\n    var descent = height * (lineHeight - 1);\n\n    switch (options.baseline) {\n      case \"bottom\":\n        y -= descent;\n        break;\n      case \"top\":\n        y += height - descent;\n        break;\n      case \"hanging\":\n        y += height - 2 * descent;\n        break;\n      case \"middle\":\n        y += height / 2 - descent;\n        break;\n      case \"ideographic\":\n      case \"alphabetic\":\n      default:\n        // do nothing, everything is fine\n        break;\n    }\n\n    //multiline\n    maxWidth = options.maxWidth || 0;\n\n    if (maxWidth > 0) {\n      if (typeof text === \"string\") {\n        text = scope.splitTextToSize(text, maxWidth);\n      } else if (Object.prototype.toString.call(text) === \"[object Array]\") {\n        text = text.reduce(function(acc, textLine) {\n          return acc.concat(scope.splitTextToSize(textLine, maxWidth));\n        }, []);\n      }\n    }\n\n    //creating Payload-Object to make text byRef\n    payload = {\n      text: text,\n      x: x,\n      y: y,\n      options: options,\n      mutex: {\n        pdfEscape: pdfEscape,\n        activeFontKey: activeFontKey,\n        fonts: fonts,\n        activeFontSize: activeFontSize\n      }\n    };\n    events.publish(\"preProcessText\", payload);\n\n    text = payload.text;\n    options = payload.options;\n\n    //angle\n    angle = options.angle;\n\n    if (\n      transformationMatrix instanceof Matrix === false &&\n      angle &&\n      typeof angle === \"number\"\n    ) {\n      angle *= Math.PI / 180;\n\n      if (options.rotationDirection === 0) {\n        angle = -angle;\n      }\n\n      if (apiMode === ApiMode.ADVANCED) {\n        angle = -angle;\n      }\n\n      var c = Math.cos(angle);\n      var s = Math.sin(angle);\n      transformationMatrix = new Matrix(c, s, -s, c, 0, 0);\n    } else if (angle && angle instanceof Matrix) {\n      transformationMatrix = angle;\n    }\n\n    if (apiMode === ApiMode.ADVANCED && !transformationMatrix) {\n      transformationMatrix = identityMatrix;\n    }\n\n    //charSpace\n\n    charSpace = options.charSpace || activeCharSpace;\n\n    if (typeof charSpace !== \"undefined\") {\n      xtra += hpf(scale(charSpace)) + \" Tc\\n\";\n      this.setCharSpace(this.getCharSpace() || 0);\n    }\n\n    horizontalScale = options.horizontalScale;\n    if (typeof horizontalScale !== \"undefined\") {\n      xtra += hpf(horizontalScale * 100) + \" Tz\\n\";\n    }\n\n    //lang\n\n    var lang = options.lang;\n\n    if (lang) {\n      //    xtra += \"/Lang (\" + lang +\")\\n\";\n    }\n\n    //renderingMode\n    var renderingMode = -1;\n    var parmRenderingMode =\n      typeof options.renderingMode !== \"undefined\"\n        ? options.renderingMode\n        : options.stroke;\n    var pageContext = scope.internal.getCurrentPageInfo().pageContext;\n\n    switch (parmRenderingMode) {\n      case 0:\n      case false:\n      case \"fill\":\n        renderingMode = 0;\n        break;\n      case 1:\n      case true:\n      case \"stroke\":\n        renderingMode = 1;\n        break;\n      case 2:\n      case \"fillThenStroke\":\n        renderingMode = 2;\n        break;\n      case 3:\n      case \"invisible\":\n        renderingMode = 3;\n        break;\n      case 4:\n      case \"fillAndAddForClipping\":\n        renderingMode = 4;\n        break;\n      case 5:\n      case \"strokeAndAddPathForClipping\":\n        renderingMode = 5;\n        break;\n      case 6:\n      case \"fillThenStrokeAndAddToPathForClipping\":\n        renderingMode = 6;\n        break;\n      case 7:\n      case \"addToPathForClipping\":\n        renderingMode = 7;\n        break;\n    }\n\n    var usedRenderingMode =\n      typeof pageContext.usedRenderingMode !== \"undefined\"\n        ? pageContext.usedRenderingMode\n        : -1;\n\n    //if the coder wrote it explicitly to use a specific\n    //renderingMode, then use it\n    if (renderingMode !== -1) {\n      xtra += renderingMode + \" Tr\\n\";\n      //otherwise check if we used the rendering Mode already\n      //if so then set the rendering Mode...\n    } else if (usedRenderingMode !== -1) {\n      xtra += \"0 Tr\\n\";\n    }\n\n    if (renderingMode !== -1) {\n      pageContext.usedRenderingMode = renderingMode;\n    }\n\n    //align\n    align = options.align || \"left\";\n    var leading = activeFontSize * lineHeight;\n    var pageWidth = scope.internal.pageSize.getWidth();\n    var activeFont = fonts[activeFontKey];\n    charSpace = options.charSpace || activeCharSpace;\n    maxWidth = options.maxWidth || 0;\n\n    var lineWidths;\n    flags = Object.assign({ autoencode: true, noBOM: true }, options.flags);\n\n    var wordSpacingPerLine = [];\n\n    if (Object.prototype.toString.call(text) === \"[object Array]\") {\n      da = transformTextToSpecialArray(text);\n      var newY;\n      if (align !== \"left\") {\n        lineWidths = da.map(function(v) {\n          return (\n            (scope.getStringUnitWidth(v, {\n              font: activeFont,\n              charSpace: charSpace,\n              fontSize: activeFontSize,\n              doKerning: false\n            }) *\n              activeFontSize) /\n            scaleFactor\n          );\n        });\n      }\n      //The first line uses the \"main\" Td setting,\n      //and the subsequent lines are offset by the\n      //previous line's x coordinate.\n      var prevWidth = 0;\n      var newX;\n      if (align === \"right\") {\n        //The passed in x coordinate defines the\n        //rightmost point of the text.\n        x -= lineWidths[0];\n        text = [];\n        len = da.length;\n        for (var i = 0; i < len; i++) {\n          if (i === 0) {\n            newX = getHorizontalCoordinate(x);\n            newY = getVerticalCoordinate(y);\n          } else {\n            newX = scale(prevWidth - lineWidths[i]);\n            newY = -leading;\n          }\n          text.push([da[i], newX, newY]);\n          prevWidth = lineWidths[i];\n        }\n      } else if (align === \"center\") {\n        //The passed in x coordinate defines\n        //the center point.\n        x -= lineWidths[0] / 2;\n        text = [];\n        len = da.length;\n        for (var j = 0; j < len; j++) {\n          if (j === 0) {\n            newX = getHorizontalCoordinate(x);\n            newY = getVerticalCoordinate(y);\n          } else {\n            newX = scale((prevWidth - lineWidths[j]) / 2);\n            newY = -leading;\n          }\n          text.push([da[j], newX, newY]);\n          prevWidth = lineWidths[j];\n        }\n      } else if (align === \"left\") {\n        text = [];\n        len = da.length;\n        for (var h = 0; h < len; h++) {\n          text.push(da[h]);\n        }\n      } else if (align === \"justify\") {\n        text = [];\n        len = da.length;\n        maxWidth = maxWidth !== 0 ? maxWidth : pageWidth;\n\n        for (var l = 0; l < len; l++) {\n          newY = l === 0 ? getVerticalCoordinate(y) : -leading;\n          newX = l === 0 ? getHorizontalCoordinate(x) : 0;\n          if (l < len - 1) {\n            wordSpacingPerLine.push(\n              hpf(\n                scale(\n                  (maxWidth - lineWidths[l]) / (da[l].split(\" \").length - 1)\n                )\n              )\n            );\n          } else {\n            wordSpacingPerLine.push(0);\n          }\n          text.push([da[l], newX, newY]);\n        }\n      } else {\n        throw new Error(\n          'Unrecognized alignment option, use \"left\", \"center\", \"right\" or \"justify\".'\n        );\n      }\n    }\n\n    //R2L\n    var doReversing = typeof options.R2L === \"boolean\" ? options.R2L : R2L;\n    if (doReversing === true) {\n      text = processTextByFunction(text, function(text, posX, posY) {\n        return [\n          text\n            .split(\"\")\n            .reverse()\n            .join(\"\"),\n          posX,\n          posY\n        ];\n      });\n    }\n\n    //creating Payload-Object to make text byRef\n    payload = {\n      text: text,\n      x: x,\n      y: y,\n      options: options,\n      mutex: {\n        pdfEscape: pdfEscape,\n        activeFontKey: activeFontKey,\n        fonts: fonts,\n        activeFontSize: activeFontSize\n      }\n    };\n    events.publish(\"postProcessText\", payload);\n\n    text = payload.text;\n    isHex = payload.mutex.isHex || false;\n\n    //Escaping\n    var activeFontEncoding = fonts[activeFontKey].encoding;\n\n    if (\n      activeFontEncoding === \"WinAnsiEncoding\" ||\n      activeFontEncoding === \"StandardEncoding\"\n    ) {\n      text = processTextByFunction(text, function(text, posX, posY) {\n        return [ESC(text), posX, posY];\n      });\n    }\n\n    da = transformTextToSpecialArray(text);\n\n    text = [];\n    var STRING = 0;\n    var ARRAY = 1;\n    var variant = Array.isArray(da[0]) ? ARRAY : STRING;\n    var posX;\n    var posY;\n    var content;\n    var wordSpacing = \"\";\n\n    var generatePosition = function(\n      parmPosX,\n      parmPosY,\n      parmTransformationMatrix\n    ) {\n      var position = \"\";\n      if (parmTransformationMatrix instanceof Matrix) {\n        // It is kind of more intuitive to apply a plain rotation around the text anchor set by x and y\n        // but when the user supplies an arbitrary transformation matrix, the x and y offsets should be applied\n        // in the coordinate system established by this matrix\n        if (typeof options.angle === \"number\") {\n          parmTransformationMatrix = matrixMult(\n            parmTransformationMatrix,\n            new Matrix(1, 0, 0, 1, parmPosX, parmPosY)\n          );\n        } else {\n          parmTransformationMatrix = matrixMult(\n            new Matrix(1, 0, 0, 1, parmPosX, parmPosY),\n            parmTransformationMatrix\n          );\n        }\n\n        if (apiMode === ApiMode.ADVANCED) {\n          parmTransformationMatrix = matrixMult(\n            new Matrix(1, 0, 0, -1, 0, 0),\n            parmTransformationMatrix\n          );\n        }\n\n        position = parmTransformationMatrix.join(\" \") + \" Tm\\n\";\n      } else {\n        position = hpf(parmPosX) + \" \" + hpf(parmPosY) + \" Td\\n\";\n      }\n      return position;\n    };\n\n    for (var lineIndex = 0; lineIndex < da.length; lineIndex++) {\n      wordSpacing = \"\";\n\n      switch (variant) {\n        case ARRAY:\n          content =\n            (isHex ? \"<\" : \"(\") + da[lineIndex][0] + (isHex ? \">\" : \")\");\n          posX = parseFloat(da[lineIndex][1]);\n          posY = parseFloat(da[lineIndex][2]);\n          break;\n        case STRING:\n          content = (isHex ? \"<\" : \"(\") + da[lineIndex] + (isHex ? \">\" : \")\");\n          posX = getHorizontalCoordinate(x);\n          posY = getVerticalCoordinate(y);\n          break;\n      }\n\n      if (\n        typeof wordSpacingPerLine !== \"undefined\" &&\n        typeof wordSpacingPerLine[lineIndex] !== \"undefined\"\n      ) {\n        wordSpacing = wordSpacingPerLine[lineIndex] + \" Tw\\n\";\n      }\n\n      if (lineIndex === 0) {\n        text.push(\n          wordSpacing +\n            generatePosition(posX, posY, transformationMatrix) +\n            content\n        );\n      } else if (variant === STRING) {\n        text.push(wordSpacing + content);\n      } else if (variant === ARRAY) {\n        text.push(\n          wordSpacing +\n            generatePosition(posX, posY, transformationMatrix) +\n            content\n        );\n      }\n    }\n\n    text = variant === STRING ? text.join(\" Tj\\nT* \") : text.join(\" Tj\\n\");\n    text += \" Tj\\n\";\n\n    var result = \"BT\\n/\";\n    result += activeFontKey + \" \" + activeFontSize + \" Tf\\n\"; // font face, style, size\n    result += hpf(activeFontSize * lineHeight) + \" TL\\n\"; // line spacing\n    result += textColor + \"\\n\";\n    result += xtra;\n    result += text;\n    result += \"ET\";\n\n    out(result);\n    usedFonts[activeFontKey] = true;\n    return scope;\n  };\n\n  // PDF supports these path painting and clip path operators:\n  //\n  // S - stroke\n  // s - close/stroke\n  // f (F) - fill non-zero\n  // f* - fill evenodd\n  // B - fill stroke nonzero\n  // B* - fill stroke evenodd\n  // b - close fill stroke nonzero\n  // b* - close fill stroke evenodd\n  // n - nothing (consume path)\n  // W - clip nonzero\n  // W* - clip evenodd\n  //\n  // In order to keep the API small, we omit the close-and-fill/stroke operators and provide a separate close()\n  // method.\n  /**\n   *\n   * @name clip\n   * @function\n   * @instance\n   * @param {string} rule Only possible value is 'evenodd'\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @description All .clip() after calling drawing ops with a style argument of null.\n   */\n  var clip = (API.__private__.clip = API.clip = function(rule) {\n    // Call .clip() after calling drawing ops with a style argument of null\n    // W is the PDF clipping op\n    if (\"evenodd\" === rule) {\n      out(\"W*\");\n    } else {\n      out(\"W\");\n    }\n    return this;\n  });\n\n  /**\n   * @name clipEvenOdd\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @description Modify the current clip path by intersecting it with the current path using the even-odd rule. Note\n   * that this will NOT consume the current path. In order to only use this path for clipping call\n   * {@link API.discardPath} afterwards.\n   */\n  API.clipEvenOdd = function() {\n    return clip(\"evenodd\");\n  };\n\n  /**\n   * Consumes the current path without any effect. Mainly used in combination with {@link clip} or\n   * {@link clipEvenOdd}. The PDF \"n\" operator.\n   * @name discardPath\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   */\n  API.__private__.discardPath = API.discardPath = function() {\n    out(\"n\");\n    return this;\n  };\n\n  var isValidStyle = (API.__private__.isValidStyle = function(style) {\n    var validStyleVariants = [\n      undefined,\n      null,\n      \"S\",\n      \"D\",\n      \"F\",\n      \"DF\",\n      \"FD\",\n      \"f\",\n      \"f*\",\n      \"B\",\n      \"B*\",\n      \"n\"\n    ];\n    var result = false;\n    if (validStyleVariants.indexOf(style) !== -1) {\n      result = true;\n    }\n    return result;\n  });\n\n  API.__private__.setDefaultPathOperation = API.setDefaultPathOperation = function(\n    operator\n  ) {\n    if (isValidStyle(operator)) {\n      defaultPathOperation = operator;\n    }\n    return this;\n  };\n\n  var getStyle = (API.__private__.getStyle = API.getStyle = function(style) {\n    // see path-painting operators in PDF spec\n    var op = defaultPathOperation; // stroke\n\n    switch (style) {\n      case \"D\":\n      case \"S\":\n        op = \"S\"; // stroke\n        break;\n      case \"F\":\n        op = \"f\"; // fill\n        break;\n      case \"FD\":\n      case \"DF\":\n        op = \"B\";\n        break;\n      case \"f\":\n      case \"f*\":\n      case \"B\":\n      case \"B*\":\n        /*\n               Allow direct use of these PDF path-painting operators:\n               - f    fill using nonzero winding number rule\n               - f*    fill using even-odd rule\n               - B    fill then stroke with fill using non-zero winding number rule\n               - B*    fill then stroke with fill using even-odd rule\n               */\n        op = style;\n        break;\n    }\n    return op;\n  });\n\n  /**\n   * Close the current path. The PDF \"h\" operator.\n   * @name close\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   */\n  var close = (API.close = function() {\n    out(\"h\");\n    return this;\n  });\n\n  /**\n   * Stroke the path. The PDF \"S\" operator.\n   * @name stroke\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   */\n  API.stroke = function() {\n    out(\"S\");\n    return this;\n  };\n\n  /**\n   * Fill the current path using the nonzero winding number rule. If a pattern is provided, the path will be filled\n   * with this pattern, otherwise with the current fill color. Equivalent to the PDF \"f\" operator.\n   * @name fill\n   * @function\n   * @instance\n   * @param {PatternData=} pattern If provided the path will be filled with this pattern\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   */\n  API.fill = function(pattern) {\n    fillWithOptionalPattern(\"f\", pattern);\n    return this;\n  };\n\n  /**\n   * Fill the current path using the even-odd rule. The PDF f* operator.\n   * @see API.fill\n   * @name fillEvenOdd\n   * @function\n   * @instance\n   * @param {PatternData=} pattern If provided the path will be filled with this pattern\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   */\n  API.fillEvenOdd = function(pattern) {\n    fillWithOptionalPattern(\"f*\", pattern);\n    return this;\n  };\n\n  /**\n   * Fill using the nonzero winding number rule and then stroke the current Path. The PDF \"B\" operator.\n   * @see API.fill\n   * @name fillStroke\n   * @function\n   * @instance\n   * @param {PatternData=} pattern If provided the path will be stroked with this pattern\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   */\n  API.fillStroke = function(pattern) {\n    fillWithOptionalPattern(\"B\", pattern);\n    return this;\n  };\n\n  /**\n   * Fill using the even-odd rule and then stroke the current Path. The PDF \"B\" operator.\n   * @see API.fill\n   * @name fillStrokeEvenOdd\n   * @function\n   * @instance\n   * @param {PatternData=} pattern If provided the path will be fill-stroked with this pattern\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   */\n  API.fillStrokeEvenOdd = function(pattern) {\n    fillWithOptionalPattern(\"B*\", pattern);\n    return this;\n  };\n\n  var fillWithOptionalPattern = function(style, pattern) {\n    if (typeof pattern === \"object\") {\n      fillWithPattern(pattern, style);\n    } else {\n      out(style);\n    }\n  };\n\n  var putStyle = function(style) {\n    if (\n      style === null ||\n      (apiMode === ApiMode.ADVANCED && style === undefined)\n    ) {\n      return;\n    }\n\n    style = getStyle(style);\n\n    // stroking / filling / both the path\n    out(style);\n  };\n\n  function cloneTilingPattern(patternKey, boundingBox, xStep, yStep, matrix) {\n    var clone = new TilingPattern(\n      boundingBox || this.boundingBox,\n      xStep || this.xStep,\n      yStep || this.yStep,\n      this.gState,\n      matrix || this.matrix\n    );\n    clone.stream = this.stream;\n    var key = patternKey + \"$$\" + this.cloneIndex++ + \"$$\";\n    addPattern(key, clone);\n    return clone;\n  }\n\n  var fillWithPattern = function(patternData, style) {\n    var patternId = patternMap[patternData.key];\n    var pattern = patterns[patternId];\n\n    if (pattern instanceof ShadingPattern) {\n      out(\"q\");\n\n      out(clipRuleFromStyle(style));\n\n      if (pattern.gState) {\n        API.setGState(pattern.gState);\n      }\n      out(patternData.matrix.toString() + \" cm\");\n      out(\"/\" + patternId + \" sh\");\n      out(\"Q\");\n    } else if (pattern instanceof TilingPattern) {\n      // pdf draws patterns starting at the bottom left corner and they are not affected by the global transformation,\n      // so we must flip them\n      var matrix = new Matrix(1, 0, 0, -1, 0, getPageHeight());\n\n      if (patternData.matrix) {\n        matrix = matrix.multiply(patternData.matrix || identityMatrix);\n        // we cannot apply a matrix to the pattern on use so we must abuse the pattern matrix and create new instances\n        // for each use\n        patternId = cloneTilingPattern.call(\n          pattern,\n          patternData.key,\n          patternData.boundingBox,\n          patternData.xStep,\n          patternData.yStep,\n          matrix\n        ).id;\n      }\n\n      out(\"q\");\n      out(\"/Pattern cs\");\n      out(\"/\" + patternId + \" scn\");\n\n      if (pattern.gState) {\n        API.setGState(pattern.gState);\n      }\n\n      out(style);\n      out(\"Q\");\n    }\n  };\n\n  var clipRuleFromStyle = function(style) {\n    switch (style) {\n      case \"f\":\n      case \"F\":\n        return \"W n\";\n      case \"f*\":\n        return \"W* n\";\n      case \"B\":\n        return \"W S\";\n      case \"B*\":\n        return \"W* S\";\n\n      // these two are for compatibility reasons (in the past, calling any primitive method with a shading pattern\n      // and \"n\"/\"S\" as style would still fill/fill and stroke the path)\n      case \"S\":\n        return \"W S\";\n      case \"n\":\n        return \"W n\";\n    }\n  };\n\n  /**\n   * Begin a new subpath by moving the current point to coordinates (x, y). The PDF \"m\" operator.\n   * @param {number} x\n   * @param {number} y\n   * @name moveTo\n   * @function\n   * @instance\n   * @memberof jsPDF#\n   * @returns {jsPDF}\n   */\n  var moveTo = (API.moveTo = function(x, y) {\n    out(hpf(scale(x)) + \" \" + hpf(transformScaleY(y)) + \" m\");\n    return this;\n  });\n\n  /**\n   * Append a straight line segment from the current point to the point (x, y). The PDF \"l\" operator.\n   * @param {number} x\n   * @param {number} y\n   * @memberof jsPDF#\n   * @name lineTo\n   * @function\n   * @instance\n   * @memberof jsPDF#\n   * @returns {jsPDF}\n   */\n  var lineTo = (API.lineTo = function(x, y) {\n    out(hpf(scale(x)) + \" \" + hpf(transformScaleY(y)) + \" l\");\n    return this;\n  });\n\n  /**\n   * Append a cubic Bézier curve to the current path. The curve shall extend from the current point to the point\n   * (x3, y3), using (x1, y1) and (x2, y2) as Bézier control points. The new current point shall be (x3, x3).\n   * @param {number} x1\n   * @param {number} y1\n   * @param {number} x2\n   * @param {number} y2\n   * @param {number} x3\n   * @param {number} y3\n   * @memberof jsPDF#\n   * @name curveTo\n   * @function\n   * @instance\n   * @memberof jsPDF#\n   * @returns {jsPDF}\n   */\n  var curveTo = (API.curveTo = function(x1, y1, x2, y2, x3, y3) {\n    out(\n      [\n        hpf(scale(x1)),\n        hpf(transformScaleY(y1)),\n        hpf(scale(x2)),\n        hpf(transformScaleY(y2)),\n        hpf(scale(x3)),\n        hpf(transformScaleY(y3)),\n        \"c\"\n      ].join(\" \")\n    );\n    return this;\n  });\n\n  /**\n   * Draw a line on the current page.\n   *\n   * @name line\n   * @function\n   * @instance\n   * @param {number} x1\n   * @param {number} y1\n   * @param {number} x2\n   * @param {number} y2\n   * @param {string} style A string specifying the painting style or null.  Valid styles include: 'S' [default] - stroke, 'F' - fill,  and 'DF' (or 'FD') -  fill then stroke. A null value postpones setting the style so that a shape may be composed using multiple method calls. The last drawing method call used to define the shape should not have a null style argument. default: 'S'\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   */\n  API.__private__.line = API.line = function(x1, y1, x2, y2, style) {\n    if (\n      isNaN(x1) ||\n      isNaN(y1) ||\n      isNaN(x2) ||\n      isNaN(y2) ||\n      !isValidStyle(style)\n    ) {\n      throw new Error(\"Invalid arguments passed to jsPDF.line\");\n    }\n    if (apiMode === ApiMode.COMPAT) {\n      return this.lines([[x2 - x1, y2 - y1]], x1, y1, [1, 1], style || \"S\");\n    } else {\n      return this.lines([[x2 - x1, y2 - y1]], x1, y1, [1, 1]).stroke();\n    }\n  };\n\n  /**\n   * @typedef {Object} PatternData\n   * {Matrix|undefined} matrix\n   * {Number|undefined} xStep\n   * {Number|undefined} yStep\n   * {Array.<Number>|undefined} boundingBox\n   */\n\n  /**\n   * Adds series of curves (straight lines or cubic bezier curves) to canvas, starting at `x`, `y` coordinates.\n   * All data points in `lines` are relative to last line origin.\n   * `x`, `y` become x1,y1 for first line / curve in the set.\n   * For lines you only need to specify [x2, y2] - (ending point) vector against x1, y1 starting point.\n   * For bezier curves you need to specify [x2,y2,x3,y3,x4,y4] - vectors to control points 1, 2, ending point. All vectors are against the start of the curve - x1,y1.\n   *\n   * @example .lines([[2,2],[-2,2],[1,1,2,2,3,3],[2,1]], 212,110, [1,1], 'F', false) // line, line, bezier curve, line\n   * @param {Array} lines Array of *vector* shifts as pairs (lines) or sextets (cubic bezier curves).\n   * @param {number} x Coordinate (in units declared at inception of PDF document) against left edge of the page\n   * @param {number} y Coordinate (in units declared at inception of PDF document) against upper edge of the page\n   * @param {number} scale (Defaults to [1.0,1.0]) x,y Scaling factor for all vectors. Elements can be any floating number Sub-one makes drawing smaller. Over-one grows the drawing. Negative flips the direction.\n   * @param {string=} style A string specifying the painting style or null. Valid styles include:\n   * 'S' [default] - stroke,\n   * 'F' - fill,\n   * and 'DF' (or 'FD') -  fill then stroke.\n   * In \"compat\" API mode, a null value postpones setting the style so that a shape may be composed using multiple\n   * method calls. The last drawing method call used to define the shape should not have a null style argument.\n   *\n   * In \"advanced\" API mode this parameter is deprecated.\n   * @param {Boolean=} closed If true, the path is closed with a straight line from the end of the last curve to the starting point.\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name lines\n   */\n  API.__private__.lines = API.lines = function(\n    lines,\n    x,\n    y,\n    scale,\n    style,\n    closed\n  ) {\n    var scalex, scaley, i, l, leg, x2, y2, x3, y3, x4, y4, tmp;\n\n    // Pre-August-2012 the order of arguments was function(x, y, lines, scale, style)\n    // in effort to make all calls have similar signature like\n    //   function(content, coordinateX, coordinateY , miscellaneous)\n    // this method had its args flipped.\n    // code below allows backward compatibility with old arg order.\n    if (typeof lines === \"number\") {\n      tmp = y;\n      y = x;\n      x = lines;\n      lines = tmp;\n    }\n\n    scale = scale || [1, 1];\n    closed = closed || false;\n\n    if (\n      isNaN(x) ||\n      isNaN(y) ||\n      !Array.isArray(lines) ||\n      !Array.isArray(scale) ||\n      !isValidStyle(style) ||\n      typeof closed !== \"boolean\"\n    ) {\n      throw new Error(\"Invalid arguments passed to jsPDF.lines\");\n    }\n\n    // starting point\n    moveTo(x, y);\n\n    scalex = scale[0];\n    scaley = scale[1];\n    l = lines.length;\n    //, x2, y2 // bezier only. In page default measurement \"units\", *after* scaling\n    //, x3, y3 // bezier only. In page default measurement \"units\", *after* scaling\n    // ending point for all, lines and bezier. . In page default measurement \"units\", *after* scaling\n    x4 = x; // last / ending point = starting point for first item.\n    y4 = y; // last / ending point = starting point for first item.\n\n    for (i = 0; i < l; i++) {\n      leg = lines[i];\n      if (leg.length === 2) {\n        // simple line\n        x4 = leg[0] * scalex + x4; // here last x4 was prior ending point\n        y4 = leg[1] * scaley + y4; // here last y4 was prior ending point\n        lineTo(x4, y4);\n      } else {\n        // bezier curve\n        x2 = leg[0] * scalex + x4; // here last x4 is prior ending point\n        y2 = leg[1] * scaley + y4; // here last y4 is prior ending point\n        x3 = leg[2] * scalex + x4; // here last x4 is prior ending point\n        y3 = leg[3] * scaley + y4; // here last y4 is prior ending point\n        x4 = leg[4] * scalex + x4; // here last x4 was prior ending point\n        y4 = leg[5] * scaley + y4; // here last y4 was prior ending point\n        curveTo(x2, y2, x3, y3, x4, y4);\n      }\n    }\n\n    if (closed) {\n      close();\n    }\n\n    putStyle(style);\n    return this;\n  };\n\n  /**\n   * Similar to {@link API.lines} but all coordinates are interpreted as absolute coordinates instead of relative.\n   * @param {Array<Object>} lines An array of {op: operator, c: coordinates} object, where op is one of \"m\" (move to), \"l\" (line to)\n   * \"c\" (cubic bezier curve) and \"h\" (close (sub)path)). c is an array of coordinates. \"m\" and \"l\" expect two, \"c\"\n   * six and \"h\" an empty array (or undefined).\n   * @function\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name path\n   */\n  API.path = function(lines) {\n    for (var i = 0; i < lines.length; i++) {\n      var leg = lines[i];\n      var coords = leg.c;\n      switch (leg.op) {\n        case \"m\":\n          moveTo(coords[0], coords[1]);\n          break;\n        case \"l\":\n          lineTo(coords[0], coords[1]);\n          break;\n        case \"c\":\n          curveTo.apply(this, coords);\n          break;\n        case \"h\":\n          close();\n          break;\n      }\n    }\n\n    return this;\n  };\n\n  /**\n   * Adds a rectangle to PDF.\n   *\n   * @param {number} x Coordinate (in units declared at inception of PDF document) against left edge of the page\n   * @param {number} y Coordinate (in units declared at inception of PDF document) against upper edge of the page\n   * @param {number} w Width (in units declared at inception of PDF document)\n   * @param {number} h Height (in units declared at inception of PDF document)\n   * @param {string=} style A string specifying the painting style or null. Valid styles include:\n   * 'S' [default] - stroke,\n   * 'F' - fill,\n   * and 'DF' (or 'FD') -  fill then stroke.\n   * In \"compat\" API mode, a null value postpones setting the style so that a shape may be composed using multiple\n   * method calls. The last drawing method call used to define the shape should not have a null style argument.\n   *\n   * In \"advanced\" API mode this parameter is deprecated.\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name rect\n   */\n  API.__private__.rect = API.rect = function(x, y, w, h, style) {\n    if (isNaN(x) || isNaN(y) || isNaN(w) || isNaN(h) || !isValidStyle(style)) {\n      throw new Error(\"Invalid arguments passed to jsPDF.rect\");\n    }\n    if (apiMode === ApiMode.COMPAT) {\n      h = -h;\n    }\n\n    out(\n      [\n        hpf(scale(x)),\n        hpf(transformScaleY(y)),\n        hpf(scale(w)),\n        hpf(scale(h)),\n        \"re\"\n      ].join(\" \")\n    );\n\n    putStyle(style);\n    return this;\n  };\n\n  /**\n   * Adds a triangle to PDF.\n   *\n   * @param {number} x1 Coordinate (in units declared at inception of PDF document) against left edge of the page\n   * @param {number} y1 Coordinate (in units declared at inception of PDF document) against upper edge of the page\n   * @param {number} x2 Coordinate (in units declared at inception of PDF document) against left edge of the page\n   * @param {number} y2 Coordinate (in units declared at inception of PDF document) against upper edge of the page\n   * @param {number} x3 Coordinate (in units declared at inception of PDF document) against left edge of the page\n   * @param {number} y3 Coordinate (in units declared at inception of PDF document) against upper edge of the page\n   * @param {string=} style A string specifying the painting style or null. Valid styles include:\n   * 'S' [default] - stroke,\n   * 'F' - fill,\n   * and 'DF' (or 'FD') -  fill then stroke.\n   * In \"compat\" API mode, a null value postpones setting the style so that a shape may be composed using multiple\n   * method calls. The last drawing method call used to define the shape should not have a null style argument.\n   *\n   * In \"advanced\" API mode this parameter is deprecated.\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name triangle\n   */\n  API.__private__.triangle = API.triangle = function(\n    x1,\n    y1,\n    x2,\n    y2,\n    x3,\n    y3,\n    style\n  ) {\n    if (\n      isNaN(x1) ||\n      isNaN(y1) ||\n      isNaN(x2) ||\n      isNaN(y2) ||\n      isNaN(x3) ||\n      isNaN(y3) ||\n      !isValidStyle(style)\n    ) {\n      throw new Error(\"Invalid arguments passed to jsPDF.triangle\");\n    }\n    this.lines(\n      [\n        [x2 - x1, y2 - y1], // vector to point 2\n        [x3 - x2, y3 - y2], // vector to point 3\n        [x1 - x3, y1 - y3] // closing vector back to point 1\n      ],\n      x1,\n      y1, // start of path\n      [1, 1],\n      style,\n      true\n    );\n    return this;\n  };\n\n  /**\n   * Adds a rectangle with rounded corners to PDF.\n   *\n   * @param {number} x Coordinate (in units declared at inception of PDF document) against left edge of the page\n   * @param {number} y Coordinate (in units declared at inception of PDF document) against upper edge of the page\n   * @param {number} w Width (in units declared at inception of PDF document)\n   * @param {number} h Height (in units declared at inception of PDF document)\n   * @param {number} rx Radius along x axis (in units declared at inception of PDF document)\n   * @param {number} ry Radius along y axis (in units declared at inception of PDF document)\n   * @param {string=} style A string specifying the painting style or null. Valid styles include:\n   * 'S' [default] - stroke,\n   * 'F' - fill,\n   * and 'DF' (or 'FD') -  fill then stroke.\n   * In \"compat\" API mode, a null value postpones setting the style so that a shape may be composed using multiple\n   * method calls. The last drawing method call used to define the shape should not have a null style argument.\n   *\n   * In \"advanced\" API mode this parameter is deprecated.\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name roundedRect\n   */\n  API.__private__.roundedRect = API.roundedRect = function(\n    x,\n    y,\n    w,\n    h,\n    rx,\n    ry,\n    style\n  ) {\n    if (\n      isNaN(x) ||\n      isNaN(y) ||\n      isNaN(w) ||\n      isNaN(h) ||\n      isNaN(rx) ||\n      isNaN(ry) ||\n      !isValidStyle(style)\n    ) {\n      throw new Error(\"Invalid arguments passed to jsPDF.roundedRect\");\n    }\n    var MyArc = (4 / 3) * (Math.SQRT2 - 1);\n\n    rx = Math.min(rx, w * 0.5);\n    ry = Math.min(ry, h * 0.5);\n\n    this.lines(\n      [\n        [w - 2 * rx, 0],\n        [rx * MyArc, 0, rx, ry - ry * MyArc, rx, ry],\n        [0, h - 2 * ry],\n        [0, ry * MyArc, -(rx * MyArc), ry, -rx, ry],\n        [-w + 2 * rx, 0],\n        [-(rx * MyArc), 0, -rx, -(ry * MyArc), -rx, -ry],\n        [0, -h + 2 * ry],\n        [0, -(ry * MyArc), rx * MyArc, -ry, rx, -ry]\n      ],\n      x + rx,\n      y, // start of path\n      [1, 1],\n      style,\n      true\n    );\n    return this;\n  };\n\n  /**\n   * Adds an ellipse to PDF.\n   *\n   * @param {number} x Coordinate (in units declared at inception of PDF document) against left edge of the page\n   * @param {number} y Coordinate (in units declared at inception of PDF document) against upper edge of the page\n   * @param {number} rx Radius along x axis (in units declared at inception of PDF document)\n   * @param {number} ry Radius along y axis (in units declared at inception of PDF document)\n   * @param {string=} style A string specifying the painting style or null. Valid styles include:\n   * 'S' [default] - stroke,\n   * 'F' - fill,\n   * and 'DF' (or 'FD') -  fill then stroke.\n   * In \"compat\" API mode, a null value postpones setting the style so that a shape may be composed using multiple\n   * method calls. The last drawing method call used to define the shape should not have a null style argument.\n   *\n   * In \"advanced\" API mode this parameter is deprecated.\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name ellipse\n   */\n  API.__private__.ellipse = API.ellipse = function(x, y, rx, ry, style) {\n    if (\n      isNaN(x) ||\n      isNaN(y) ||\n      isNaN(rx) ||\n      isNaN(ry) ||\n      !isValidStyle(style)\n    ) {\n      throw new Error(\"Invalid arguments passed to jsPDF.ellipse\");\n    }\n    var lx = (4 / 3) * (Math.SQRT2 - 1) * rx,\n      ly = (4 / 3) * (Math.SQRT2 - 1) * ry;\n\n    moveTo(x + rx, y);\n    curveTo(x + rx, y - ly, x + lx, y - ry, x, y - ry);\n    curveTo(x - lx, y - ry, x - rx, y - ly, x - rx, y);\n    curveTo(x - rx, y + ly, x - lx, y + ry, x, y + ry);\n    curveTo(x + lx, y + ry, x + rx, y + ly, x + rx, y);\n\n    putStyle(style);\n    return this;\n  };\n\n  /**\n   * Adds an circle to PDF.\n   *\n   * @param {number} x Coordinate (in units declared at inception of PDF document) against left edge of the page\n   * @param {number} y Coordinate (in units declared at inception of PDF document) against upper edge of the page\n   * @param {number} r Radius (in units declared at inception of PDF document)\n   * @param {string=} style A string specifying the painting style or null. Valid styles include:\n   * 'S' [default] - stroke,\n   * 'F' - fill,\n   * and 'DF' (or 'FD') -  fill then stroke.\n   * In \"compat\" API mode, a null value postpones setting the style so that a shape may be composed using multiple\n   * method calls. The last drawing method call used to define the shape should not have a null style argument.\n   *\n   * In \"advanced\" API mode this parameter is deprecated.\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name circle\n   */\n  API.__private__.circle = API.circle = function(x, y, r, style) {\n    if (isNaN(x) || isNaN(y) || isNaN(r) || !isValidStyle(style)) {\n      throw new Error(\"Invalid arguments passed to jsPDF.circle\");\n    }\n    return this.ellipse(x, y, r, r, style);\n  };\n\n  /**\n   * Sets text font face, variant for upcoming text elements.\n   * See output of jsPDF.getFontList() for possible font names, styles.\n   *\n   * @param {string} fontName Font name or family. Example: \"times\".\n   * @param {string} fontStyle Font style or variant. Example: \"italic\".\n   * @param {number | string} fontWeight Weight of the Font. Example: \"normal\" | 400\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setFont\n   */\n  API.setFont = function(fontName, fontStyle, fontWeight) {\n    if (fontWeight) {\n      fontStyle = combineFontStyleAndFontWeight(fontStyle, fontWeight);\n    }\n    activeFontKey = getFont(fontName, fontStyle, {\n      disableWarning: false\n    });\n    return this;\n  };\n\n  /**\n   * Gets text font face, variant for upcoming text elements.\n   *\n   * @function\n   * @instance\n   * @returns {Object}\n   * @memberof jsPDF#\n   * @name getFont\n   */\n  var getFontEntry = (API.__private__.getFont = API.getFont = function() {\n    return fonts[getFont.apply(API, arguments)];\n  });\n\n  /**\n   * Returns an object - a tree of fontName to fontStyle relationships available to\n   * active PDF document.\n   *\n   * @public\n   * @function\n   * @instance\n   * @returns {Object} Like {'times':['normal', 'italic', ... ], 'arial':['normal', 'bold', ... ], ... }\n   * @memberof jsPDF#\n   * @name getFontList\n   */\n  API.__private__.getFontList = API.getFontList = function() {\n    var list = {},\n      fontName,\n      fontStyle;\n\n    for (fontName in fontmap) {\n      if (fontmap.hasOwnProperty(fontName)) {\n        list[fontName] = [];\n        for (fontStyle in fontmap[fontName]) {\n          if (fontmap[fontName].hasOwnProperty(fontStyle)) {\n            list[fontName].push(fontStyle);\n          }\n        }\n      }\n    }\n    return list;\n  };\n\n  /**\n   * Add a custom font to the current instance.\n   *\n   * @param {string} postScriptName PDF specification full name for the font.\n   * @param {string} id PDF-document-instance-specific label assinged to the font.\n   * @param {string} fontStyle Style of the Font.\n   * @param {number | string} fontWeight Weight of the Font.\n   * @param {Object} encoding Encoding_name-to-Font_metrics_object mapping.\n   * @function\n   * @instance\n   * @memberof jsPDF#\n   * @name addFont\n   * @returns {string} fontId\n   */\n  API.addFont = function(\n    postScriptName,\n    fontName,\n    fontStyle,\n    fontWeight,\n    encoding\n  ) {\n    var encodingOptions = [\n      \"StandardEncoding\",\n      \"MacRomanEncoding\",\n      \"Identity-H\",\n      \"WinAnsiEncoding\"\n    ];\n    if (arguments[3] && encodingOptions.indexOf(arguments[3]) !== -1) {\n      //IE 11 fix\n      encoding = arguments[3];\n    } else if (arguments[3] && encodingOptions.indexOf(arguments[3]) == -1) {\n      fontStyle = combineFontStyleAndFontWeight(fontStyle, fontWeight);\n    }\n    encoding = encoding || \"Identity-H\";\n    return addFont.call(this, postScriptName, fontName, fontStyle, encoding);\n  };\n\n  var lineWidth = options.lineWidth || 0.200025; // 2mm\n  /**\n   * Gets the line width, default: 0.200025.\n   *\n   * @function\n   * @instance\n   * @returns {number} lineWidth\n   * @memberof jsPDF#\n   * @name getLineWidth\n   */\n  var getLineWidth = (API.__private__.getLineWidth = API.getLineWidth = function() {\n    return lineWidth;\n  });\n\n  /**\n   * Sets line width for upcoming lines.\n   *\n   * @param {number} width Line width (in units declared at inception of PDF document).\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setLineWidth\n   */\n  var setLineWidth = (API.__private__.setLineWidth = API.setLineWidth = function(\n    width\n  ) {\n    lineWidth = width;\n    out(hpf(scale(width)) + \" w\");\n    return this;\n  });\n\n  /**\n   * Sets the dash pattern for upcoming lines.\n   *\n   * To reset the settings simply call the method without any parameters.\n   * @param {Array<number>} dashArray An array containing 0-2 numbers. The first number sets the length of the\n   * dashes, the second number the length of the gaps. If the second number is missing, the gaps are considered\n   * to be as long as the dashes. An empty array means solid, unbroken lines.\n   * @param {number} dashPhase The phase lines start with.\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setLineDashPattern\n   */\n  API.__private__.setLineDash = jsPDF.API.setLineDash = jsPDF.API.setLineDashPattern = function(\n    dashArray,\n    dashPhase\n  ) {\n    dashArray = dashArray || [];\n    dashPhase = dashPhase || 0;\n\n    if (isNaN(dashPhase) || !Array.isArray(dashArray)) {\n      throw new Error(\"Invalid arguments passed to jsPDF.setLineDash\");\n    }\n\n    dashArray = dashArray\n      .map(function(x) {\n        return hpf(scale(x));\n      })\n      .join(\" \");\n    dashPhase = hpf(scale(dashPhase));\n\n    out(\"[\" + dashArray + \"] \" + dashPhase + \" d\");\n    return this;\n  };\n\n  var lineHeightFactor;\n\n  var getLineHeight = (API.__private__.getLineHeight = API.getLineHeight = function() {\n    return activeFontSize * lineHeightFactor;\n  });\n\n  API.__private__.getLineHeight = API.getLineHeight = function() {\n    return activeFontSize * lineHeightFactor;\n  };\n\n  /**\n   * Sets the LineHeightFactor of proportion.\n   *\n   * @param {number} value LineHeightFactor value. Default: 1.15.\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setLineHeightFactor\n   */\n  var setLineHeightFactor = (API.__private__.setLineHeightFactor = API.setLineHeightFactor = function(\n    value\n  ) {\n    value = value || 1.15;\n    if (typeof value === \"number\") {\n      lineHeightFactor = value;\n    }\n    return this;\n  });\n\n  /**\n   * Gets the LineHeightFactor, default: 1.15.\n   *\n   * @function\n   * @instance\n   * @returns {number} lineHeightFactor\n   * @memberof jsPDF#\n   * @name getLineHeightFactor\n   */\n  var getLineHeightFactor = (API.__private__.getLineHeightFactor = API.getLineHeightFactor = function() {\n    return lineHeightFactor;\n  });\n\n  setLineHeightFactor(options.lineHeight);\n\n  var getHorizontalCoordinate = (API.__private__.getHorizontalCoordinate = function(\n    value\n  ) {\n    return scale(value);\n  });\n\n  var getVerticalCoordinate = (API.__private__.getVerticalCoordinate = function(\n    value\n  ) {\n    if (apiMode === ApiMode.ADVANCED) {\n      return value;\n    } else {\n      var pageHeight =\n        pagesContext[currentPage].mediaBox.topRightY -\n        pagesContext[currentPage].mediaBox.bottomLeftY;\n      return pageHeight - scale(value);\n    }\n  });\n\n  var getHorizontalCoordinateString = (API.__private__.getHorizontalCoordinateString = API.getHorizontalCoordinateString = function(\n    value\n  ) {\n    return hpf(getHorizontalCoordinate(value));\n  });\n\n  var getVerticalCoordinateString = (API.__private__.getVerticalCoordinateString = API.getVerticalCoordinateString = function(\n    value\n  ) {\n    return hpf(getVerticalCoordinate(value));\n  });\n\n  var strokeColor = options.strokeColor || \"0 G\";\n\n  /**\n   *  Gets the stroke color for upcoming elements.\n   *\n   * @function\n   * @instance\n   * @returns {string} colorAsHex\n   * @memberof jsPDF#\n   * @name getDrawColor\n   */\n  API.__private__.getStrokeColor = API.getDrawColor = function() {\n    return decodeColorString(strokeColor);\n  };\n\n  /**\n   * Sets the stroke color for upcoming elements.\n   *\n   * Depending on the number of arguments given, Gray, RGB, or CMYK\n   * color space is implied.\n   *\n   * When only ch1 is given, \"Gray\" color space is implied and it\n   * must be a value in the range from 0.00 (solid black) to to 1.00 (white)\n   * if values are communicated as String types, or in range from 0 (black)\n   * to 255 (white) if communicated as Number type.\n   * The RGB-like 0-255 range is provided for backward compatibility.\n   *\n   * When only ch1,ch2,ch3 are given, \"RGB\" color space is implied and each\n   * value must be in the range from 0.00 (minimum intensity) to to 1.00\n   * (max intensity) if values are communicated as String types, or\n   * from 0 (min intensity) to to 255 (max intensity) if values are communicated\n   * as Number types.\n   * The RGB-like 0-255 range is provided for backward compatibility.\n   *\n   * When ch1,ch2,ch3,ch4 are given, \"CMYK\" color space is implied and each\n   * value must be a in the range from 0.00 (0% concentration) to to\n   * 1.00 (100% concentration)\n   *\n   * Because JavaScript treats fixed point numbers badly (rounds to\n   * floating point nearest to binary representation) it is highly advised to\n   * communicate the fractional numbers as String types, not JavaScript Number type.\n   *\n   * @param {Number|String} ch1 Color channel value or {string} ch1 color value in hexadecimal, example: '#FFFFFF'.\n   * @param {Number} ch2 Color channel value.\n   * @param {Number} ch3 Color channel value.\n   * @param {Number} ch4 Color channel value.\n   *\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setDrawColor\n   */\n  API.__private__.setStrokeColor = API.setDrawColor = function(\n    ch1,\n    ch2,\n    ch3,\n    ch4\n  ) {\n    var options = {\n      ch1: ch1,\n      ch2: ch2,\n      ch3: ch3,\n      ch4: ch4,\n      pdfColorType: \"draw\",\n      precision: 2\n    };\n\n    strokeColor = encodeColorString(options);\n    out(strokeColor);\n    return this;\n  };\n\n  var fillColor = options.fillColor || \"0 g\";\n\n  /**\n   * Gets the fill color for upcoming elements.\n   *\n   * @function\n   * @instance\n   * @returns {string} colorAsHex\n   * @memberof jsPDF#\n   * @name getFillColor\n   */\n  API.__private__.getFillColor = API.getFillColor = function() {\n    return decodeColorString(fillColor);\n  };\n\n  /**\n   * Sets the fill color for upcoming elements.\n   *\n   * Depending on the number of arguments given, Gray, RGB, or CMYK\n   * color space is implied.\n   *\n   * When only ch1 is given, \"Gray\" color space is implied and it\n   * must be a value in the range from 0.00 (solid black) to to 1.00 (white)\n   * if values are communicated as String types, or in range from 0 (black)\n   * to 255 (white) if communicated as Number type.\n   * The RGB-like 0-255 range is provided for backward compatibility.\n   *\n   * When only ch1,ch2,ch3 are given, \"RGB\" color space is implied and each\n   * value must be in the range from 0.00 (minimum intensity) to to 1.00\n   * (max intensity) if values are communicated as String types, or\n   * from 0 (min intensity) to to 255 (max intensity) if values are communicated\n   * as Number types.\n   * The RGB-like 0-255 range is provided for backward compatibility.\n   *\n   * When ch1,ch2,ch3,ch4 are given, \"CMYK\" color space is implied and each\n   * value must be a in the range from 0.00 (0% concentration) to to\n   * 1.00 (100% concentration)\n   *\n   * Because JavaScript treats fixed point numbers badly (rounds to\n   * floating point nearest to binary representation) it is highly advised to\n   * communicate the fractional numbers as String types, not JavaScript Number type.\n   *\n   * @param {Number|String} ch1 Color channel value or {string} ch1 color value in hexadecimal, example: '#FFFFFF'.\n   * @param {Number} ch2 Color channel value.\n   * @param {Number} ch3 Color channel value.\n   * @param {Number} ch4 Color channel value.\n   *\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setFillColor\n   */\n  API.__private__.setFillColor = API.setFillColor = function(\n    ch1,\n    ch2,\n    ch3,\n    ch4\n  ) {\n    var options = {\n      ch1: ch1,\n      ch2: ch2,\n      ch3: ch3,\n      ch4: ch4,\n      pdfColorType: \"fill\",\n      precision: 2\n    };\n\n    fillColor = encodeColorString(options);\n    out(fillColor);\n    return this;\n  };\n\n  var textColor = options.textColor || \"0 g\";\n  /**\n   * Gets the text color for upcoming elements.\n   *\n   * @function\n   * @instance\n   * @returns {string} colorAsHex\n   * @memberof jsPDF#\n   * @name getTextColor\n   */\n  var getTextColor = (API.__private__.getTextColor = API.getTextColor = function() {\n    return decodeColorString(textColor);\n  });\n  /**\n   * Sets the text color for upcoming elements.\n   *\n   * Depending on the number of arguments given, Gray, RGB, or CMYK\n   * color space is implied.\n   *\n   * When only ch1 is given, \"Gray\" color space is implied and it\n   * must be a value in the range from 0.00 (solid black) to to 1.00 (white)\n   * if values are communicated as String types, or in range from 0 (black)\n   * to 255 (white) if communicated as Number type.\n   * The RGB-like 0-255 range is provided for backward compatibility.\n   *\n   * When only ch1,ch2,ch3 are given, \"RGB\" color space is implied and each\n   * value must be in the range from 0.00 (minimum intensity) to to 1.00\n   * (max intensity) if values are communicated as String types, or\n   * from 0 (min intensity) to to 255 (max intensity) if values are communicated\n   * as Number types.\n   * The RGB-like 0-255 range is provided for backward compatibility.\n   *\n   * When ch1,ch2,ch3,ch4 are given, \"CMYK\" color space is implied and each\n   * value must be a in the range from 0.00 (0% concentration) to to\n   * 1.00 (100% concentration)\n   *\n   * Because JavaScript treats fixed point numbers badly (rounds to\n   * floating point nearest to binary representation) it is highly advised to\n   * communicate the fractional numbers as String types, not JavaScript Number type.\n   *\n   * @param {Number|String} ch1 Color channel value or {string} ch1 color value in hexadecimal, example: '#FFFFFF'.\n   * @param {Number} ch2 Color channel value.\n   * @param {Number} ch3 Color channel value.\n   * @param {Number} ch4 Color channel value.\n   *\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setTextColor\n   */\n  API.__private__.setTextColor = API.setTextColor = function(\n    ch1,\n    ch2,\n    ch3,\n    ch4\n  ) {\n    var options = {\n      ch1: ch1,\n      ch2: ch2,\n      ch3: ch3,\n      ch4: ch4,\n      pdfColorType: \"text\",\n      precision: 3\n    };\n    textColor = encodeColorString(options);\n\n    return this;\n  };\n\n  var activeCharSpace = options.charSpace;\n\n  /**\n   * Get global value of CharSpace.\n   *\n   * @function\n   * @instance\n   * @returns {number} charSpace\n   * @memberof jsPDF#\n   * @name getCharSpace\n   */\n  var getCharSpace = (API.__private__.getCharSpace = API.getCharSpace = function() {\n    return parseFloat(activeCharSpace || 0);\n  });\n\n  /**\n   * Set global value of CharSpace.\n   *\n   * @param {number} charSpace\n   * @function\n   * @instance\n   * @returns {jsPDF} jsPDF-instance\n   * @memberof jsPDF#\n   * @name setCharSpace\n   */\n  API.__private__.setCharSpace = API.setCharSpace = function(charSpace) {\n    if (isNaN(charSpace)) {\n      throw new Error(\"Invalid argument passed to jsPDF.setCharSpace\");\n    }\n    activeCharSpace = charSpace;\n    return this;\n  };\n\n  var lineCapID = 0;\n  /**\n   * Is an Object providing a mapping from human-readable to\n   * integer flag values designating the varieties of line cap\n   * and join styles.\n   *\n   * @memberof jsPDF#\n   * @name CapJoinStyles\n   */\n  API.CapJoinStyles = {\n    0: 0,\n    butt: 0,\n    but: 0,\n    miter: 0,\n    1: 1,\n    round: 1,\n    rounded: 1,\n    circle: 1,\n    2: 2,\n    projecting: 2,\n    project: 2,\n    square: 2,\n    bevel: 2\n  };\n\n  /**\n   * Sets the line cap styles.\n   * See {jsPDF.CapJoinStyles} for variants.\n   *\n   * @param {String|Number} style A string or number identifying the type of line cap.\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setLineCap\n   */\n  API.__private__.setLineCap = API.setLineCap = function(style) {\n    var id = API.CapJoinStyles[style];\n    if (id === undefined) {\n      throw new Error(\n        \"Line cap style of '\" +\n          style +\n          \"' is not recognized. See or extend .CapJoinStyles property for valid styles\"\n      );\n    }\n    lineCapID = id;\n    out(id + \" J\");\n\n    return this;\n  };\n\n  var lineJoinID = 0;\n  /**\n   * Sets the line join styles.\n   * See {jsPDF.CapJoinStyles} for variants.\n   *\n   * @param {String|Number} style A string or number identifying the type of line join.\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setLineJoin\n   */\n  API.__private__.setLineJoin = API.setLineJoin = function(style) {\n    var id = API.CapJoinStyles[style];\n    if (id === undefined) {\n      throw new Error(\n        \"Line join style of '\" +\n          style +\n          \"' is not recognized. See or extend .CapJoinStyles property for valid styles\"\n      );\n    }\n    lineJoinID = id;\n    out(id + \" j\");\n\n    return this;\n  };\n\n  var miterLimit;\n  /**\n   * Sets the miterLimit property, which effects the maximum miter length.\n   *\n   * @param {number} length The length of the miter\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setLineMiterLimit\n   */\n  API.__private__.setLineMiterLimit = API.__private__.setMiterLimit = API.setLineMiterLimit = API.setMiterLimit = function(\n    length\n  ) {\n    length = length || 0;\n    if (isNaN(length)) {\n      throw new Error(\"Invalid argument passed to jsPDF.setLineMiterLimit\");\n    }\n    out(hpf(scale(length)) + \" M\");\n\n    return this;\n  };\n\n  /**\n   * An object representing a pdf graphics state.\n   * @class GState\n   */\n\n  /**\n   *\n   * @param parameters A parameter object that contains all properties this graphics state wants to set.\n   * Supported are: opacity, stroke-opacity\n   * @constructor\n   */\n  API.GState = GState;\n\n  /**\n   * Sets a either previously added {@link GState} (via {@link addGState}) or a new {@link GState}.\n   * @param {String|GState} gState If type is string, a previously added GState is used, if type is GState\n   * it will be added before use.\n   * @function\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setGState\n   */\n  API.setGState = function(gState) {\n    if (typeof gState === \"string\") {\n      gState = gStates[gStatesMap[gState]];\n    } else {\n      gState = addGState(null, gState);\n    }\n\n    if (!gState.equals(activeGState)) {\n      out(\"/\" + gState.id + \" gs\");\n      activeGState = gState;\n    }\n  };\n\n  /**\n   * Adds a new Graphics State. Duplicates are automatically eliminated.\n   * @param {String} key Might also be null, if no later reference to this gState is needed\n   * @param {Object} gState The gState object\n   */\n  var addGState = function(key, gState) {\n    // only add it if it is not already present (the keys provided by the user must be unique!)\n    if (key && gStatesMap[key]) return;\n    var duplicate = false;\n    for (var s in gStates) {\n      if (gStates.hasOwnProperty(s)) {\n        if (gStates[s].equals(gState)) {\n          duplicate = true;\n          break;\n        }\n      }\n    }\n\n    if (duplicate) {\n      gState = gStates[s];\n    } else {\n      var gStateKey = \"GS\" + (Object.keys(gStates).length + 1).toString(10);\n      gStates[gStateKey] = gState;\n      gState.id = gStateKey;\n    }\n\n    // several user keys may point to the same GState object\n    key && (gStatesMap[key] = gState.id);\n\n    events.publish(\"addGState\", gState);\n\n    return gState;\n  };\n\n  /**\n   * Adds a new {@link GState} for later use. See {@link setGState}.\n   * @param {String} key\n   * @param {GState} gState\n   * @function\n   * @instance\n   * @returns {jsPDF}\n   *\n   * @memberof jsPDF#\n   * @name addGState\n   */\n  API.addGState = function(key, gState) {\n    addGState(key, gState);\n    return this;\n  };\n\n  /**\n   * Saves the current graphics state (\"pushes it on the stack\"). It can be restored by {@link restoreGraphicsState}\n   * later. Here, the general pdf graphics state is meant, also including the current transformation matrix,\n   * fill and stroke colors etc.\n   * @function\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name saveGraphicsState\n   */\n  API.saveGraphicsState = function() {\n    out(\"q\");\n    // as we cannot set font key and size independently we must keep track of both\n    fontStateStack.push({\n      key: activeFontKey,\n      size: activeFontSize,\n      color: textColor\n    });\n    return this;\n  };\n\n  /**\n   * Restores a previously saved graphics state saved by {@link saveGraphicsState} (\"pops the stack\").\n   * @function\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name restoreGraphicsState\n   */\n  API.restoreGraphicsState = function() {\n    out(\"Q\");\n\n    // restore previous font state\n    var fontState = fontStateStack.pop();\n    activeFontKey = fontState.key;\n    activeFontSize = fontState.size;\n    textColor = fontState.color;\n\n    activeGState = null;\n\n    return this;\n  };\n\n  /**\n   * Appends this matrix to the left of all previously applied matrices.\n   *\n   * @param {Matrix} matrix\n   * @function\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name setCurrentTransformationMatrix\n   */\n  API.setCurrentTransformationMatrix = function(matrix) {\n    out(matrix.toString() + \" cm\");\n    return this;\n  };\n\n  /**\n   * Inserts a debug comment into the generated pdf.\n   * @function\n   * @instance\n   * @param {String} text\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name comment\n   */\n  API.comment = function(text) {\n    out(\"#\" + text);\n    return this;\n  };\n\n  /**\n   * Point\n   */\n  var Point = function(x, y) {\n    var _x = x || 0;\n    Object.defineProperty(this, \"x\", {\n      enumerable: true,\n      get: function() {\n        return _x;\n      },\n      set: function(value) {\n        if (!isNaN(value)) {\n          _x = parseFloat(value);\n        }\n      }\n    });\n\n    var _y = y || 0;\n    Object.defineProperty(this, \"y\", {\n      enumerable: true,\n      get: function() {\n        return _y;\n      },\n      set: function(value) {\n        if (!isNaN(value)) {\n          _y = parseFloat(value);\n        }\n      }\n    });\n\n    var _type = \"pt\";\n    Object.defineProperty(this, \"type\", {\n      enumerable: true,\n      get: function() {\n        return _type;\n      },\n      set: function(value) {\n        _type = value.toString();\n      }\n    });\n    return this;\n  };\n\n  /**\n   * Rectangle\n   */\n  var Rectangle = function(x, y, w, h) {\n    Point.call(this, x, y);\n    this.type = \"rect\";\n\n    var _w = w || 0;\n    Object.defineProperty(this, \"w\", {\n      enumerable: true,\n      get: function() {\n        return _w;\n      },\n      set: function(value) {\n        if (!isNaN(value)) {\n          _w = parseFloat(value);\n        }\n      }\n    });\n\n    var _h = h || 0;\n    Object.defineProperty(this, \"h\", {\n      enumerable: true,\n      get: function() {\n        return _h;\n      },\n      set: function(value) {\n        if (!isNaN(value)) {\n          _h = parseFloat(value);\n        }\n      }\n    });\n\n    return this;\n  };\n\n  /**\n   * FormObject/RenderTarget\n   */\n\n  var RenderTarget = function() {\n    this.page = page;\n    this.currentPage = currentPage;\n    this.pages = pages.slice(0);\n    this.pagesContext = pagesContext.slice(0);\n    this.x = pageX;\n    this.y = pageY;\n    this.matrix = pageMatrix;\n    this.width = getPageWidth(currentPage);\n    this.height = getPageHeight(currentPage);\n    this.outputDestination = outputDestination;\n\n    this.id = \"\"; // set by endFormObject()\n    this.objectNumber = -1; // will be set by putXObject()\n  };\n\n  RenderTarget.prototype.restore = function() {\n    page = this.page;\n    currentPage = this.currentPage;\n    pagesContext = this.pagesContext;\n    pages = this.pages;\n    pageX = this.x;\n    pageY = this.y;\n    pageMatrix = this.matrix;\n    setPageWidth(currentPage, this.width);\n    setPageHeight(currentPage, this.height);\n    outputDestination = this.outputDestination;\n  };\n\n  var beginNewRenderTarget = function(x, y, width, height, matrix) {\n    // save current state\n    renderTargetStack.push(new RenderTarget());\n\n    // clear pages\n    page = currentPage = 0;\n    pages = [];\n    pageX = x;\n    pageY = y;\n\n    pageMatrix = matrix;\n\n    beginPage([width, height]);\n  };\n\n  var endFormObject = function(key) {\n    // only add it if it is not already present (the keys provided by the user must be unique!)\n    if (renderTargetMap[key]) {\n      renderTargetStack.pop().restore();\n      return;\n    }\n\n    // save the created xObject\n    var newXObject = new RenderTarget();\n\n    var xObjectId = \"Xo\" + (Object.keys(renderTargets).length + 1).toString(10);\n    newXObject.id = xObjectId;\n\n    renderTargetMap[key] = xObjectId;\n    renderTargets[xObjectId] = newXObject;\n\n    events.publish(\"addFormObject\", newXObject);\n\n    // restore state from stack\n    renderTargetStack.pop().restore();\n  };\n\n  /**\n   * Starts a new pdf form object, which means that all consequent draw calls target a new independent object\n   * until {@link endFormObject} is called. The created object can be referenced and drawn later using\n   * {@link doFormObject}. Nested form objects are possible.\n   * x, y, width, height set the bounding box that is used to clip the content.\n   *\n   * @param {number} x\n   * @param {number} y\n   * @param {number} width\n   * @param {number} height\n   * @param {Matrix} matrix The matrix that will be applied to convert the form objects coordinate system to\n   * the parent's.\n   * @function\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name beginFormObject\n   */\n  API.beginFormObject = function(x, y, width, height, matrix) {\n    // The user can set the output target to a new form object. Nested form objects are possible.\n    // Currently, they use the resource dictionary of the surrounding stream. This should be changed, as\n    // the PDF-Spec states:\n    // \"In PDF 1.2 and later versions, form XObjects may be independent of the content streams in which\n    // they appear, and this is strongly recommended although not requiredIn PDF 1.2 and later versions,\n    // form XObjects may be independent of the content streams in which they appear, and this is strongly\n    // recommended although not required\"\n    beginNewRenderTarget(x, y, width, height, matrix);\n    return this;\n  };\n\n  /**\n   * Completes and saves the form object.\n   * @param {String} key The key by which this form object can be referenced.\n   * @function\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name endFormObject\n   */\n  API.endFormObject = function(key) {\n    endFormObject(key);\n    return this;\n  };\n\n  /**\n   * Draws the specified form object by referencing to the respective pdf XObject created with\n   * {@link API.beginFormObject} and {@link endFormObject}.\n   * The location is determined by matrix.\n   *\n   * @param {String} key The key to the form object.\n   * @param {Matrix} matrix The matrix applied before drawing the form object.\n   * @function\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name doFormObject\n   */\n  API.doFormObject = function(key, matrix) {\n    var xObject = renderTargets[renderTargetMap[key]];\n    out(\"q\");\n    out(matrix.toString() + \" cm\");\n    out(\"/\" + xObject.id + \" Do\");\n    out(\"Q\");\n    return this;\n  };\n\n  /**\n   * Returns the form object specified by key.\n   * @param key {String}\n   * @returns {{x: number, y: number, width: number, height: number, matrix: Matrix}}\n   * @function\n   * @returns {jsPDF}\n   * @memberof jsPDF#\n   * @name getFormObject\n   */\n  API.getFormObject = function(key) {\n    var xObject = renderTargets[renderTargetMap[key]];\n    return {\n      x: xObject.x,\n      y: xObject.y,\n      width: xObject.width,\n      height: xObject.height,\n      matrix: xObject.matrix\n    };\n  };\n\n  /**\n   * Saves as PDF document. An alias of jsPDF.output('save', 'filename.pdf').\n   * Uses FileSaver.js-method saveAs.\n   *\n   * @memberof jsPDF#\n   * @name save\n   * @function\n   * @instance\n   * @param  {string} filename The filename including extension.\n   * @param  {Object} options An Object with additional options, possible options: 'returnPromise'.\n   * @returns {jsPDF|Promise} jsPDF-instance     */\n  API.save = function(filename, options) {\n    filename = filename || \"generated.pdf\";\n\n    options = options || {};\n    options.returnPromise = options.returnPromise || false;\n\n    // @if MODULE_FORMAT!='cjs'\n    if (options.returnPromise === false) {\n      saveAs(getBlob(buildDocument()), filename);\n      if (typeof saveAs.unload === \"function\") {\n        if (globalObject.setTimeout) {\n          setTimeout(saveAs.unload, 911);\n        }\n      }\n      return this;\n    } else {\n      return new Promise(function(resolve, reject) {\n        try {\n          var result = saveAs(getBlob(buildDocument()), filename);\n          if (typeof saveAs.unload === \"function\") {\n            if (globalObject.setTimeout) {\n              setTimeout(saveAs.unload, 911);\n            }\n          }\n          resolve(result);\n        } catch (e) {\n          reject(e.message);\n        }\n      });\n    }\n    // @endif\n\n    // @if MODULE_FORMAT='cjs'\n    // eslint-disable-next-line no-unreachable\n    var fs = require(\"fs\");\n    var buffer = Buffer.from(getArrayBuffer(buildDocument()));\n    if (options.returnPromise === false) {\n      fs.writeFileSync(filename, buffer);\n    } else {\n      return new Promise(function(resolve, reject) {\n        fs.writeFile(filename, buffer, function(err) {\n          if (err) {\n            reject(err);\n          } else {\n            resolve();\n          }\n        });\n      });\n    }\n    // @endif\n  };\n\n  // applying plugins (more methods) ON TOP of built-in API.\n  // this is intentional as we allow plugins to override\n  // built-ins\n  for (var plugin in jsPDF.API) {\n    if (jsPDF.API.hasOwnProperty(plugin)) {\n      if (plugin === \"events\" && jsPDF.API.events.length) {\n        (function(events, newEvents) {\n          // jsPDF.API.events is a JS Array of Arrays\n          // where each Array is a pair of event name, handler\n          // Events were added by plugins to the jsPDF instantiator.\n          // These are always added to the new instance and some ran\n          // during instantiation.\n          var eventname, handler_and_args, i;\n\n          for (i = newEvents.length - 1; i !== -1; i--) {\n            // subscribe takes 3 args: 'topic', function, runonce_flag\n            // if undefined, runonce is false.\n            // users can attach callback directly,\n            // or they can attach an array with [callback, runonce_flag]\n            // that's what the \"apply\" magic is for below.\n            eventname = newEvents[i][0];\n            handler_and_args = newEvents[i][1];\n            events.subscribe.apply(\n              events,\n              [eventname].concat(\n                typeof handler_and_args === \"function\"\n                  ? [handler_and_args]\n                  : handler_and_args\n              )\n            );\n          }\n        })(events, jsPDF.API.events);\n      } else {\n        API[plugin] = jsPDF.API[plugin];\n      }\n    }\n  }\n\n  var getPageWidth = (API.getPageWidth = function(pageNumber) {\n    pageNumber = pageNumber || currentPage;\n    return (\n      (pagesContext[pageNumber].mediaBox.topRightX -\n        pagesContext[pageNumber].mediaBox.bottomLeftX) /\n      scaleFactor\n    );\n  });\n\n  var setPageWidth = (API.setPageWidth = function(pageNumber, value) {\n    pagesContext[pageNumber].mediaBox.topRightX =\n      value * scaleFactor + pagesContext[pageNumber].mediaBox.bottomLeftX;\n  });\n\n  var getPageHeight = (API.getPageHeight = function(pageNumber) {\n    pageNumber = pageNumber || currentPage;\n    return (\n      (pagesContext[pageNumber].mediaBox.topRightY -\n        pagesContext[pageNumber].mediaBox.bottomLeftY) /\n      scaleFactor\n    );\n  });\n\n  var setPageHeight = (API.setPageHeight = function(pageNumber, value) {\n    pagesContext[pageNumber].mediaBox.topRightY =\n      value * scaleFactor + pagesContext[pageNumber].mediaBox.bottomLeftY;\n  });\n\n  /**\n   * Object exposing internal API to plugins\n   * @public\n   * @ignore\n   */\n  API.internal = {\n    pdfEscape: pdfEscape,\n    getStyle: getStyle,\n    getFont: getFontEntry,\n    getFontSize: getFontSize,\n    getCharSpace: getCharSpace,\n    getTextColor: getTextColor,\n    getLineHeight: getLineHeight,\n    getLineHeightFactor: getLineHeightFactor,\n    getLineWidth: getLineWidth,\n    write: write,\n    getHorizontalCoordinate: getHorizontalCoordinate,\n    getVerticalCoordinate: getVerticalCoordinate,\n    getCoordinateString: getHorizontalCoordinateString,\n    getVerticalCoordinateString: getVerticalCoordinateString,\n    collections: {},\n    newObject: newObject,\n    newAdditionalObject: newAdditionalObject,\n    newObjectDeferred: newObjectDeferred,\n    newObjectDeferredBegin: newObjectDeferredBegin,\n    getFilters: getFilters,\n    putStream: putStream,\n    events: events,\n    scaleFactor: scaleFactor,\n    pageSize: {\n      getWidth: function() {\n        return getPageWidth(currentPage);\n      },\n      setWidth: function(value) {\n        setPageWidth(currentPage, value);\n      },\n      getHeight: function() {\n        return getPageHeight(currentPage);\n      },\n      setHeight: function(value) {\n        setPageHeight(currentPage, value);\n      }\n    },\n    encryptionOptions: encryptionOptions,\n    encryption: encryption,\n    getEncryptor: getEncryptor,\n    output: output,\n    getNumberOfPages: getNumberOfPages,\n    pages: pages,\n    out: out,\n    f2: f2,\n    f3: f3,\n    getPageInfo: getPageInfo,\n    getPageInfoByObjId: getPageInfoByObjId,\n    getCurrentPageInfo: getCurrentPageInfo,\n    getPDFVersion: getPdfVersion,\n    Point: Point,\n    Rectangle: Rectangle,\n    Matrix: Matrix,\n    hasHotfix: hasHotfix //Expose the hasHotfix check so plugins can also check them.\n  };\n\n  Object.defineProperty(API.internal.pageSize, \"width\", {\n    get: function() {\n      return getPageWidth(currentPage);\n    },\n    set: function(value) {\n      setPageWidth(currentPage, value);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(API.internal.pageSize, \"height\", {\n    get: function() {\n      return getPageHeight(currentPage);\n    },\n    set: function(value) {\n      setPageHeight(currentPage, value);\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  //////////////////////////////////////////////////////\n  // continuing initialization of jsPDF Document object\n  //////////////////////////////////////////////////////\n  // Add the first page automatically\n  addFonts.call(API, standardFonts);\n  activeFontKey = \"F1\";\n  _addPage(format, orientation);\n\n  events.publish(\"initialized\");\n  return API;\n}\n\n/**\n * jsPDF.API is a STATIC property of jsPDF class.\n * jsPDF.API is an object you can add methods and properties to.\n * The methods / properties you add will show up in new jsPDF objects.\n *\n * One property is prepopulated. It is the 'events' Object. Plugin authors can add topics,\n * callbacks to this object. These will be reassigned to all new instances of jsPDF.\n *\n * @static\n * @public\n * @memberof jsPDF#\n * @name API\n *\n * @example\n * jsPDF.API.mymethod = function(){\n *   // 'this' will be ref to internal API object. see jsPDF source\n *   // , so you can refer to built-in methods like so:\n *   //     this.line(....)\n *   //     this.text(....)\n * }\n * var pdfdoc = new jsPDF()\n * pdfdoc.mymethod() // <- !!!!!!\n */\njsPDF.API = {\n  events: []\n};\n/**\n * The version of jsPDF.\n * @name version\n * @type {string}\n * @memberof jsPDF#\n */\njsPDF.version = \"0.0.0\";\n\nexport { jsPDF, ShadingPattern, TilingPattern, GState };\nexport default jsPDF;\n","/**\n * @license\n * FileSaver.js\n * A saveAs() FileSaver implementation.\n *\n * By Eli Grey, http://eligrey.com\n *\n * License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n * source  : http://purl.eligrey.com/github/FileSaver.js\n */\n\nimport { globalObject as _global } from \"./globalObject.js\";\nimport { console } from \"./console.js\";\n\nfunction bom(blob, opts) {\n  if (typeof opts === \"undefined\") opts = { autoBom: false };\n  else if (typeof opts !== \"object\") {\n    console.warn(\"Deprecated: Expected third argument to be a object\");\n    opts = { autoBom: !opts };\n  }\n\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n  if (\n    opts.autoBom &&\n    /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(\n      blob.type\n    )\n  ) {\n    return new Blob([String.fromCharCode(0xfeff), blob], { type: blob.type });\n  }\n  return blob;\n}\n\nfunction download(url, name, opts) {\n  var xhr = new XMLHttpRequest();\n  xhr.open(\"GET\", url);\n  xhr.responseType = \"blob\";\n  xhr.onload = function() {\n    saveAs(xhr.response, name, opts);\n  };\n  xhr.onerror = function() {\n    console.error(\"could not download file\");\n  };\n  xhr.send();\n}\n\nfunction corsEnabled(url) {\n  var xhr = new XMLHttpRequest();\n  // use sync to avoid popup blocker\n  xhr.open(\"HEAD\", url, false);\n  try {\n    xhr.send();\n  } catch (e) {}\n  return xhr.status >= 200 && xhr.status <= 299;\n}\n\n// `a.click()` doesn't work for all browsers (#465)\nfunction click(node) {\n  try {\n    node.dispatchEvent(new MouseEvent(\"click\"));\n  } catch (e) {\n    var evt = document.createEvent(\"MouseEvents\");\n    evt.initMouseEvent(\n      \"click\",\n      true,\n      true,\n      window,\n      0,\n      0,\n      0,\n      80,\n      20,\n      false,\n      false,\n      false,\n      false,\n      0,\n      null\n    );\n    node.dispatchEvent(evt);\n  }\n}\n\nvar saveAs =\n  _global.saveAs ||\n  // probably in some web worker\n  (typeof window !== \"object\" || window !== _global\n    ? function saveAs() {\n        /* noop */\n      }\n    : // Use download attribute first if possible (#193 Lumia mobile) unless this is a native app\n    typeof HTMLAnchorElement !== \"undefined\" &&\n      \"download\" in HTMLAnchorElement.prototype\n    ? function saveAs(blob, name, opts) {\n        var URL = _global.URL || _global.webkitURL;\n        var a = document.createElement(\"a\");\n        name = name || blob.name || \"download\";\n\n        a.download = name;\n        a.rel = \"noopener\"; // tabnabbing\n\n        // TODO: detect chrome extensions & packaged apps\n        // a.target = '_blank'\n\n        if (typeof blob === \"string\") {\n          // Support regular links\n          a.href = blob;\n          if (a.origin !== location.origin) {\n            corsEnabled(a.href)\n              ? download(blob, name, opts)\n              : click(a, (a.target = \"_blank\"));\n          } else {\n            click(a);\n          }\n        } else {\n          // Support blobs\n          a.href = URL.createObjectURL(blob);\n          setTimeout(function() {\n            URL.revokeObjectURL(a.href);\n          }, 4e4); // 40s\n          setTimeout(function() {\n            click(a);\n          }, 0);\n        }\n      }\n    : // Use msSaveOrOpenBlob as a second approach\n    \"msSaveOrOpenBlob\" in navigator\n    ? function saveAs(blob, name, opts) {\n        name = name || blob.name || \"download\";\n\n        if (typeof blob === \"string\") {\n          if (corsEnabled(blob)) {\n            download(blob, name, opts);\n          } else {\n            var a = document.createElement(\"a\");\n            a.href = blob;\n            a.target = \"_blank\";\n            setTimeout(function() {\n              click(a);\n            });\n          }\n        } else {\n          navigator.msSaveOrOpenBlob(bom(blob, opts), name);\n        }\n      }\n    : // Fallback to using FileReader and a popup\n      function saveAs(blob, name, opts, popup) {\n        // Open a popup immediately do go around popup blocker\n        // Mostly only available on user interaction and the fileReader is async so...\n        popup = popup || open(\"\", \"_blank\");\n        if (popup) {\n          popup.document.title = popup.document.body.innerText =\n            \"downloading...\";\n        }\n\n        if (typeof blob === \"string\") return download(blob, name, opts);\n\n        var force = blob.type === \"application/octet-stream\";\n        var isSafari =\n          /constructor/i.test(_global.HTMLElement) || _global.safari;\n        var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent);\n\n        if (\n          (isChromeIOS || (force && isSafari)) &&\n          typeof FileReader === \"object\"\n        ) {\n          // Safari doesn't allow downloading of blob URLs\n          var reader = new FileReader();\n          reader.onloadend = function() {\n            var url = reader.result;\n            url = isChromeIOS\n              ? url\n              : url.replace(/^data:[^;]*;/, \"data:attachment/file;\");\n            if (popup) popup.location.href = url;\n            else location = url;\n            popup = null; // reverse-tabnabbing #460\n          };\n          reader.readAsDataURL(blob);\n        } else {\n          var URL = _global.URL || _global.webkitURL;\n          var url = URL.createObjectURL(blob);\n          if (popup) popup.location = url;\n          else location.href = url;\n          popup = null; // reverse-tabnabbing #460\n          setTimeout(function() {\n            URL.revokeObjectURL(url);\n          }, 4e4); // 40s\n        }\n      });\n\nexport { saveAs };\n","export var globalObject = (function() {\n  return \"undefined\" !== typeof window\n    ? window\n    : \"undefined\" !== typeof global\n    ? global\n    : \"undefined\" !== typeof self\n    ? self\n    : this;\n})();\n","import { globalObject } from \"./globalObject.js\";\n\nfunction consoleLog() {\n  if (globalObject.console && typeof globalObject.console.log === \"function\") {\n    globalObject.console.log.apply(globalObject.console, arguments);\n  }\n}\n\nfunction consoleWarn(str) {\n  if (globalObject.console) {\n    if (typeof globalObject.console.warn === \"function\") {\n      globalObject.console.warn.apply(globalObject.console, arguments);\n    } else {\n      consoleLog.call(null, arguments);\n    }\n  }\n}\n\nfunction consoleError(str) {\n  if (globalObject.console) {\n    if (typeof globalObject.console.error === \"function\") {\n      globalObject.console.error.apply(globalObject.console, arguments);\n    } else {\n      consoleLog(str);\n    }\n  }\n}\nexport var console = {\n  log: consoleLog,\n  warn: consoleWarn,\n  error: consoleError\n};\n","/**\n * A class to parse color values\n * @author Stoyan Stefanov <sstoo@gmail.com>\n * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}\n * @license Use it if you like it\n */\n\nfunction RGBColor(color_string) {\n  color_string = color_string || \"\";\n  this.ok = false;\n\n  // strip any leading #\n  if (color_string.charAt(0) == \"#\") {\n    // remove # if any\n    color_string = color_string.substr(1, 6);\n  }\n\n  color_string = color_string.replace(/ /g, \"\");\n  color_string = color_string.toLowerCase();\n\n  var channels;\n\n  // before getting into regexps, try simple matches\n  // and overwrite the input\n  var simple_colors = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"00ffff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"0000ff\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"00ffff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dodgerblue: \"1e90ff\",\n    feldspar: \"d19275\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"ff00ff\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgrey: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslateblue: \"8470ff\",\n    lightslategray: \"778899\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"00ff00\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"ff00ff\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370d8\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"d87093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    red: \"ff0000\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    violetred: \"d02090\",\n    wheat: \"f5deb3\",\n    white: \"ffffff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ffff00\",\n    yellowgreen: \"9acd32\"\n  };\n  color_string = simple_colors[color_string] || color_string;\n\n  // array of color definition objects\n  var color_defs = [\n    {\n      re: /^rgb\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,\n      example: [\"rgb(123, 234, 45)\", \"rgb(255,234,245)\"],\n      process: function(bits) {\n        return [parseInt(bits[1]), parseInt(bits[2]), parseInt(bits[3])];\n      }\n    },\n    {\n      re: /^(\\w{2})(\\w{2})(\\w{2})$/,\n      example: [\"#00ff00\", \"336699\"],\n      process: function(bits) {\n        return [\n          parseInt(bits[1], 16),\n          parseInt(bits[2], 16),\n          parseInt(bits[3], 16)\n        ];\n      }\n    },\n    {\n      re: /^(\\w{1})(\\w{1})(\\w{1})$/,\n      example: [\"#fb0\", \"f0f\"],\n      process: function(bits) {\n        return [\n          parseInt(bits[1] + bits[1], 16),\n          parseInt(bits[2] + bits[2], 16),\n          parseInt(bits[3] + bits[3], 16)\n        ];\n      }\n    }\n  ];\n\n  // search through the definitions to find a match\n  for (var i = 0; i < color_defs.length; i++) {\n    var re = color_defs[i].re;\n    var processor = color_defs[i].process;\n    var bits = re.exec(color_string);\n    if (bits) {\n      channels = processor(bits);\n      this.r = channels[0];\n      this.g = channels[1];\n      this.b = channels[2];\n      this.ok = true;\n    }\n  }\n\n  // validate/cleanup values\n  this.r = this.r < 0 || isNaN(this.r) ? 0 : this.r > 255 ? 255 : this.r;\n  this.g = this.g < 0 || isNaN(this.g) ? 0 : this.g > 255 ? 255 : this.g;\n  this.b = this.b < 0 || isNaN(this.b) ? 0 : this.b > 255 ? 255 : this.b;\n\n  // some getters\n  this.toRGB = function() {\n    return \"rgb(\" + this.r + \", \" + this.g + \", \" + this.b + \")\";\n  };\n  this.toHex = function() {\n    var r = this.r.toString(16);\n    var g = this.g.toString(16);\n    var b = this.b.toString(16);\n    if (r.length == 1) r = \"0\" + r;\n    if (g.length == 1) g = \"0\" + g;\n    if (b.length == 1) b = \"0\" + b;\n    return \"#\" + r + g + b;\n  };\n}\n\nexport { RGBColor };\n","import { globalObject } from \"./globalObject.js\";\n\nvar atob, btoa;\n\n(function() {\n  // @if MODULE_FORMAT!='cjs'\n  atob = globalObject.atob.bind(globalObject);\n  btoa = globalObject.btoa.bind(globalObject);\n  return;\n  // @endif\n\n  // @if MODULE_FORMAT='cjs'\n  atob = require(\"atob\");\n  btoa = require(\"btoa\");\n  // @endif\n})();\n\nexport { atob, btoa };\n","/**\r\n * @license\r\n * Licensed under the MIT License.\r\n * http://opensource.org/licenses/mit-license\r\n * Author: Owen Leong (@owenl131)\r\n * Date: 15 Oct 2020\r\n * References:\r\n * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt\r\n * https://github.com/foliojs/pdfkit/blob/master/lib/security.js\r\n * http://www.fpdf.org/en/script/script37.php\r\n */\r\n\r\nimport { md5Bin } from \"./md5.js\";\r\nimport { rc4 } from \"./rc4.js\";\r\n\r\nvar permissionOptions = {\r\n  print: 4,\r\n  modify: 8,\r\n  copy: 16,\r\n  \"annot-forms\": 32\r\n};\r\n\r\n/**\r\n * Initializes encryption settings\r\n *\r\n * @name constructor\r\n * @function\r\n * @param {Array} permissions Permissions allowed for user, \"print\", \"modify\", \"copy\" and \"annot-forms\".\r\n * @param {String} userPassword Permissions apply to this user. Leaving this empty means the document\r\n *                              is not password protected but viewer has the above permissions.\r\n * @param {String} ownerPassword Owner has full functionalities to the file.\r\n * @param {String} fileId As hex string, should be same as the file ID in the trailer.\r\n * @example\r\n * var security = new PDFSecurity([\"print\"])\r\n */\r\nfunction PDFSecurity(permissions, userPassword, ownerPassword, fileId) {\r\n  this.v = 1; // algorithm 1, future work can add in more recent encryption schemes\r\n  this.r = 2; // revision 2\r\n\r\n  // set flags for what functionalities the user can access\r\n  let protection = 192;\r\n  permissions.forEach(function(perm) {\r\n    if (typeof permissionOptions.perm !== \"undefined\") {\r\n      throw new Error(\"Invalid permission: \" + perm);\r\n    }\r\n    protection += permissionOptions[perm];\r\n  });\r\n\r\n  // padding is used to pad the passwords to 32 bytes, also is hashed and stored in the final PDF\r\n  this.padding =\r\n    \"\\x28\\xBF\\x4E\\x5E\\x4E\\x75\\x8A\\x41\\x64\\x00\\x4E\\x56\\xFF\\xFA\\x01\\x08\" +\r\n    \"\\x2E\\x2E\\x00\\xB6\\xD0\\x68\\x3E\\x80\\x2F\\x0C\\xA9\\xFE\\x64\\x53\\x69\\x7A\";\r\n  let paddedUserPassword = (userPassword + this.padding).substr(0, 32);\r\n  let paddedOwnerPassword = (ownerPassword + this.padding).substr(0, 32);\r\n\r\n  this.O = this.processOwnerPassword(paddedUserPassword, paddedOwnerPassword);\r\n  this.P = -((protection ^ 255) + 1);\r\n  this.encryptionKey = md5Bin(\r\n    paddedUserPassword +\r\n      this.O +\r\n      this.lsbFirstWord(this.P) +\r\n      this.hexToBytes(fileId)\r\n  ).substr(0, 5);\r\n  this.U = rc4(this.encryptionKey, this.padding);\r\n}\r\n\r\n/**\r\n * Breaks down a 4-byte number into its individual bytes, with the least significant bit first\r\n *\r\n * @name lsbFirstWord\r\n * @function\r\n * @param {number} data 32-bit number\r\n * @returns {Array}\r\n */\r\nPDFSecurity.prototype.lsbFirstWord = function(data) {\r\n  return String.fromCharCode(\r\n    (data >> 0) & 0xff,\r\n    (data >> 8) & 0xff,\r\n    (data >> 16) & 0xff,\r\n    (data >> 24) & 0xff\r\n  );\r\n};\r\n\r\n/**\r\n * Converts a byte string to a hex string\r\n *\r\n * @name toHexString\r\n * @function\r\n * @param {String} byteString Byte string\r\n * @returns {String}\r\n */\r\nPDFSecurity.prototype.toHexString = function(byteString) {\r\n  return byteString\r\n    .split(\"\")\r\n    .map(function(byte) {\r\n      return (\"0\" + (byte.charCodeAt(0) & 0xff).toString(16)).slice(-2);\r\n    })\r\n    .join(\"\");\r\n};\r\n\r\n/**\r\n * Converts a hex string to a byte string\r\n *\r\n * @name hexToBytes\r\n * @function\r\n * @param {String} hex Hex string\r\n * @returns {String}\r\n */\r\nPDFSecurity.prototype.hexToBytes = function(hex) {\r\n  for (var bytes = [], c = 0; c < hex.length; c += 2)\r\n    bytes.push(String.fromCharCode(parseInt(hex.substr(c, 2), 16)));\r\n  return bytes.join(\"\");\r\n};\r\n\r\n/**\r\n * Computes the 'O' field in the encryption dictionary\r\n *\r\n * @name processOwnerPassword\r\n * @function\r\n * @param {String} paddedUserPassword Byte string of padded user password\r\n * @param {String} paddedOwnerPassword Byte string of padded owner password\r\n * @returns {String}\r\n */\r\nPDFSecurity.prototype.processOwnerPassword = function(\r\n  paddedUserPassword,\r\n  paddedOwnerPassword\r\n) {\r\n  let key = md5Bin(paddedOwnerPassword).substr(0, 5);\r\n  return rc4(key, paddedUserPassword);\r\n};\r\n\r\n/**\r\n * Returns an encryptor function which can take in a byte string and returns the encrypted version\r\n *\r\n * @name encryptor\r\n * @function\r\n * @param {number} objectId\r\n * @param {number} generation Not sure what this is for, you can set it to 0\r\n * @returns {Function}\r\n * @example\r\n * out(\"stream\");\r\n * encryptor = security.encryptor(object.id, 0);\r\n * out(encryptor(data));\r\n * out(\"endstream\");\r\n */\r\nPDFSecurity.prototype.encryptor = function(objectId, generation) {\r\n  let key = md5Bin(\r\n    this.encryptionKey +\r\n      String.fromCharCode(\r\n        objectId & 0xff,\r\n        (objectId >> 8) & 0xff,\r\n        (objectId >> 16) & 0xff,\r\n        generation & 0xff,\r\n        (generation >> 8) & 0xff\r\n      )\r\n  ).substr(0, 10);\r\n  return function(data) {\r\n    return rc4(key, data);\r\n  };\r\n};\r\n\r\nexport { PDFSecurity };\r\n","/**\n * @license\n * Joseph Myers does not specify a particular license for his work.\n *\n * Author: Joseph Myers\n * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js\n *\n * Modified by: Owen Leong\n */\n\nfunction md5cycle(x, k) {\n  var a = x[0],\n    b = x[1],\n    c = x[2],\n    d = x[3];\n\n  a = ff(a, b, c, d, k[0], 7, -680876936);\n  d = ff(d, a, b, c, k[1], 12, -389564586);\n  c = ff(c, d, a, b, k[2], 17, 606105819);\n  b = ff(b, c, d, a, k[3], 22, -1044525330);\n  a = ff(a, b, c, d, k[4], 7, -176418897);\n  d = ff(d, a, b, c, k[5], 12, 1200080426);\n  c = ff(c, d, a, b, k[6], 17, -1473231341);\n  b = ff(b, c, d, a, k[7], 22, -45705983);\n  a = ff(a, b, c, d, k[8], 7, 1770035416);\n  d = ff(d, a, b, c, k[9], 12, -1958414417);\n  c = ff(c, d, a, b, k[10], 17, -42063);\n  b = ff(b, c, d, a, k[11], 22, -1990404162);\n  a = ff(a, b, c, d, k[12], 7, 1804603682);\n  d = ff(d, a, b, c, k[13], 12, -40341101);\n  c = ff(c, d, a, b, k[14], 17, -1502002290);\n  b = ff(b, c, d, a, k[15], 22, 1236535329);\n\n  a = gg(a, b, c, d, k[1], 5, -165796510);\n  d = gg(d, a, b, c, k[6], 9, -1069501632);\n  c = gg(c, d, a, b, k[11], 14, 643717713);\n  b = gg(b, c, d, a, k[0], 20, -373897302);\n  a = gg(a, b, c, d, k[5], 5, -701558691);\n  d = gg(d, a, b, c, k[10], 9, 38016083);\n  c = gg(c, d, a, b, k[15], 14, -660478335);\n  b = gg(b, c, d, a, k[4], 20, -405537848);\n  a = gg(a, b, c, d, k[9], 5, 568446438);\n  d = gg(d, a, b, c, k[14], 9, -1019803690);\n  c = gg(c, d, a, b, k[3], 14, -187363961);\n  b = gg(b, c, d, a, k[8], 20, 1163531501);\n  a = gg(a, b, c, d, k[13], 5, -1444681467);\n  d = gg(d, a, b, c, k[2], 9, -51403784);\n  c = gg(c, d, a, b, k[7], 14, 1735328473);\n  b = gg(b, c, d, a, k[12], 20, -1926607734);\n\n  a = hh(a, b, c, d, k[5], 4, -378558);\n  d = hh(d, a, b, c, k[8], 11, -2022574463);\n  c = hh(c, d, a, b, k[11], 16, 1839030562);\n  b = hh(b, c, d, a, k[14], 23, -35309556);\n  a = hh(a, b, c, d, k[1], 4, -1530992060);\n  d = hh(d, a, b, c, k[4], 11, 1272893353);\n  c = hh(c, d, a, b, k[7], 16, -155497632);\n  b = hh(b, c, d, a, k[10], 23, -1094730640);\n  a = hh(a, b, c, d, k[13], 4, 681279174);\n  d = hh(d, a, b, c, k[0], 11, -358537222);\n  c = hh(c, d, a, b, k[3], 16, -722521979);\n  b = hh(b, c, d, a, k[6], 23, 76029189);\n  a = hh(a, b, c, d, k[9], 4, -640364487);\n  d = hh(d, a, b, c, k[12], 11, -421815835);\n  c = hh(c, d, a, b, k[15], 16, 530742520);\n  b = hh(b, c, d, a, k[2], 23, -995338651);\n\n  a = ii(a, b, c, d, k[0], 6, -198630844);\n  d = ii(d, a, b, c, k[7], 10, 1126891415);\n  c = ii(c, d, a, b, k[14], 15, -1416354905);\n  b = ii(b, c, d, a, k[5], 21, -57434055);\n  a = ii(a, b, c, d, k[12], 6, 1700485571);\n  d = ii(d, a, b, c, k[3], 10, -1894986606);\n  c = ii(c, d, a, b, k[10], 15, -1051523);\n  b = ii(b, c, d, a, k[1], 21, -2054922799);\n  a = ii(a, b, c, d, k[8], 6, 1873313359);\n  d = ii(d, a, b, c, k[15], 10, -30611744);\n  c = ii(c, d, a, b, k[6], 15, -1560198380);\n  b = ii(b, c, d, a, k[13], 21, 1309151649);\n  a = ii(a, b, c, d, k[4], 6, -145523070);\n  d = ii(d, a, b, c, k[11], 10, -1120210379);\n  c = ii(c, d, a, b, k[2], 15, 718787259);\n  b = ii(b, c, d, a, k[9], 21, -343485551);\n\n  x[0] = add32(a, x[0]);\n  x[1] = add32(b, x[1]);\n  x[2] = add32(c, x[2]);\n  x[3] = add32(d, x[3]);\n}\n\nfunction cmn(q, a, b, x, s, t) {\n  a = add32(add32(a, q), add32(x, t));\n  return add32((a << s) | (a >>> (32 - s)), b);\n}\n\nfunction ff(a, b, c, d, x, s, t) {\n  return cmn((b & c) | (~b & d), a, b, x, s, t);\n}\n\nfunction gg(a, b, c, d, x, s, t) {\n  return cmn((b & d) | (c & ~d), a, b, x, s, t);\n}\n\nfunction hh(a, b, c, d, x, s, t) {\n  return cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction ii(a, b, c, d, x, s, t) {\n  return cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nfunction md51(s) {\n  // txt = '';\n  var n = s.length,\n    state = [1732584193, -271733879, -1732584194, 271733878],\n    i;\n  for (i = 64; i <= s.length; i += 64) {\n    md5cycle(state, md5blk(s.substring(i - 64, i)));\n  }\n  s = s.substring(i - 64);\n  var tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n  for (i = 0; i < s.length; i++)\n    tail[i >> 2] |= s.charCodeAt(i) << (i % 4 << 3);\n  tail[i >> 2] |= 0x80 << (i % 4 << 3);\n  if (i > 55) {\n    md5cycle(state, tail);\n    for (i = 0; i < 16; i++) tail[i] = 0;\n  }\n  tail[14] = n * 8;\n  md5cycle(state, tail);\n  return state;\n}\n\n/* there needs to be support for Unicode here,\n * unless we pretend that we can redefine the MD-5\n * algorithm for multi-byte characters (perhaps\n * by adding every four 16-bit characters and\n * shortening the sum to 32 bits). Otherwise\n * I suggest performing MD-5 as if every character\n * was two bytes--e.g., 0040 0025 = @%--but then\n * how will an ordinary MD-5 sum be matched?\n * There is no way to standardize text to something\n * like UTF-8 before transformation; speed cost is\n * utterly prohibitive. The JavaScript standard\n * itself needs to look at this: it should start\n * providing access to strings as preformed UTF-8\n * 8-bit unsigned value arrays.\n */\nfunction md5blk(s) {\n  /* I figured global was faster.   */\n  var md5blks = [],\n    i; /* Andy King said do it this way. */\n  for (i = 0; i < 64; i += 4) {\n    md5blks[i >> 2] =\n      s.charCodeAt(i) +\n      (s.charCodeAt(i + 1) << 8) +\n      (s.charCodeAt(i + 2) << 16) +\n      (s.charCodeAt(i + 3) << 24);\n  }\n  return md5blks;\n}\n\nvar hex_chr = \"0123456789abcdef\".split(\"\");\n\nfunction rhex(n) {\n  var s = \"\",\n    j = 0;\n  for (; j < 4; j++)\n    s += hex_chr[(n >> (j * 8 + 4)) & 0x0f] + hex_chr[(n >> (j * 8)) & 0x0f];\n  return s;\n}\n\nfunction hex(x) {\n  for (var i = 0; i < x.length; i++) x[i] = rhex(x[i]);\n  return x.join(\"\");\n}\n\n// Converts a 4-byte number to byte string\nfunction singleToByteString(n) {\n  return String.fromCharCode(\n    (n & 0xff) >> 0,\n    (n & 0xff00) >> 8,\n    (n & 0xff0000) >> 16,\n    (n & 0xff000000) >> 24\n  );\n}\n\n// Converts an array of numbers to a byte string\nfunction toByteString(x) {\n  return x.map(singleToByteString).join(\"\");\n}\n\n// Returns the MD5 hash as a byte string\nfunction md5Bin(s) {\n  return toByteString(md51(s));\n}\n\n// Returns MD5 hash as a hex string\nfunction md5(s) {\n  return hex(md51(s));\n}\n\nvar md5Check = md5(\"hello\") != \"5d41402abc4b2a76b9719d911017c592\";\n\nfunction add32(a, b) {\n  if (md5Check) {\n    /* if the md5Check does not match\n     the expected value, we're dealing\n     with an old browser and need\n     this function. */\n    var lsw = (a & 0xffff) + (b & 0xffff),\n      msw = (a >> 16) + (b >> 16) + (lsw >> 16);\n    return (msw << 16) | (lsw & 0xffff);\n  } else {\n    /* this function is much faster,\n    so if possible we use it. Some IEs\n    are the only ones I know of that\n    need the idiotic second function,\n    generated by an if clause.  */\n    return (a + b) & 0xffffffff;\n  }\n}\n\nexport { md5, md5Bin };\n","/**\r\n * @license\r\n * FPDF is released under a permissive license: there is no usage restriction.\r\n * You may embed it freely in your application (commercial or not), with or\r\n * without modifications.\r\n *\r\n * Reference: http://www.fpdf.org/en/script/script37.php\r\n */\r\n\r\nfunction repeat(str, num) {\r\n  return new Array(num + 1).join(str);\r\n}\r\n\r\n/**\r\n * Converts a byte string to a hex string\r\n *\r\n * @name rc4\r\n * @function\r\n * @param {string} key Byte string of encryption key\r\n * @param {string} data Byte string of data to be encrypted\r\n * @returns {string} Encrypted string\r\n */\r\nfunction rc4(key, data) {\r\n  var lastKey, lastState;\r\n  if (key !== lastKey) {\r\n    var k = repeat(key, ((256 / key.length) >> 0) + 1);\r\n    var state = [];\r\n    for (var i = 0; i < 256; i++) {\r\n      state[i] = i;\r\n    }\r\n    var j = 0;\r\n    for (var i = 0; i < 256; i++) {\r\n      var t = state[i];\r\n      j = (j + t + k.charCodeAt(i)) % 256;\r\n      state[i] = state[j];\r\n      state[j] = t;\r\n    }\r\n    lastKey = key;\r\n    lastState = state;\r\n  } else {\r\n    state = lastState;\r\n  }\r\n  var length = data.length;\r\n  var a = 0;\r\n  var b = 0;\r\n  var out = \"\";\r\n  for (var i = 0; i < length; i++) {\r\n    a = (a + 1) % 256;\r\n    t = state[a];\r\n    b = (b + t) % 256;\r\n    state[a] = state[b];\r\n    state[b] = t;\r\n    k = state[(state[a] + state[b]) % 256];\r\n    out += String.fromCharCode(data.charCodeAt(i) ^ k);\r\n  }\r\n  return out;\r\n}\r\n\r\nexport { rc4 };\r\n","/**\n * Convert string to `PDF Name Object`.\n * Detail: PDF Reference 1.3 - Chapter 3.2.4 Name Object\n * @param str\n */\nfunction toPDFName(str) {\n  // eslint-disable-next-line no-control-regex\n  if (/[^\\u0000-\\u00ff]/.test(str)) {\n    // non ascii string\n    throw new Error(\n      \"Invalid PDF Name Object: \" + str + \", Only accept ASCII characters.\"\n    );\n  }\n  var result = \"\",\n    strLength = str.length;\n  for (var i = 0; i < strLength; i++) {\n    var charCode = str.charCodeAt(i);\n    if (\n      charCode < 0x21 ||\n      charCode === 0x23 /* # */ ||\n      charCode === 0x25 /* % */ ||\n      charCode === 0x28 /* ( */ ||\n      charCode === 0x29 /* ) */ ||\n      charCode === 0x2f /* / */ ||\n      charCode === 0x3c /* < */ ||\n      charCode === 0x3e /* > */ ||\n      charCode === 0x5b /* [ */ ||\n      charCode === 0x5d /* ] */ ||\n      charCode === 0x7b /* { */ ||\n      charCode === 0x7d /* } */ ||\n      charCode > 0x7e\n    ) {\n      // Char    CharCode    hexStr   paddingHexStr    Result\n      // \"\\t\"    9           9        09               #09\n      // \" \"     32          20       20               #20\n      // \"©\"     169         a9       a9               #a9\n      var hexStr = charCode.toString(16),\n        paddingHexStr = (\"0\" + hexStr).slice(-2);\n\n      result += \"#\" + paddingHexStr;\n    } else {\n      // Other ASCII printable characters between 0x21 <= X <= 0x7e\n      result += str[i];\n    }\n  }\n  return result;\n}\n\nexport { toPDFName };\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","/** @license\n * jsPDF addImage plugin\n * Copyright (c) 2012 Jason Siefken, https://github.com/siefkenj/\n *               2013 Chris Dowling, https://github.com/gingerchris\n *               2013 Trinh Ho, https://github.com/ineedfat\n *               2013 Edwin Alejandro Perez, https://github.com/eaparango\n *               2013 Norah Smith, https://github.com/burnburnrocket\n *               2014 Diego Casorran, https://github.com/diegocr\n *               2014 James Robb, https://github.com/jamesbrobb\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n/**\n * @name addImage\n * @module\n */\n\nimport { jsPDF } from \"../jspdf.js\";\nimport { atob, btoa } from \"../libs/AtobBtoa.js\";\n\n(function(jsPDFAPI) {\n  \"use strict\";\n\n  var namespace = \"addImage_\";\n  jsPDFAPI.__addimage__ = {};\n\n  var UNKNOWN = \"UNKNOWN\";\n\n  // Heuristic selection of a good batch for large array .apply. Not limiting make the call overflow.\n  // With too small batch iteration will be slow as more calls are made,\n  // higher values cause larger and slower garbage collection.\n  var ARRAY_APPLY_BATCH = 8192;\n\n  var imageFileTypeHeaders = {\n    PNG: [[0x89, 0x50, 0x4e, 0x47]],\n    TIFF: [\n      [0x4d, 0x4d, 0x00, 0x2a], //Motorola\n      [0x49, 0x49, 0x2a, 0x00] //Intel\n    ],\n    JPEG: [\n      [\n        0xff,\n        0xd8,\n        0xff,\n        0xe0,\n        undefined,\n        undefined,\n        0x4a,\n        0x46,\n        0x49,\n        0x46,\n        0x00\n      ], //JFIF\n      [\n        0xff,\n        0xd8,\n        0xff,\n        0xe1,\n        undefined,\n        undefined,\n        0x45,\n        0x78,\n        0x69,\n        0x66,\n        0x00,\n        0x00\n      ], //Exif\n      [0xff, 0xd8, 0xff, 0xdb], //JPEG RAW\n      [0xff, 0xd8, 0xff, 0xee] //EXIF RAW\n    ],\n    JPEG2000: [[0x00, 0x00, 0x00, 0x0c, 0x6a, 0x50, 0x20, 0x20]],\n    GIF87a: [[0x47, 0x49, 0x46, 0x38, 0x37, 0x61]],\n    GIF89a: [[0x47, 0x49, 0x46, 0x38, 0x39, 0x61]],\n    WEBP: [\n      [\n        0x52,\n        0x49,\n        0x46,\n        0x46,\n        undefined,\n        undefined,\n        undefined,\n        undefined,\n        0x57,\n        0x45,\n        0x42,\n        0x50\n      ]\n    ],\n    BMP: [\n      [0x42, 0x4d], //BM - Windows 3.1x, 95, NT, ... etc.\n      [0x42, 0x41], //BA - OS/2 struct bitmap array\n      [0x43, 0x49], //CI - OS/2 struct color icon\n      [0x43, 0x50], //CP - OS/2 const color pointer\n      [0x49, 0x43], //IC - OS/2 struct icon\n      [0x50, 0x54] //PT - OS/2 pointer\n    ]\n  };\n\n  /**\n   * Recognize filetype of Image by magic-bytes\n   *\n   * https://en.wikipedia.org/wiki/List_of_file_signatures\n   *\n   * @name getImageFileTypeByImageData\n   * @public\n   * @function\n   * @param {string|arraybuffer} imageData imageData as binary String or arraybuffer\n   * @param {string} format format of file if filetype-recognition fails, e.g. 'JPEG'\n   *\n   * @returns {string} filetype of Image\n   */\n  var getImageFileTypeByImageData = (jsPDFAPI.__addimage__.getImageFileTypeByImageData = function(\n    imageData,\n    fallbackFormat\n  ) {\n    fallbackFormat = fallbackFormat || UNKNOWN;\n    var i;\n    var j;\n    var result = UNKNOWN;\n    var headerSchemata;\n    var compareResult;\n    var fileType;\n\n    if (\n      fallbackFormat === \"RGBA\" ||\n      (imageData.data !== undefined &&\n        imageData.data instanceof Uint8ClampedArray &&\n        \"height\" in imageData &&\n        \"width\" in imageData)\n    ) {\n      return \"RGBA\";\n    }\n\n    if (isArrayBufferView(imageData)) {\n      for (fileType in imageFileTypeHeaders) {\n        headerSchemata = imageFileTypeHeaders[fileType];\n        for (i = 0; i < headerSchemata.length; i += 1) {\n          compareResult = true;\n          for (j = 0; j < headerSchemata[i].length; j += 1) {\n            if (headerSchemata[i][j] === undefined) {\n              continue;\n            }\n            if (headerSchemata[i][j] !== imageData[j]) {\n              compareResult = false;\n              break;\n            }\n          }\n          if (compareResult === true) {\n            result = fileType;\n            break;\n          }\n        }\n      }\n    } else {\n      for (fileType in imageFileTypeHeaders) {\n        headerSchemata = imageFileTypeHeaders[fileType];\n        for (i = 0; i < headerSchemata.length; i += 1) {\n          compareResult = true;\n          for (j = 0; j < headerSchemata[i].length; j += 1) {\n            if (headerSchemata[i][j] === undefined) {\n              continue;\n            }\n            if (headerSchemata[i][j] !== imageData.charCodeAt(j)) {\n              compareResult = false;\n              break;\n            }\n          }\n          if (compareResult === true) {\n            result = fileType;\n            break;\n          }\n        }\n      }\n    }\n\n    if (result === UNKNOWN && fallbackFormat !== UNKNOWN) {\n      result = fallbackFormat;\n    }\n    return result;\n  });\n\n  // Image functionality ported from pdf.js\n  var putImage = function(image) {\n    var out = this.internal.write;\n    var putStream = this.internal.putStream;\n    var getFilters = this.internal.getFilters;\n\n    var filter = getFilters();\n    while (filter.indexOf(\"FlateEncode\") !== -1) {\n      filter.splice(filter.indexOf(\"FlateEncode\"), 1);\n    }\n\n    image.objectId = this.internal.newObject();\n\n    var additionalKeyValues = [];\n    additionalKeyValues.push({ key: \"Type\", value: \"/XObject\" });\n    additionalKeyValues.push({ key: \"Subtype\", value: \"/Image\" });\n    additionalKeyValues.push({ key: \"Width\", value: image.width });\n    additionalKeyValues.push({ key: \"Height\", value: image.height });\n\n    if (image.colorSpace === color_spaces.INDEXED) {\n      additionalKeyValues.push({\n        key: \"ColorSpace\",\n        value:\n          \"[/Indexed /DeviceRGB \" +\n          // if an indexed png defines more than one colour with transparency, we've created a sMask\n          (image.palette.length / 3 - 1) +\n          \" \" +\n          (\"sMask\" in image && typeof image.sMask !== \"undefined\"\n            ? image.objectId + 2\n            : image.objectId + 1) +\n          \" 0 R]\"\n      });\n    } else {\n      additionalKeyValues.push({\n        key: \"ColorSpace\",\n        value: \"/\" + image.colorSpace\n      });\n      if (image.colorSpace === color_spaces.DEVICE_CMYK) {\n        additionalKeyValues.push({ key: \"Decode\", value: \"[1 0 1 0 1 0 1 0]\" });\n      }\n    }\n    additionalKeyValues.push({\n      key: \"BitsPerComponent\",\n      value: image.bitsPerComponent\n    });\n    if (\n      \"decodeParameters\" in image &&\n      typeof image.decodeParameters !== \"undefined\"\n    ) {\n      additionalKeyValues.push({\n        key: \"DecodeParms\",\n        value: \"<<\" + image.decodeParameters + \">>\"\n      });\n    }\n    if (\"transparency\" in image && Array.isArray(image.transparency)) {\n      var transparency = \"\",\n        i = 0,\n        len = image.transparency.length;\n      for (; i < len; i++)\n        transparency +=\n          image.transparency[i] + \" \" + image.transparency[i] + \" \";\n\n      additionalKeyValues.push({\n        key: \"Mask\",\n        value: \"[\" + transparency + \"]\"\n      });\n    }\n    if (typeof image.sMask !== \"undefined\") {\n      additionalKeyValues.push({\n        key: \"SMask\",\n        value: image.objectId + 1 + \" 0 R\"\n      });\n    }\n\n    var alreadyAppliedFilters =\n      typeof image.filter !== \"undefined\" ? [\"/\" + image.filter] : undefined;\n\n    putStream({\n      data: image.data,\n      additionalKeyValues: additionalKeyValues,\n      alreadyAppliedFilters: alreadyAppliedFilters,\n      objectId: image.objectId\n    });\n\n    out(\"endobj\");\n\n    // Soft mask\n    if (\"sMask\" in image && typeof image.sMask !== \"undefined\") {\n      var decodeParameters =\n        \"/Predictor \" +\n        image.predictor +\n        \" /Colors 1 /BitsPerComponent \" +\n        image.bitsPerComponent +\n        \" /Columns \" +\n        image.width;\n      var sMask = {\n        width: image.width,\n        height: image.height,\n        colorSpace: \"DeviceGray\",\n        bitsPerComponent: image.bitsPerComponent,\n        decodeParameters: decodeParameters,\n        data: image.sMask\n      };\n      if (\"filter\" in image) {\n        sMask.filter = image.filter;\n      }\n      putImage.call(this, sMask);\n    }\n\n    //Palette\n    if (image.colorSpace === color_spaces.INDEXED) {\n      var objId = this.internal.newObject();\n      //out('<< /Filter / ' + img['f'] +' /Length ' + img['pal'].length + '>>');\n      //putStream(zlib.compress(img['pal']));\n      putStream({\n        data: arrayBufferToBinaryString(new Uint8Array(image.palette)),\n        objectId: objId\n      });\n      out(\"endobj\");\n    }\n  };\n  var putResourcesCallback = function() {\n    var images = this.internal.collections[namespace + \"images\"];\n    for (var i in images) {\n      putImage.call(this, images[i]);\n    }\n  };\n  var putXObjectsDictCallback = function() {\n    var images = this.internal.collections[namespace + \"images\"],\n      out = this.internal.write,\n      image;\n    for (var i in images) {\n      image = images[i];\n      out(\"/I\" + image.index, image.objectId, \"0\", \"R\");\n    }\n  };\n\n  var checkCompressValue = function(value) {\n    if (value && typeof value === \"string\") value = value.toUpperCase();\n    return value in jsPDFAPI.image_compression ? value : image_compression.NONE;\n  };\n\n  var initialize = function() {\n    if (!this.internal.collections[namespace + \"images\"]) {\n      this.internal.collections[namespace + \"images\"] = {};\n      this.internal.events.subscribe(\"putResources\", putResourcesCallback);\n      this.internal.events.subscribe(\"putXobjectDict\", putXObjectsDictCallback);\n    }\n  };\n\n  var getImages = function() {\n    var images = this.internal.collections[namespace + \"images\"];\n    initialize.call(this);\n    return images;\n  };\n  var getImageIndex = function() {\n    return Object.keys(this.internal.collections[namespace + \"images\"]).length;\n  };\n  var notDefined = function(value) {\n    return typeof value === \"undefined\" || value === null || value.length === 0;\n  };\n  var generateAliasFromImageData = function(imageData) {\n    if (typeof imageData === \"string\" || isArrayBufferView(imageData)) {\n      return sHashCode(imageData);\n    } else if (isArrayBufferView(imageData.data)) {\n      return sHashCode(imageData.data);\n    }\n\n    return null;\n  };\n\n  var isImageTypeSupported = function(type) {\n    return typeof jsPDFAPI[\"process\" + type.toUpperCase()] === \"function\";\n  };\n\n  var isDOMElement = function(object) {\n    return typeof object === \"object\" && object.nodeType === 1;\n  };\n\n  var getImageDataFromElement = function(element, format) {\n    //if element is an image which uses data url definition, just return the dataurl\n    if (element.nodeName === \"IMG\" && element.hasAttribute(\"src\")) {\n      var src = \"\" + element.getAttribute(\"src\");\n\n      //is base64 encoded dataUrl, directly process it\n      if (src.indexOf(\"data:image/\") === 0) {\n        return atob(\n          unescape(src)\n            .split(\"base64,\")\n            .pop()\n        );\n      }\n\n      //it is probably an url, try to load it\n      var tmpImageData = jsPDFAPI.loadFile(src, true);\n      if (tmpImageData !== undefined) {\n        return tmpImageData;\n      }\n    }\n\n    if (element.nodeName === \"CANVAS\") {\n      if (element.width === 0 || element.height === 0) {\n        throw new Error(\n          \"Given canvas must have data. Canvas width: \" +\n            element.width +\n            \", height: \" +\n            element.height\n        );\n      }\n      var mimeType;\n      switch (format) {\n        case \"PNG\":\n          mimeType = \"image/png\";\n          break;\n        case \"WEBP\":\n          mimeType = \"image/webp\";\n          break;\n        case \"JPEG\":\n        case \"JPG\":\n        default:\n          mimeType = \"image/jpeg\";\n          break;\n      }\n      return atob(\n        element\n          .toDataURL(mimeType, 1.0)\n          .split(\"base64,\")\n          .pop()\n      );\n    }\n  };\n\n  var checkImagesForAlias = function(alias) {\n    var images = this.internal.collections[namespace + \"images\"];\n    if (images) {\n      for (var e in images) {\n        if (alias === images[e].alias) {\n          return images[e];\n        }\n      }\n    }\n  };\n\n  var determineWidthAndHeight = function(width, height, image) {\n    if (!width && !height) {\n      width = -96;\n      height = -96;\n    }\n    if (width < 0) {\n      width = (-1 * image.width * 72) / width / this.internal.scaleFactor;\n    }\n    if (height < 0) {\n      height = (-1 * image.height * 72) / height / this.internal.scaleFactor;\n    }\n    if (width === 0) {\n      width = (height * image.width) / image.height;\n    }\n    if (height === 0) {\n      height = (width * image.height) / image.width;\n    }\n\n    return [width, height];\n  };\n\n  var writeImageToPDF = function(x, y, width, height, image, rotation) {\n    var dims = determineWidthAndHeight.call(this, width, height, image),\n      coord = this.internal.getCoordinateString,\n      vcoord = this.internal.getVerticalCoordinateString;\n\n    var images = getImages.call(this);\n\n    width = dims[0];\n    height = dims[1];\n    images[image.index] = image;\n\n    if (rotation) {\n      rotation *= Math.PI / 180;\n      var c = Math.cos(rotation);\n      var s = Math.sin(rotation);\n      //like in pdf Reference do it 4 digits instead of 2\n      var f4 = function(number) {\n        return number.toFixed(4);\n      };\n      var rotationTransformationMatrix = [\n        f4(c),\n        f4(s),\n        f4(s * -1),\n        f4(c),\n        0,\n        0,\n        \"cm\"\n      ];\n    }\n    this.internal.write(\"q\"); //Save graphics state\n    if (rotation) {\n      this.internal.write(\n        [1, \"0\", \"0\", 1, coord(x), vcoord(y + height), \"cm\"].join(\" \")\n      ); //Translate\n      this.internal.write(rotationTransformationMatrix.join(\" \")); //Rotate\n      this.internal.write(\n        [coord(width), \"0\", \"0\", coord(height), \"0\", \"0\", \"cm\"].join(\" \")\n      ); //Scale\n    } else {\n      this.internal.write(\n        [\n          coord(width),\n          \"0\",\n          \"0\",\n          coord(height),\n          coord(x),\n          vcoord(y + height),\n          \"cm\"\n        ].join(\" \")\n      ); //Translate and Scale\n    }\n\n    if (this.isAdvancedAPI()) {\n      // draw image bottom up when in \"advanced\" API mode\n      this.internal.write([1, 0, 0, -1, 0, 0, \"cm\"].join(\" \"));\n    }\n\n    this.internal.write(\"/I\" + image.index + \" Do\"); //Paint Image\n    this.internal.write(\"Q\"); //Restore graphics state\n  };\n\n  /**\n   * COLOR SPACES\n   */\n  var color_spaces = (jsPDFAPI.color_spaces = {\n    DEVICE_RGB: \"DeviceRGB\",\n    DEVICE_GRAY: \"DeviceGray\",\n    DEVICE_CMYK: \"DeviceCMYK\",\n    CAL_GREY: \"CalGray\",\n    CAL_RGB: \"CalRGB\",\n    LAB: \"Lab\",\n    ICC_BASED: \"ICCBased\",\n    INDEXED: \"Indexed\",\n    PATTERN: \"Pattern\",\n    SEPARATION: \"Separation\",\n    DEVICE_N: \"DeviceN\"\n  });\n\n  /**\n   * DECODE METHODS\n   */\n  jsPDFAPI.decode = {\n    DCT_DECODE: \"DCTDecode\",\n    FLATE_DECODE: \"FlateDecode\",\n    LZW_DECODE: \"LZWDecode\",\n    JPX_DECODE: \"JPXDecode\",\n    JBIG2_DECODE: \"JBIG2Decode\",\n    ASCII85_DECODE: \"ASCII85Decode\",\n    ASCII_HEX_DECODE: \"ASCIIHexDecode\",\n    RUN_LENGTH_DECODE: \"RunLengthDecode\",\n    CCITT_FAX_DECODE: \"CCITTFaxDecode\"\n  };\n\n  /**\n   * IMAGE COMPRESSION TYPES\n   */\n  var image_compression = (jsPDFAPI.image_compression = {\n    NONE: \"NONE\",\n    FAST: \"FAST\",\n    MEDIUM: \"MEDIUM\",\n    SLOW: \"SLOW\"\n  });\n\n  /**\n   * @name sHashCode\n   * @function\n   * @param {string} data\n   * @returns {string}\n   */\n  var sHashCode = (jsPDFAPI.__addimage__.sHashCode = function(data) {\n    var hash = 0,\n      i,\n      len;\n\n    if (typeof data === \"string\") {\n      len = data.length;\n      for (i = 0; i < len; i++) {\n        hash = (hash << 5) - hash + data.charCodeAt(i);\n        hash |= 0; // Convert to 32bit integer\n      }\n    } else if (isArrayBufferView(data)) {\n      len = data.byteLength / 2;\n      for (i = 0; i < len; i++) {\n        hash = (hash << 5) - hash + data[i];\n        hash |= 0; // Convert to 32bit integer\n      }\n    }\n    return hash;\n  });\n\n  /**\n   * Validates if given String is a valid Base64-String\n   *\n   * @name validateStringAsBase64\n   * @public\n   * @function\n   * @param {String} possible Base64-String\n   *\n   * @returns {boolean}\n   */\n  var validateStringAsBase64 = (jsPDFAPI.__addimage__.validateStringAsBase64 = function(\n    possibleBase64String\n  ) {\n    possibleBase64String = possibleBase64String || \"\";\n    possibleBase64String.toString().trim();\n\n    var result = true;\n\n    if (possibleBase64String.length === 0) {\n      result = false;\n    }\n\n    if (possibleBase64String.length % 4 !== 0) {\n      result = false;\n    }\n\n    if (\n      /^[A-Za-z0-9+/]+$/.test(\n        possibleBase64String.substr(0, possibleBase64String.length - 2)\n      ) === false\n    ) {\n      result = false;\n    }\n\n    if (\n      /^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(\n        possibleBase64String.substr(-2)\n      ) === false\n    ) {\n      result = false;\n    }\n    return result;\n  });\n\n  /**\n   * Strips out and returns info from a valid base64 data URI\n   *\n   * @name extractImageFromDataUrl\n   * @function\n   * @param {string} dataUrl a valid data URI of format 'data:[<MIME-type>][;base64],<data>'\n   * @returns {Array}an Array containing the following\n   * [0] the complete data URI\n   * [1] <MIME-type>\n   * [2] format - the second part of the mime-type i.e 'png' in 'image/png'\n   * [4] <data>\n   */\n  var extractImageFromDataUrl = (jsPDFAPI.__addimage__.extractImageFromDataUrl = function(\n    dataUrl\n  ) {\n    dataUrl = dataUrl || \"\";\n    var dataUrlParts = dataUrl.split(\"base64,\");\n    var result = null;\n\n    if (dataUrlParts.length === 2) {\n      var extractedInfo = /^data:(\\w*\\/\\w*);*(charset=(?!charset=)[\\w=-]*)*;*$/.exec(\n        dataUrlParts[0]\n      );\n      if (Array.isArray(extractedInfo)) {\n        result = {\n          mimeType: extractedInfo[1],\n          charset: extractedInfo[2],\n          data: dataUrlParts[1]\n        };\n      }\n    }\n    return result;\n  });\n\n  /**\n   * Check to see if ArrayBuffer is supported\n   *\n   * @name supportsArrayBuffer\n   * @function\n   * @returns {boolean}\n   */\n  var supportsArrayBuffer = (jsPDFAPI.__addimage__.supportsArrayBuffer = function() {\n    return (\n      typeof ArrayBuffer !== \"undefined\" && typeof Uint8Array !== \"undefined\"\n    );\n  });\n\n  /**\n   * Tests supplied object to determine if ArrayBuffer\n   *\n   * @name isArrayBuffer\n   * @function\n   * @param {Object} object an Object\n   *\n   * @returns {boolean}\n   */\n  jsPDFAPI.__addimage__.isArrayBuffer = function(object) {\n    return supportsArrayBuffer() && object instanceof ArrayBuffer;\n  };\n\n  /**\n   * Tests supplied object to determine if it implements the ArrayBufferView (TypedArray) interface\n   *\n   * @name isArrayBufferView\n   * @function\n   * @param {Object} object an Object\n   * @returns {boolean}\n   */\n  var isArrayBufferView = (jsPDFAPI.__addimage__.isArrayBufferView = function(\n    object\n  ) {\n    return (\n      supportsArrayBuffer() &&\n      typeof Uint32Array !== \"undefined\" &&\n      (object instanceof Int8Array ||\n        object instanceof Uint8Array ||\n        (typeof Uint8ClampedArray !== \"undefined\" &&\n          object instanceof Uint8ClampedArray) ||\n        object instanceof Int16Array ||\n        object instanceof Uint16Array ||\n        object instanceof Int32Array ||\n        object instanceof Uint32Array ||\n        object instanceof Float32Array ||\n        object instanceof Float64Array)\n    );\n  });\n\n  /**\n   * Convert Binary String to ArrayBuffer\n   *\n   * @name binaryStringToUint8Array\n   * @public\n   * @function\n   * @param {string} BinaryString with ImageData\n   * @returns {Uint8Array}\n   */\n  var binaryStringToUint8Array = (jsPDFAPI.__addimage__.binaryStringToUint8Array = function(\n    binary_string\n  ) {\n    var len = binary_string.length;\n    var bytes = new Uint8Array(len);\n    for (var i = 0; i < len; i++) {\n      bytes[i] = binary_string.charCodeAt(i);\n    }\n    return bytes;\n  });\n\n  /**\n   * Convert the Buffer to a Binary String\n   *\n   * @name arrayBufferToBinaryString\n   * @public\n   * @function\n   * @param {ArrayBuffer|ArrayBufferView} ArrayBuffer buffer or bufferView with ImageData\n   *\n   * @returns {String}\n   */\n  var arrayBufferToBinaryString = (jsPDFAPI.__addimage__.arrayBufferToBinaryString = function(\n    buffer\n  ) {\n    var out = \"\";\n    // There are calls with both ArrayBuffer and already converted Uint8Array or other BufferView.\n    // Do not copy the array if input is already an array.\n    var buf = isArrayBufferView(buffer) ? buffer : new Uint8Array(buffer);\n    for (var i = 0; i < buf.length; i += ARRAY_APPLY_BATCH) {\n      // Limit the amount of characters being parsed to prevent overflow.\n      // Note that while TextDecoder would be faster, it does not have the same\n      // functionality as fromCharCode with any provided encodings as of 3/2021.\n      out += String.fromCharCode.apply(\n        null,\n        buf.subarray(i, i + ARRAY_APPLY_BATCH)\n      );\n    }\n    return out;\n  });\n\n  /**\n   * Possible parameter for addImage, an RGBA buffer with size.\n   *\n   * @typedef {Object} RGBAData\n   * @property {Uint8ClampedArray} data - Single dimensional array of RGBA values. For example from canvas getImageData.\n   * @property {number} width - Image width as the data does not carry this information in itself.\n   * @property {number} height - Image height as the data does not carry this information in itself.\n   */\n\n  /**\n   * Adds an Image to the PDF.\n   *\n   * @name addImage\n   * @public\n   * @function\n   * @param {string|HTMLImageElement|HTMLCanvasElement|Uint8Array|RGBAData} imageData imageData as base64 encoded DataUrl or Image-HTMLElement or Canvas-HTMLElement or object containing RGBA array (like output from canvas.getImageData).\n   * @param {string} format format of file if filetype-recognition fails or in case of a Canvas-Element needs to be specified (default for Canvas is JPEG), e.g. 'JPEG', 'PNG', 'WEBP'\n   * @param {number} x x Coordinate (in units declared at inception of PDF document) against left edge of the page\n   * @param {number} y y Coordinate (in units declared at inception of PDF document) against upper edge of the page\n   * @param {number} width width of the image (in units declared at inception of PDF document)\n   * @param {number} height height of the Image (in units declared at inception of PDF document)\n   * @param {string} alias alias of the image (if used multiple times)\n   * @param {string} compression compression of the generated JPEG, can have the values 'NONE', 'FAST', 'MEDIUM' and 'SLOW'\n   * @param {number} rotation rotation of the image in degrees (0-359)\n   *\n   * @returns jsPDF\n   */\n  jsPDFAPI.addImage = function() {\n    var imageData, format, x, y, w, h, alias, compression, rotation;\n\n    imageData = arguments[0];\n    if (typeof arguments[1] === \"number\") {\n      format = UNKNOWN;\n      x = arguments[1];\n      y = arguments[2];\n      w = arguments[3];\n      h = arguments[4];\n      alias = arguments[5];\n      compression = arguments[6];\n      rotation = arguments[7];\n    } else {\n      format = arguments[1];\n      x = arguments[2];\n      y = arguments[3];\n      w = arguments[4];\n      h = arguments[5];\n      alias = arguments[6];\n      compression = arguments[7];\n      rotation = arguments[8];\n    }\n\n    if (\n      typeof imageData === \"object\" &&\n      !isDOMElement(imageData) &&\n      \"imageData\" in imageData\n    ) {\n      var options = imageData;\n\n      imageData = options.imageData;\n      format = options.format || format || UNKNOWN;\n      x = options.x || x || 0;\n      y = options.y || y || 0;\n      w = options.w || options.width || w;\n      h = options.h || options.height || h;\n      alias = options.alias || alias;\n      compression = options.compression || compression;\n      rotation = options.rotation || options.angle || rotation;\n    }\n\n    //If compression is not explicitly set, determine if we should use compression\n    var filter = this.internal.getFilters();\n    if (compression === undefined && filter.indexOf(\"FlateEncode\") !== -1) {\n      compression = \"SLOW\";\n    }\n\n    if (isNaN(x) || isNaN(y)) {\n      throw new Error(\"Invalid coordinates passed to jsPDF.addImage\");\n    }\n\n    initialize.call(this);\n\n    var image = processImageData.call(\n      this,\n      imageData,\n      format,\n      alias,\n      compression\n    );\n\n    writeImageToPDF.call(this, x, y, w, h, image, rotation);\n\n    return this;\n  };\n\n  var processImageData = function(imageData, format, alias, compression) {\n    var result, dataAsBinaryString;\n\n    if (\n      typeof imageData === \"string\" &&\n      getImageFileTypeByImageData(imageData) === UNKNOWN\n    ) {\n      imageData = unescape(imageData);\n      var tmpImageData = convertBase64ToBinaryString(imageData, false);\n\n      if (tmpImageData !== \"\") {\n        imageData = tmpImageData;\n      } else {\n        tmpImageData = jsPDFAPI.loadFile(imageData, true);\n        if (tmpImageData !== undefined) {\n          imageData = tmpImageData;\n        }\n      }\n    }\n\n    if (isDOMElement(imageData)) {\n      imageData = getImageDataFromElement(imageData, format);\n    }\n\n    format = getImageFileTypeByImageData(imageData, format);\n    if (!isImageTypeSupported(format)) {\n      throw new Error(\n        \"addImage does not support files of type '\" +\n          format +\n          \"', please ensure that a plugin for '\" +\n          format +\n          \"' support is added.\"\n      );\n    }\n\n    // now do the heavy lifting\n\n    if (notDefined(alias)) {\n      alias = generateAliasFromImageData(imageData);\n    }\n    result = checkImagesForAlias.call(this, alias);\n\n    if (!result) {\n      if (supportsArrayBuffer()) {\n        // no need to convert if imageData is already uint8array\n        if (!(imageData instanceof Uint8Array) && format !== \"RGBA\") {\n          dataAsBinaryString = imageData;\n          imageData = binaryStringToUint8Array(imageData);\n        }\n      }\n\n      result = this[\"process\" + format.toUpperCase()](\n        imageData,\n        getImageIndex.call(this),\n        alias,\n        checkCompressValue(compression),\n        dataAsBinaryString\n      );\n    }\n\n    if (!result) {\n      throw new Error(\"An unknown error occurred whilst processing the image.\");\n    }\n    return result;\n  };\n\n  /**\n   * @name convertBase64ToBinaryString\n   * @function\n   * @param {string} stringData\n   * @returns {string} binary string\n   */\n  var convertBase64ToBinaryString = (jsPDFAPI.__addimage__.convertBase64ToBinaryString = function(\n    stringData,\n    throwError\n  ) {\n    throwError = typeof throwError === \"boolean\" ? throwError : true;\n    var base64Info;\n    var imageData = \"\";\n    var rawData;\n\n    if (typeof stringData === \"string\") {\n      base64Info = extractImageFromDataUrl(stringData);\n      rawData = base64Info !== null ? base64Info.data : stringData;\n\n      try {\n        imageData = atob(rawData);\n      } catch (e) {\n        if (throwError) {\n          if (!validateStringAsBase64(rawData)) {\n            throw new Error(\n              \"Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString \"\n            );\n          } else {\n            throw new Error(\n              \"atob-Error in jsPDF.convertBase64ToBinaryString \" + e.message\n            );\n          }\n        }\n      }\n    }\n    return imageData;\n  });\n\n  /**\n   * @name getImageProperties\n   * @function\n   * @param {Object} imageData\n   * @returns {Object}\n   */\n  jsPDFAPI.getImageProperties = function(imageData) {\n    var image;\n    var tmpImageData = \"\";\n    var format;\n\n    if (isDOMElement(imageData)) {\n      imageData = getImageDataFromElement(imageData);\n    }\n\n    if (\n      typeof imageData === \"string\" &&\n      getImageFileTypeByImageData(imageData) === UNKNOWN\n    ) {\n      tmpImageData = convertBase64ToBinaryString(imageData, false);\n\n      if (tmpImageData === \"\") {\n        tmpImageData = jsPDFAPI.loadFile(imageData) || \"\";\n      }\n      imageData = tmpImageData;\n    }\n\n    format = getImageFileTypeByImageData(imageData);\n    if (!isImageTypeSupported(format)) {\n      throw new Error(\n        \"addImage does not support files of type '\" +\n          format +\n          \"', please ensure that a plugin for '\" +\n          format +\n          \"' support is added.\"\n      );\n    }\n\n    if (supportsArrayBuffer() && !(imageData instanceof Uint8Array)) {\n      imageData = binaryStringToUint8Array(imageData);\n    }\n\n    image = this[\"process\" + format.toUpperCase()](imageData);\n\n    if (!image) {\n      throw new Error(\"An unknown error occurred whilst processing the image\");\n    }\n\n    image.fileType = format;\n\n    return image;\n  };\n})(jsPDF.API);\n","/**\n * @license\n *\n * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n * ====================================================================\n */\n\nimport { jsPDF } from \"../jspdf.js\";\nimport { zlibSync } from \"../libs/fflate.js\";\nimport { PNG } from \"../libs/png.js\";\n\n/**\n * jsPDF PNG PlugIn\n * @name png_support\n * @module\n */\n(function(jsPDFAPI) {\n  \"use strict\";\n\n  /*\n   * @see http://www.w3.org/TR/PNG-Chunks.html\n   *\n   Color    Allowed      Interpretation\n   Type     Bit Depths\n\n     0       1,2,4,8,16  Each pixel is a grayscale sample.\n\n     2       8,16        Each pixel is an R,G,B triple.\n\n     3       1,2,4,8     Each pixel is a palette index;\n                         a PLTE chunk must appear.\n\n     4       8,16        Each pixel is a grayscale sample,\n                         followed by an alpha sample.\n\n     6       8,16        Each pixel is an R,G,B triple,\n                         followed by an alpha sample.\n  */\n\n  /*\n   * PNG filter method types\n   *\n   * @see http://www.w3.org/TR/PNG-Filters.html\n   * @see http://www.libpng.org/pub/png/book/chapter09.html\n   *\n   * This is what the value 'Predictor' in decode params relates to\n   *\n   * 15 is \"optimal prediction\", which means the prediction algorithm can change from line to line.\n   * In that case, you actually have to read the first byte off each line for the prediction algorthim (which should be 0-4, corresponding to PDF 10-14) and select the appropriate unprediction algorithm based on that byte.\n   *\n     0       None\n     1       Sub\n     2       Up\n     3       Average\n     4       Paeth\n   */\n\n  var canCompress = function(value) {\n    return value !== jsPDFAPI.image_compression.NONE && hasCompressionJS();\n  };\n\n  var hasCompressionJS = function() {\n    return typeof zlibSync === \"function\";\n  };\n  var compressBytes = function(bytes, lineLength, colorsPerPixel, compression) {\n    var level = 4;\n    var filter_method = filterUp;\n\n    switch (compression) {\n      case jsPDFAPI.image_compression.FAST:\n        level = 1;\n        filter_method = filterSub;\n        break;\n\n      case jsPDFAPI.image_compression.MEDIUM:\n        level = 6;\n        filter_method = filterAverage;\n        break;\n\n      case jsPDFAPI.image_compression.SLOW:\n        level = 9;\n        filter_method = filterPaeth;\n        break;\n    }\n\n    bytes = applyPngFilterMethod(\n      bytes,\n      lineLength,\n      colorsPerPixel,\n      filter_method\n    );\n    var dat = zlibSync(bytes, { level: level });\n    return jsPDFAPI.__addimage__.arrayBufferToBinaryString(dat);\n  };\n\n  var applyPngFilterMethod = function(\n    bytes,\n    lineLength,\n    colorsPerPixel,\n    filter_method\n  ) {\n    var lines = bytes.length / lineLength,\n      result = new Uint8Array(bytes.length + lines),\n      filter_methods = getFilterMethods(),\n      line,\n      prevLine,\n      offset;\n\n    for (var i = 0; i < lines; i += 1) {\n      offset = i * lineLength;\n      line = bytes.subarray(offset, offset + lineLength);\n\n      if (filter_method) {\n        result.set(filter_method(line, colorsPerPixel, prevLine), offset + i);\n      } else {\n        var len = filter_methods.length,\n          results = [];\n\n        for (var j; j < len; j += 1) {\n          results[j] = filter_methods[j](line, colorsPerPixel, prevLine);\n        }\n\n        var ind = getIndexOfSmallestSum(results.concat());\n\n        result.set(results[ind], offset + i);\n      }\n\n      prevLine = line;\n    }\n\n    return result;\n  };\n\n  var filterNone = function(line) {\n    /*var result = new Uint8Array(line.length + 1);\n    result[0] = 0;\n    result.set(line, 1);*/\n\n    var result = Array.apply([], line);\n    result.unshift(0);\n\n    return result;\n  };\n\n  var filterSub = function(line, colorsPerPixel) {\n    var result = [],\n      len = line.length,\n      left;\n\n    result[0] = 1;\n\n    for (var i = 0; i < len; i += 1) {\n      left = line[i - colorsPerPixel] || 0;\n      result[i + 1] = (line[i] - left + 0x0100) & 0xff;\n    }\n\n    return result;\n  };\n\n  var filterUp = function(line, colorsPerPixel, prevLine) {\n    var result = [],\n      len = line.length,\n      up;\n\n    result[0] = 2;\n\n    for (var i = 0; i < len; i += 1) {\n      up = (prevLine && prevLine[i]) || 0;\n      result[i + 1] = (line[i] - up + 0x0100) & 0xff;\n    }\n\n    return result;\n  };\n\n  var filterAverage = function(line, colorsPerPixel, prevLine) {\n    var result = [],\n      len = line.length,\n      left,\n      up;\n\n    result[0] = 3;\n\n    for (var i = 0; i < len; i += 1) {\n      left = line[i - colorsPerPixel] || 0;\n      up = (prevLine && prevLine[i]) || 0;\n      result[i + 1] = (line[i] + 0x0100 - ((left + up) >>> 1)) & 0xff;\n    }\n\n    return result;\n  };\n\n  var filterPaeth = function(line, colorsPerPixel, prevLine) {\n    var result = [],\n      len = line.length,\n      left,\n      up,\n      upLeft,\n      paeth;\n\n    result[0] = 4;\n\n    for (var i = 0; i < len; i += 1) {\n      left = line[i - colorsPerPixel] || 0;\n      up = (prevLine && prevLine[i]) || 0;\n      upLeft = (prevLine && prevLine[i - colorsPerPixel]) || 0;\n      paeth = paethPredictor(left, up, upLeft);\n      result[i + 1] = (line[i] - paeth + 0x0100) & 0xff;\n    }\n\n    return result;\n  };\n\n  var paethPredictor = function(left, up, upLeft) {\n    if (left === up && up === upLeft) {\n      return left;\n    }\n    var pLeft = Math.abs(up - upLeft),\n      pUp = Math.abs(left - upLeft),\n      pUpLeft = Math.abs(left + up - upLeft - upLeft);\n    return pLeft <= pUp && pLeft <= pUpLeft\n      ? left\n      : pUp <= pUpLeft\n      ? up\n      : upLeft;\n  };\n\n  var getFilterMethods = function() {\n    return [filterNone, filterSub, filterUp, filterAverage, filterPaeth];\n  };\n\n  var getIndexOfSmallestSum = function(arrays) {\n    var sum = arrays.map(function(value) {\n      return value.reduce(function(pv, cv) {\n        return pv + Math.abs(cv);\n      }, 0);\n    });\n    return sum.indexOf(Math.min.apply(null, sum));\n  };\n\n  var getPredictorFromCompression = function(compression) {\n    var predictor;\n    switch (compression) {\n      case jsPDFAPI.image_compression.FAST:\n        predictor = 11;\n        break;\n\n      case jsPDFAPI.image_compression.MEDIUM:\n        predictor = 13;\n        break;\n\n      case jsPDFAPI.image_compression.SLOW:\n        predictor = 14;\n        break;\n\n      default:\n        predictor = 12;\n        break;\n    }\n    return predictor;\n  };\n\n  /**\n   * @name processPNG\n   * @function\n   * @ignore\n   */\n  jsPDFAPI.processPNG = function(imageData, index, alias, compression) {\n    \"use strict\";\n\n    var colorSpace,\n      filter = this.decode.FLATE_DECODE,\n      bitsPerComponent,\n      image,\n      decodeParameters = \"\",\n      trns,\n      colors,\n      pal,\n      smask,\n      pixels,\n      len,\n      alphaData,\n      imgData,\n      hasColors,\n      pixel,\n      i,\n      n;\n\n    if (this.__addimage__.isArrayBuffer(imageData))\n      imageData = new Uint8Array(imageData);\n\n    if (this.__addimage__.isArrayBufferView(imageData)) {\n      image = new PNG(imageData);\n      imageData = image.imgData;\n      bitsPerComponent = image.bits;\n      colorSpace = image.colorSpace;\n      colors = image.colors;\n\n      /*\n       * colorType 6 - Each pixel is an R,G,B triple, followed by an alpha sample.\n       *\n       * colorType 4 - Each pixel is a grayscale sample, followed by an alpha sample.\n       *\n       * Extract alpha to create two separate images, using the alpha as a sMask\n       */\n      if ([4, 6].indexOf(image.colorType) !== -1) {\n        /*\n         * processes 8 bit RGBA and grayscale + alpha images\n         */\n        if (image.bits === 8) {\n          pixels =\n            image.pixelBitlength == 32\n              ? new Uint32Array(image.decodePixels().buffer)\n              : image.pixelBitlength == 16\n              ? new Uint16Array(image.decodePixels().buffer)\n              : new Uint8Array(image.decodePixels().buffer);\n          len = pixels.length;\n          imgData = new Uint8Array(len * image.colors);\n          alphaData = new Uint8Array(len);\n          var pDiff = image.pixelBitlength - image.bits;\n          i = 0;\n          n = 0;\n          var pbl;\n\n          for (; i < len; i++) {\n            pixel = pixels[i];\n            pbl = 0;\n\n            while (pbl < pDiff) {\n              imgData[n++] = (pixel >>> pbl) & 0xff;\n              pbl = pbl + image.bits;\n            }\n\n            alphaData[i] = (pixel >>> pbl) & 0xff;\n          }\n        }\n\n        /*\n         * processes 16 bit RGBA and grayscale + alpha images\n         */\n        if (image.bits === 16) {\n          pixels = new Uint32Array(image.decodePixels().buffer);\n          len = pixels.length;\n          imgData = new Uint8Array(\n            len * (32 / image.pixelBitlength) * image.colors\n          );\n          alphaData = new Uint8Array(len * (32 / image.pixelBitlength));\n          hasColors = image.colors > 1;\n          i = 0;\n          n = 0;\n          var a = 0;\n\n          while (i < len) {\n            pixel = pixels[i++];\n\n            imgData[n++] = (pixel >>> 0) & 0xff;\n\n            if (hasColors) {\n              imgData[n++] = (pixel >>> 16) & 0xff;\n\n              pixel = pixels[i++];\n              imgData[n++] = (pixel >>> 0) & 0xff;\n            }\n\n            alphaData[a++] = (pixel >>> 16) & 0xff;\n          }\n          bitsPerComponent = 8;\n        }\n\n        if (canCompress(compression)) {\n          imageData = compressBytes(\n            imgData,\n            image.width * image.colors,\n            image.colors,\n            compression\n          );\n          smask = compressBytes(alphaData, image.width, 1, compression);\n        } else {\n          imageData = imgData;\n          smask = alphaData;\n          filter = undefined;\n        }\n      }\n\n      /*\n       * Indexed png. Each pixel is a palette index.\n       */\n      if (image.colorType === 3) {\n        colorSpace = this.color_spaces.INDEXED;\n        pal = image.palette;\n\n        if (image.transparency.indexed) {\n          var trans = image.transparency.indexed;\n          var total = 0;\n          i = 0;\n          len = trans.length;\n\n          for (; i < len; ++i) {\n            total += trans[i];\n          }\n\n          total = total / 255;\n\n          /*\n           * a single color is specified as 100% transparent (0),\n           * so we set trns to use a /Mask with that index\n           */\n          if (total === len - 1 && trans.indexOf(0) !== -1) {\n            trns = [trans.indexOf(0)];\n\n            /*\n             * there's more than one colour within the palette that specifies\n             * a transparency value less than 255, so we unroll the pixels to create an image sMask\n             */\n          } else if (total !== len) {\n            pixels = image.decodePixels();\n            alphaData = new Uint8Array(pixels.length);\n            i = 0;\n            len = pixels.length;\n\n            for (; i < len; i++) {\n              alphaData[i] = trans[pixels[i]];\n            }\n\n            smask = compressBytes(alphaData, image.width, 1);\n          }\n        }\n      }\n\n      var predictor = getPredictorFromCompression(compression);\n\n      if (filter === this.decode.FLATE_DECODE) {\n        decodeParameters = \"/Predictor \" + predictor + \" \";\n      }\n      decodeParameters +=\n        \"/Colors \" +\n        colors +\n        \" /BitsPerComponent \" +\n        bitsPerComponent +\n        \" /Columns \" +\n        image.width;\n\n      if (\n        this.__addimage__.isArrayBuffer(imageData) ||\n        this.__addimage__.isArrayBufferView(imageData)\n      ) {\n        imageData = this.__addimage__.arrayBufferToBinaryString(imageData);\n      }\n\n      if (\n        (smask && this.__addimage__.isArrayBuffer(smask)) ||\n        this.__addimage__.isArrayBufferView(smask)\n      ) {\n        smask = this.__addimage__.arrayBufferToBinaryString(smask);\n      }\n\n      return {\n        alias: alias,\n        data: imageData,\n        index: index,\n        filter: filter,\n        decodeParameters: decodeParameters,\n        transparency: trns,\n        palette: pal,\n        sMask: smask,\n        predictor: predictor,\n        width: image.width,\n        height: image.height,\n        bitsPerComponent: bitsPerComponent,\n        colorSpace: colorSpace\n      };\n    }\n  };\n})(jsPDF.API);\n","// DEFLATE is a complex format; to read this code, you should probably check the RFC first:\n// https://tools.ietf.org/html/rfc1951\n// You may also wish to take a look at the guide I made about this program:\n// https://gist.github.com/101arrowz/253f31eb5abc3d9275ab943003ffecad\n// Much of the following code is similar to that of UZIP.js:\n// https://github.com/photopea/UZIP.js\n// Many optimizations have been made, so the bundle size is ultimately smaller but performance is similar.\n// Sometimes 0 will appear where -1 would be more appropriate. This is because using a uint\n// is better for memory in most engines (I *think*).\nvar ch2 = {};\nvar wk = (function (c, id, msg, transfer, cb) {\n    var u = ch2[id] || (ch2[id] = URL.createObjectURL(new Blob([c], { type: 'text/javascript' })));\n    var w = new Worker(u);\n    w.onerror = function (e) { return cb(e.error, null); };\n    w.onmessage = function (e) { return cb(null, e.data); };\n    w.postMessage(msg, transfer);\n    return w;\n});\n\n// aliases for shorter compressed code (most minifers don't do this)\nvar u8 = Uint8Array, u16 = Uint16Array, u32 = Uint32Array;\n// fixed length extra bits\nvar fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, /* unused */ 0, 0, /* impossible */ 0]);\n// fixed distance extra bits\n// see fleb note\nvar fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, /* unused */ 0, 0]);\n// code length index map\nvar clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n// get base, reverse index map from extra bits\nvar freb = function (eb, start) {\n    var b = new u16(31);\n    for (var i = 0; i < 31; ++i) {\n        b[i] = start += 1 << eb[i - 1];\n    }\n    // numbers here are at max 18 bits\n    var r = new u32(b[30]);\n    for (var i = 1; i < 30; ++i) {\n        for (var j = b[i]; j < b[i + 1]; ++j) {\n            r[j] = ((j - b[i]) << 5) | i;\n        }\n    }\n    return [b, r];\n};\nvar _a = freb(fleb, 2), fl = _a[0], revfl = _a[1];\n// we can ignore the fact that the other numbers are wrong; they never happen anyway\nfl[28] = 258, revfl[258] = 28;\nvar _b = freb(fdeb, 0), fd = _b[0], revfd = _b[1];\n// map of value to reverse (assuming 16 bits)\nvar rev = new u16(32768);\nfor (var i = 0; i < 32768; ++i) {\n    // reverse table algorithm from SO\n    var x = ((i & 0xAAAA) >>> 1) | ((i & 0x5555) << 1);\n    x = ((x & 0xCCCC) >>> 2) | ((x & 0x3333) << 2);\n    x = ((x & 0xF0F0) >>> 4) | ((x & 0x0F0F) << 4);\n    rev[i] = (((x & 0xFF00) >>> 8) | ((x & 0x00FF) << 8)) >>> 1;\n}\n// create huffman tree from u8 \"map\": index -> code length for code index\n// mb (max bits) must be at most 15\n// TODO: optimize/split up?\nvar hMap = (function (cd, mb, r) {\n    var s = cd.length;\n    // index\n    var i = 0;\n    // u16 \"map\": index -> # of codes with bit length = index\n    var l = new u16(mb);\n    // length of cd must be 288 (total # of codes)\n    for (; i < s; ++i)\n        ++l[cd[i] - 1];\n    // u16 \"map\": index -> minimum code for bit length = index\n    var le = new u16(mb);\n    for (i = 0; i < mb; ++i) {\n        le[i] = (le[i - 1] + l[i - 1]) << 1;\n    }\n    var co;\n    if (r) {\n        // u16 \"map\": index -> number of actual bits, symbol for code\n        co = new u16(1 << mb);\n        // bits to remove for reverser\n        var rvb = 15 - mb;\n        for (i = 0; i < s; ++i) {\n            // ignore 0 lengths\n            if (cd[i]) {\n                // num encoding both symbol and bits read\n                var sv = (i << 4) | cd[i];\n                // free bits\n                var r_1 = mb - cd[i];\n                // start value\n                var v = le[cd[i] - 1]++ << r_1;\n                // m is end value\n                for (var m = v | ((1 << r_1) - 1); v <= m; ++v) {\n                    // every 16 bit value starting with the code yields the same result\n                    co[rev[v] >>> rvb] = sv;\n                }\n            }\n        }\n    }\n    else {\n        co = new u16(s);\n        for (i = 0; i < s; ++i)\n            co[i] = rev[le[cd[i] - 1]++] >>> (15 - cd[i]);\n    }\n    return co;\n});\n// fixed length tree\nvar flt = new u8(288);\nfor (var i = 0; i < 144; ++i)\n    flt[i] = 8;\nfor (var i = 144; i < 256; ++i)\n    flt[i] = 9;\nfor (var i = 256; i < 280; ++i)\n    flt[i] = 7;\nfor (var i = 280; i < 288; ++i)\n    flt[i] = 8;\n// fixed distance tree\nvar fdt = new u8(32);\nfor (var i = 0; i < 32; ++i)\n    fdt[i] = 5;\n// fixed length map\nvar flm = /*#__PURE__*/ hMap(flt, 9, 0), flrm = /*#__PURE__*/ hMap(flt, 9, 1);\n// fixed distance map\nvar fdm = /*#__PURE__*/ hMap(fdt, 5, 0), fdrm = /*#__PURE__*/ hMap(fdt, 5, 1);\n// find max of array\nvar max = function (a) {\n    var m = a[0];\n    for (var i = 1; i < a.length; ++i) {\n        if (a[i] > m)\n            m = a[i];\n    }\n    return m;\n};\n// read d, starting at bit p and mask with m\nvar bits = function (d, p, m) {\n    var o = (p / 8) >> 0;\n    return ((d[o] | (d[o + 1] << 8)) >>> (p & 7)) & m;\n};\n// read d, starting at bit p continuing for at least 16 bits\nvar bits16 = function (d, p) {\n    var o = (p / 8) >> 0;\n    return ((d[o] | (d[o + 1] << 8) | (d[o + 2] << 16)) >>> (p & 7));\n};\n// get end of byte\nvar shft = function (p) { return ((p / 8) >> 0) + (p & 7 && 1); };\n// typed array slice - allows garbage collector to free original reference,\n// while being more compatible than .slice\nvar slc = function (v, s, e) {\n    if (s == null || s < 0)\n        s = 0;\n    if (e == null || e > v.length)\n        e = v.length;\n    // can't use .constructor in case user-supplied\n    var n = new (v instanceof u16 ? u16 : v instanceof u32 ? u32 : u8)(e - s);\n    n.set(v.subarray(s, e));\n    return n;\n};\n// expands raw DEFLATE data\nvar inflt = function (dat, buf, st) {\n    // source length\n    var sl = dat.length;\n    // have to estimate size\n    var noBuf = !buf || st;\n    // no state\n    var noSt = !st || st.i;\n    if (!st)\n        st = {};\n    // Assumes roughly 33% compression ratio average\n    if (!buf)\n        buf = new u8(sl * 3);\n    // ensure buffer can fit at least l elements\n    var cbuf = function (l) {\n        var bl = buf.length;\n        // need to increase size to fit\n        if (l > bl) {\n            // Double or set to necessary, whichever is greater\n            var nbuf = new u8(Math.max(bl * 2, l));\n            nbuf.set(buf);\n            buf = nbuf;\n        }\n    };\n    //  last chunk         bitpos           bytes\n    var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;\n    // total bits\n    var tbts = sl * 8;\n    do {\n        if (!lm) {\n            // BFINAL - this is only 1 when last chunk is next\n            st.f = final = bits(dat, pos, 1);\n            // type: 0 = no compression, 1 = fixed huffman, 2 = dynamic huffman\n            var type = bits(dat, pos + 1, 3);\n            pos += 3;\n            if (!type) {\n                // go to end of byte boundary\n                var s = shft(pos) + 4, l = dat[s - 4] | (dat[s - 3] << 8), t = s + l;\n                if (t > sl) {\n                    if (noSt)\n                        throw 'unexpected EOF';\n                    break;\n                }\n                // ensure size\n                if (noBuf)\n                    cbuf(bt + l);\n                // Copy over uncompressed data\n                buf.set(dat.subarray(s, t), bt);\n                // Get new bitpos, update byte count\n                st.b = bt += l, st.p = pos = t * 8;\n                continue;\n            }\n            else if (type == 1)\n                lm = flrm, dm = fdrm, lbt = 9, dbt = 5;\n            else if (type == 2) {\n                //  literal                            lengths\n                var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;\n                var tl = hLit + bits(dat, pos + 5, 31) + 1;\n                pos += 14;\n                // length+distance tree\n                var ldt = new u8(tl);\n                // code length tree\n                var clt = new u8(19);\n                for (var i = 0; i < hcLen; ++i) {\n                    // use index map to get real code\n                    clt[clim[i]] = bits(dat, pos + i * 3, 7);\n                }\n                pos += hcLen * 3;\n                // code lengths bits\n                var clb = max(clt), clbmsk = (1 << clb) - 1;\n                if (!noSt && pos + tl * (clb + 7) > tbts)\n                    break;\n                // code lengths map\n                var clm = hMap(clt, clb, 1);\n                for (var i = 0; i < tl;) {\n                    var r = clm[bits(dat, pos, clbmsk)];\n                    // bits read\n                    pos += r & 15;\n                    // symbol\n                    var s = r >>> 4;\n                    // code length to copy\n                    if (s < 16) {\n                        ldt[i++] = s;\n                    }\n                    else {\n                        //  copy   count\n                        var c = 0, n = 0;\n                        if (s == 16)\n                            n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];\n                        else if (s == 17)\n                            n = 3 + bits(dat, pos, 7), pos += 3;\n                        else if (s == 18)\n                            n = 11 + bits(dat, pos, 127), pos += 7;\n                        while (n--)\n                            ldt[i++] = c;\n                    }\n                }\n                //    length tree                 distance tree\n                var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);\n                // max length bits\n                lbt = max(lt);\n                // max dist bits\n                dbt = max(dt);\n                lm = hMap(lt, lbt, 1);\n                dm = hMap(dt, dbt, 1);\n            }\n            else\n                throw 'invalid block type';\n            if (pos > tbts)\n                throw 'unexpected EOF';\n        }\n        // Make sure the buffer can hold this + the largest possible addition\n        // Maximum chunk size (practically, theoretically infinite) is 2^17;\n        if (noBuf)\n            cbuf(bt + 131072);\n        var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;\n        var mxa = lbt + dbt + 18;\n        while (noSt || pos + mxa < tbts) {\n            // bits read, code\n            var c = lm[bits16(dat, pos) & lms], sym = c >>> 4;\n            pos += c & 15;\n            if (pos > tbts)\n                throw 'unexpected EOF';\n            if (!c)\n                throw 'invalid length/literal';\n            if (sym < 256)\n                buf[bt++] = sym;\n            else if (sym == 256) {\n                lm = null;\n                break;\n            }\n            else {\n                var add = sym - 254;\n                // no extra bits needed if less\n                if (sym > 264) {\n                    // index\n                    var i = sym - 257, b = fleb[i];\n                    add = bits(dat, pos, (1 << b) - 1) + fl[i];\n                    pos += b;\n                }\n                // dist\n                var d = dm[bits16(dat, pos) & dms], dsym = d >>> 4;\n                if (!d)\n                    throw 'invalid distance';\n                pos += d & 15;\n                var dt = fd[dsym];\n                if (dsym > 3) {\n                    var b = fdeb[dsym];\n                    dt += bits16(dat, pos) & ((1 << b) - 1), pos += b;\n                }\n                if (pos > tbts)\n                    throw 'unexpected EOF';\n                if (noBuf)\n                    cbuf(bt + 131072);\n                var end = bt + add;\n                for (; bt < end; bt += 4) {\n                    buf[bt] = buf[bt - dt];\n                    buf[bt + 1] = buf[bt + 1 - dt];\n                    buf[bt + 2] = buf[bt + 2 - dt];\n                    buf[bt + 3] = buf[bt + 3 - dt];\n                }\n                bt = end;\n            }\n        }\n        st.l = lm, st.p = pos, st.b = bt;\n        if (lm)\n            final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n    } while (!final);\n    return bt == buf.length ? buf : slc(buf, 0, bt);\n};\n// starting at p, write the minimum number of bits that can hold v to d\nvar wbits = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) >> 0;\n    d[o] |= v;\n    d[o + 1] |= v >>> 8;\n};\n// starting at p, write the minimum number of bits (>8) that can hold v to d\nvar wbits16 = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) >> 0;\n    d[o] |= v;\n    d[o + 1] |= v >>> 8;\n    d[o + 2] |= v >>> 16;\n};\n// creates code lengths from a frequency table\nvar hTree = function (d, mb) {\n    // Need extra info to make a tree\n    var t = [];\n    for (var i = 0; i < d.length; ++i) {\n        if (d[i])\n            t.push({ s: i, f: d[i] });\n    }\n    var s = t.length;\n    var t2 = t.slice();\n    if (!s)\n        return [new u8(0), 0];\n    if (s == 1) {\n        var v = new u8(t[0].s + 1);\n        v[t[0].s] = 1;\n        return [v, 1];\n    }\n    t.sort(function (a, b) { return a.f - b.f; });\n    // after i2 reaches last ind, will be stopped\n    // freq must be greater than largest possible number of symbols\n    t.push({ s: -1, f: 25001 });\n    var l = t[0], r = t[1], i0 = 0, i1 = 1, i2 = 2;\n    t[0] = { s: -1, f: l.f + r.f, l: l, r: r };\n    // efficient algorithm from UZIP.js\n    // i0 is lookbehind, i2 is lookahead - after processing two low-freq\n    // symbols that combined have high freq, will start processing i2 (high-freq,\n    // non-composite) symbols instead\n    // see https://reddit.com/r/photopea/comments/ikekht/uzipjs_questions/\n    while (i1 != s - 1) {\n        l = t[t[i0].f < t[i2].f ? i0++ : i2++];\n        r = t[i0 != i1 && t[i0].f < t[i2].f ? i0++ : i2++];\n        t[i1++] = { s: -1, f: l.f + r.f, l: l, r: r };\n    }\n    var maxSym = t2[0].s;\n    for (var i = 1; i < s; ++i) {\n        if (t2[i].s > maxSym)\n            maxSym = t2[i].s;\n    }\n    // code lengths\n    var tr = new u16(maxSym + 1);\n    // max bits in tree\n    var mbt = ln(t[i1 - 1], tr, 0);\n    if (mbt > mb) {\n        // more algorithms from UZIP.js\n        // TODO: find out how this code works (debt)\n        //  ind    debt\n        var i = 0, dt = 0;\n        //    left            cost\n        var lft = mbt - mb, cst = 1 << lft;\n        t2.sort(function (a, b) { return tr[b.s] - tr[a.s] || a.f - b.f; });\n        for (; i < s; ++i) {\n            var i2_1 = t2[i].s;\n            if (tr[i2_1] > mb) {\n                dt += cst - (1 << (mbt - tr[i2_1]));\n                tr[i2_1] = mb;\n            }\n            else\n                break;\n        }\n        dt >>>= lft;\n        while (dt > 0) {\n            var i2_2 = t2[i].s;\n            if (tr[i2_2] < mb)\n                dt -= 1 << (mb - tr[i2_2]++ - 1);\n            else\n                ++i;\n        }\n        for (; i >= 0 && dt; --i) {\n            var i2_3 = t2[i].s;\n            if (tr[i2_3] == mb) {\n                --tr[i2_3];\n                ++dt;\n            }\n        }\n        mbt = mb;\n    }\n    return [new u8(tr), mbt];\n};\n// get the max length and assign length codes\nvar ln = function (n, l, d) {\n    return n.s == -1\n        ? Math.max(ln(n.l, l, d + 1), ln(n.r, l, d + 1))\n        : (l[n.s] = d);\n};\n// length codes generation\nvar lc = function (c) {\n    var s = c.length;\n    // Note that the semicolon was intentional\n    while (s && !c[--s])\n        ;\n    var cl = new u16(++s);\n    //  ind      num         streak\n    var cli = 0, cln = c[0], cls = 1;\n    var w = function (v) { cl[cli++] = v; };\n    for (var i = 1; i <= s; ++i) {\n        if (c[i] == cln && i != s)\n            ++cls;\n        else {\n            if (!cln && cls > 2) {\n                for (; cls > 138; cls -= 138)\n                    w(32754);\n                if (cls > 2) {\n                    w(cls > 10 ? ((cls - 11) << 5) | 28690 : ((cls - 3) << 5) | 12305);\n                    cls = 0;\n                }\n            }\n            else if (cls > 3) {\n                w(cln), --cls;\n                for (; cls > 6; cls -= 6)\n                    w(8304);\n                if (cls > 2)\n                    w(((cls - 3) << 5) | 8208), cls = 0;\n            }\n            while (cls--)\n                w(cln);\n            cls = 1;\n            cln = c[i];\n        }\n    }\n    return [cl.subarray(0, cli), s];\n};\n// calculate the length of output from tree, code lengths\nvar clen = function (cf, cl) {\n    var l = 0;\n    for (var i = 0; i < cl.length; ++i)\n        l += cf[i] * cl[i];\n    return l;\n};\n// writes a fixed block\n// returns the new bit pos\nvar wfblk = function (out, pos, dat) {\n    // no need to write 00 as type: TypedArray defaults to 0\n    var s = dat.length;\n    var o = shft(pos + 2);\n    out[o] = s & 255;\n    out[o + 1] = s >>> 8;\n    out[o + 2] = out[o] ^ 255;\n    out[o + 3] = out[o + 1] ^ 255;\n    for (var i = 0; i < s; ++i)\n        out[o + i + 4] = dat[i];\n    return (o + 4 + s) * 8;\n};\n// writes a block\nvar wblk = function (dat, out, final, syms, lf, df, eb, li, bs, bl, p) {\n    wbits(out, p++, final);\n    ++lf[256];\n    var _a = hTree(lf, 15), dlt = _a[0], mlb = _a[1];\n    var _b = hTree(df, 15), ddt = _b[0], mdb = _b[1];\n    var _c = lc(dlt), lclt = _c[0], nlc = _c[1];\n    var _d = lc(ddt), lcdt = _d[0], ndc = _d[1];\n    var lcfreq = new u16(19);\n    for (var i = 0; i < lclt.length; ++i)\n        lcfreq[lclt[i] & 31]++;\n    for (var i = 0; i < lcdt.length; ++i)\n        lcfreq[lcdt[i] & 31]++;\n    var _e = hTree(lcfreq, 7), lct = _e[0], mlcb = _e[1];\n    var nlcc = 19;\n    for (; nlcc > 4 && !lct[clim[nlcc - 1]]; --nlcc)\n        ;\n    var flen = (bl + 5) << 3;\n    var ftlen = clen(lf, flt) + clen(df, fdt) + eb;\n    var dtlen = clen(lf, dlt) + clen(df, ddt) + eb + 14 + 3 * nlcc + clen(lcfreq, lct) + (2 * lcfreq[16] + 3 * lcfreq[17] + 7 * lcfreq[18]);\n    if (flen <= ftlen && flen <= dtlen)\n        return wfblk(out, p, dat.subarray(bs, bs + bl));\n    var lm, ll, dm, dl;\n    wbits(out, p, 1 + (dtlen < ftlen)), p += 2;\n    if (dtlen < ftlen) {\n        lm = hMap(dlt, mlb, 0), ll = dlt, dm = hMap(ddt, mdb, 0), dl = ddt;\n        var llm = hMap(lct, mlcb, 0);\n        wbits(out, p, nlc - 257);\n        wbits(out, p + 5, ndc - 1);\n        wbits(out, p + 10, nlcc - 4);\n        p += 14;\n        for (var i = 0; i < nlcc; ++i)\n            wbits(out, p + 3 * i, lct[clim[i]]);\n        p += 3 * nlcc;\n        var lcts = [lclt, lcdt];\n        for (var it = 0; it < 2; ++it) {\n            var clct = lcts[it];\n            for (var i = 0; i < clct.length; ++i) {\n                var len = clct[i] & 31;\n                wbits(out, p, llm[len]), p += lct[len];\n                if (len > 15)\n                    wbits(out, p, (clct[i] >>> 5) & 127), p += clct[i] >>> 12;\n            }\n        }\n    }\n    else {\n        lm = flm, ll = flt, dm = fdm, dl = fdt;\n    }\n    for (var i = 0; i < li; ++i) {\n        if (syms[i] > 255) {\n            var len = (syms[i] >>> 18) & 31;\n            wbits16(out, p, lm[len + 257]), p += ll[len + 257];\n            if (len > 7)\n                wbits(out, p, (syms[i] >>> 23) & 31), p += fleb[len];\n            var dst = syms[i] & 31;\n            wbits16(out, p, dm[dst]), p += dl[dst];\n            if (dst > 3)\n                wbits16(out, p, (syms[i] >>> 5) & 8191), p += fdeb[dst];\n        }\n        else {\n            wbits16(out, p, lm[syms[i]]), p += ll[syms[i]];\n        }\n    }\n    wbits16(out, p, lm[256]);\n    return p + ll[256];\n};\n// deflate options (nice << 13) | chain\nvar deo = /*#__PURE__*/ new u32([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]);\n// empty\nvar et = /*#__PURE__*/ new u8(0);\n// compresses data into a raw DEFLATE buffer\nvar dflt = function (dat, lvl, plvl, pre, post, lst) {\n    var s = dat.length;\n    var o = new u8(pre + s + 5 * (1 + Math.floor(s / 7000)) + post);\n    // writing to this writes to the output buffer\n    var w = o.subarray(pre, o.length - post);\n    var pos = 0;\n    if (!lvl || s < 8) {\n        for (var i = 0; i <= s; i += 65535) {\n            // end\n            var e = i + 65535;\n            if (e < s) {\n                // write full block\n                pos = wfblk(w, pos, dat.subarray(i, e));\n            }\n            else {\n                // write final block\n                w[i] = lst;\n                pos = wfblk(w, pos, dat.subarray(i, s));\n            }\n        }\n    }\n    else {\n        var opt = deo[lvl - 1];\n        var n = opt >>> 13, c = opt & 8191;\n        var msk_1 = (1 << plvl) - 1;\n        //    prev 2-byte val map    curr 2-byte val map\n        var prev = new u16(32768), head = new u16(msk_1 + 1);\n        var bs1_1 = Math.ceil(plvl / 3), bs2_1 = 2 * bs1_1;\n        var hsh = function (i) { return (dat[i] ^ (dat[i + 1] << bs1_1) ^ (dat[i + 2] << bs2_1)) & msk_1; };\n        // 24576 is an arbitrary number of maximum symbols per block\n        // 424 buffer for last block\n        var syms = new u32(25000);\n        // length/literal freq   distance freq\n        var lf = new u16(288), df = new u16(32);\n        //  l/lcnt  exbits  index  l/lind  waitdx  bitpos\n        var lc_1 = 0, eb = 0, i = 0, li = 0, wi = 0, bs = 0;\n        for (; i < s; ++i) {\n            // hash value\n            var hv = hsh(i);\n            // index mod 32768\n            var imod = i & 32767;\n            // previous index with this value\n            var pimod = head[hv];\n            prev[imod] = pimod;\n            head[hv] = imod;\n            // We always should modify head and prev, but only add symbols if\n            // this data is not yet processed (\"wait\" for wait index)\n            if (wi <= i) {\n                // bytes remaining\n                var rem = s - i;\n                if ((lc_1 > 7000 || li > 24576) && rem > 423) {\n                    pos = wblk(dat, w, 0, syms, lf, df, eb, li, bs, i - bs, pos);\n                    li = lc_1 = eb = 0, bs = i;\n                    for (var j = 0; j < 286; ++j)\n                        lf[j] = 0;\n                    for (var j = 0; j < 30; ++j)\n                        df[j] = 0;\n                }\n                //  len    dist   chain\n                var l = 2, d = 0, ch_1 = c, dif = (imod - pimod) & 32767;\n                if (rem > 2 && hv == hsh(i - dif)) {\n                    var maxn = Math.min(n, rem) - 1;\n                    var maxd = Math.min(32767, i);\n                    // max possible length\n                    // not capped at dif because decompressors implement \"rolling\" index population\n                    var ml = Math.min(258, rem);\n                    while (dif <= maxd && --ch_1 && imod != pimod) {\n                        if (dat[i + l] == dat[i + l - dif]) {\n                            var nl = 0;\n                            for (; nl < ml && dat[i + nl] == dat[i + nl - dif]; ++nl)\n                                ;\n                            if (nl > l) {\n                                l = nl, d = dif;\n                                // break out early when we reach \"nice\" (we are satisfied enough)\n                                if (nl > maxn)\n                                    break;\n                                // now, find the rarest 2-byte sequence within this\n                                // length of literals and search for that instead.\n                                // Much faster than just using the start\n                                var mmd = Math.min(dif, nl - 2);\n                                var md = 0;\n                                for (var j = 0; j < mmd; ++j) {\n                                    var ti = (i - dif + j + 32768) & 32767;\n                                    var pti = prev[ti];\n                                    var cd = (ti - pti + 32768) & 32767;\n                                    if (cd > md)\n                                        md = cd, pimod = ti;\n                                }\n                            }\n                        }\n                        // check the previous match\n                        imod = pimod, pimod = prev[imod];\n                        dif += (imod - pimod + 32768) & 32767;\n                    }\n                }\n                // d will be nonzero only when a match was found\n                if (d) {\n                    // store both dist and len data in one Uint32\n                    // Make sure this is recognized as a len/dist with 28th bit (2^28)\n                    syms[li++] = 268435456 | (revfl[l] << 18) | revfd[d];\n                    var lin = revfl[l] & 31, din = revfd[d] & 31;\n                    eb += fleb[lin] + fdeb[din];\n                    ++lf[257 + lin];\n                    ++df[din];\n                    wi = i + l;\n                    ++lc_1;\n                }\n                else {\n                    syms[li++] = dat[i];\n                    ++lf[dat[i]];\n                }\n            }\n        }\n        pos = wblk(dat, w, lst, syms, lf, df, eb, li, bs, i - bs, pos);\n        // this is the easiest way to avoid needing to maintain state\n        if (!lst)\n            pos = wfblk(w, pos, et);\n    }\n    return slc(o, 0, pre + shft(pos) + post);\n};\n// CRC32 table\nvar crct = /*#__PURE__*/ (function () {\n    var t = new u32(256);\n    for (var i = 0; i < 256; ++i) {\n        var c = i, k = 9;\n        while (--k)\n            c = ((c & 1) && 0xEDB88320) ^ (c >>> 1);\n        t[i] = c;\n    }\n    return t;\n})();\n// CRC32\nvar crc = function () {\n    var c = 0xFFFFFFFF;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var cr = c;\n            for (var i = 0; i < d.length; ++i)\n                cr = crct[(cr & 255) ^ d[i]] ^ (cr >>> 8);\n            c = cr;\n        },\n        d: function () { return c ^ 0xFFFFFFFF; }\n    };\n};\n// Alder32\nvar adler = function () {\n    var a = 1, b = 0;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var n = a, m = b;\n            var l = d.length;\n            for (var i = 0; i != l;) {\n                var e = Math.min(i + 5552, l);\n                for (; i < e; ++i)\n                    n += d[i], m += n;\n                n %= 65521, m %= 65521;\n            }\n            a = n, b = m;\n        },\n        d: function () { return ((a >>> 8) << 16 | (b & 255) << 8 | (b >>> 8)) + ((a & 255) << 23) * 2; }\n    };\n};\n;\n// deflate with opts\nvar dopt = function (dat, opt, pre, post, st) {\n    return dflt(dat, opt.level == null ? 6 : opt.level, opt.mem == null ? Math.ceil(Math.max(8, Math.min(13, Math.log(dat.length))) * 1.5) : (12 + opt.mem), pre, post, !st);\n};\n// Walmart object spread\nvar mrg = function (a, b) {\n    var o = {};\n    for (var k in a)\n        o[k] = a[k];\n    for (var k in b)\n        o[k] = b[k];\n    return o;\n};\n// worker clone\n// This is possibly the craziest part of the entire codebase, despite how simple it may seem.\n// The only parameter to this function is a closure that returns an array of variables outside of the function scope.\n// We're going to try to figure out the variable names used in the closure as strings because that is crucial for workerization.\n// We will return an object mapping of true variable name to value (basically, the current scope as a JS object).\n// The reason we can't just use the original variable names is minifiers mangling the toplevel scope.\n// This took me three weeks to figure out how to do.\nvar wcln = function (fn, fnStr, td) {\n    var dt = fn();\n    var st = fn.toString();\n    var ks = st.slice(st.indexOf('[') + 1, st.lastIndexOf(']')).replace(/ /g, '').split(',');\n    for (var i = 0; i < dt.length; ++i) {\n        var v = dt[i], k = ks[i];\n        if (typeof v == 'function') {\n            fnStr += ';' + k + '=';\n            var st_1 = v.toString();\n            if (v.prototype) {\n                // for global objects\n                if (st_1.indexOf('[native code]') != -1) {\n                    var spInd = st_1.indexOf(' ', 8) + 1;\n                    fnStr += st_1.slice(spInd, st_1.indexOf('(', spInd));\n                }\n                else {\n                    fnStr += st_1;\n                    for (var t in v.prototype)\n                        fnStr += ';' + k + '.prototype.' + t + '=' + v.prototype[t].toString();\n                }\n            }\n            else\n                fnStr += st_1;\n        }\n        else\n            td[k] = v;\n    }\n    return [fnStr, td];\n};\nvar ch = [];\n// clone bufs\nvar cbfs = function (v) {\n    var tl = [];\n    for (var k in v) {\n        if (v[k] instanceof u8 || v[k] instanceof u16 || v[k] instanceof u32)\n            tl.push((v[k] = new v[k].constructor(v[k])).buffer);\n    }\n    return tl;\n};\n// use a worker to execute code\nvar wrkr = function (fns, init, id, cb) {\n    var _a;\n    if (!ch[id]) {\n        var fnStr = '', td_1 = {}, m = fns.length - 1;\n        for (var i = 0; i < m; ++i)\n            _a = wcln(fns[i], fnStr, td_1), fnStr = _a[0], td_1 = _a[1];\n        ch[id] = wcln(fns[m], fnStr, td_1);\n    }\n    var td = mrg({}, ch[id][1]);\n    return wk(ch[id][0] + ';onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage=' + init.toString() + '}', id, td, cbfs(td), cb);\n};\n// base async inflate fn\nvar bInflt = function () { return [u8, u16, u32, fleb, fdeb, clim, fl, fd, flrm, fdrm, rev, hMap, max, bits, bits16, shft, slc, inflt, inflateSync, pbf, gu8]; };\nvar bDflt = function () { return [u8, u16, u32, fleb, fdeb, clim, revfl, revfd, flm, flt, fdm, fdt, rev, deo, et, hMap, wbits, wbits16, hTree, ln, lc, clen, wfblk, wblk, shft, slc, dflt, dopt, deflateSync, pbf]; };\n// gzip extra\nvar gze = function () { return [gzh, gzhl, wbytes, crc, crct]; };\n// gunzip extra\nvar guze = function () { return [gzs, gzl]; };\n// zlib extra\nvar zle = function () { return [zlh, wbytes, adler]; };\n// unzlib extra\nvar zule = function () { return [zlv]; };\n// post buf\nvar pbf = function (msg) { return postMessage(msg, [msg.buffer]); };\n// get u8\nvar gu8 = function (o) { return o && o.size && new u8(o.size); };\n// async helper\nvar cbify = function (dat, opts, fns, init, id, cb) {\n    var w = wrkr(fns, init, id, function (err, dat) {\n        w.terminate();\n        cb(err, dat);\n    });\n    if (!opts.consume)\n        dat = new u8(dat);\n    w.postMessage([dat, opts], [dat.buffer]);\n    return function () { w.terminate(); };\n};\n// auto stream\nvar astrm = function (strm) {\n    strm.ondata = function (dat, final) { return postMessage([dat, final], [dat.buffer]); };\n    return function (ev) { return strm.push(ev.data[0], ev.data[1]); };\n};\n// async stream attach\nvar astrmify = function (fns, strm, opts, init, id) {\n    var t;\n    var w = wrkr(fns, init, id, function (err, dat) {\n        if (err)\n            w.terminate(), strm.ondata.call(strm, err);\n        else {\n            if (dat[1])\n                w.terminate();\n            strm.ondata.call(strm, err, dat[0], dat[1]);\n        }\n    });\n    w.postMessage(opts);\n    strm.push = function (d, f) {\n        if (t)\n            throw 'stream finished';\n        if (!strm.ondata)\n            throw 'no stream handler';\n        w.postMessage([d, t = f], [d.buffer]);\n    };\n    strm.terminate = function () { w.terminate(); };\n};\n// read 2 bytes\nvar b2 = function (d, b) { return d[b] | (d[b + 1] << 8); };\n// read 4 bytes\nvar b4 = function (d, b) { return (d[b] | (d[b + 1] << 8) | (d[b + 2] << 16)) + (d[b + 3] << 23) * 2; };\n// write bytes\nvar wbytes = function (d, b, v) {\n    for (; v; ++b)\n        d[b] = v, v >>>= 8;\n};\n// gzip header\nvar gzh = function (c, o) {\n    var fn = o.filename;\n    c[0] = 31, c[1] = 139, c[2] = 8, c[8] = o.level < 2 ? 4 : o.level == 9 ? 2 : 0, c[9] = 3; // assume Unix\n    if (o.mtime != 0)\n        wbytes(c, 4, Math.floor(new Date(o.mtime || Date.now()) / 1000));\n    if (fn) {\n        c[3] = 8;\n        for (var i = 0; i <= fn.length; ++i)\n            c[i + 10] = fn.charCodeAt(i);\n    }\n};\n// gzip footer: -8 to -4 = CRC, -4 to -0 is length\n// gzip start\nvar gzs = function (d) {\n    if (d[0] != 31 || d[1] != 139 || d[2] != 8)\n        throw 'invalid gzip data';\n    var flg = d[3];\n    var st = 10;\n    if (flg & 4)\n        st += d[10] | (d[11] << 8) + 2;\n    for (var zs = (flg >> 3 & 1) + (flg >> 4 & 1); zs > 0; zs -= !d[st++])\n        ;\n    return st + (flg & 2);\n};\n// gzip length\nvar gzl = function (d) {\n    var l = d.length;\n    return (d[l - 4] | d[l - 3] << 8 | d[l - 2] << 16) + (2 * (d[l - 1] << 23));\n};\n// gzip header length\nvar gzhl = function (o) { return 10 + ((o.filename && (o.filename.length + 1)) || 0); };\n// zlib header\nvar zlh = function (c, o) {\n    var lv = o.level, fl = lv == 0 ? 0 : lv < 6 ? 1 : lv == 9 ? 3 : 2;\n    c[0] = 120, c[1] = (fl << 6) | (fl ? (32 - 2 * fl) : 1);\n};\n// zlib valid\nvar zlv = function (d) {\n    if ((d[0] & 15) != 8 || (d[0] >>> 4) > 7 || ((d[0] << 8 | d[1]) % 31))\n        throw 'invalid zlib data';\n    if (d[1] & 32)\n        throw 'invalid zlib data: preset dictionaries not supported';\n};\nfunction AsyncCmpStrm(opts, cb) {\n    if (!cb && typeof opts == 'function')\n        cb = opts, opts = {};\n    this.ondata = cb;\n    return opts;\n}\n// zlib footer: -4 to -0 is Adler32\n/**\n * Streaming DEFLATE compression\n */\nvar Deflate = /*#__PURE__*/ (function () {\n    function Deflate(opts, cb) {\n        if (!cb && typeof opts == 'function')\n            cb = opts, opts = {};\n        this.ondata = cb;\n        this.o = opts || {};\n    }\n    Deflate.prototype.p = function (c, f) {\n        this.ondata(dopt(c, this.o, 0, 0, !f), f);\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Deflate.prototype.push = function (chunk, final) {\n        if (this.d)\n            throw 'stream finished';\n        if (!this.ondata)\n            throw 'no stream handler';\n        this.d = final;\n        this.p(chunk, final || false);\n    };\n    return Deflate;\n}());\nexport { Deflate };\n/**\n * Asynchronous streaming DEFLATE compression\n */\nvar AsyncDeflate = /*#__PURE__*/ (function () {\n    function AsyncDeflate(opts, cb) {\n        astrmify([\n            bDflt,\n            function () { return [astrm, Deflate]; }\n        ], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n            var strm = new Deflate(ev.data);\n            onmessage = astrm(strm);\n        }, 6);\n    }\n    return AsyncDeflate;\n}());\nexport { AsyncDeflate };\nexport function deflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bDflt,\n    ], function (ev) { return pbf(deflateSync(ev.data[0], ev.data[1])); }, 0, cb);\n}\n/**\n * Compresses data with DEFLATE without any wrapper\n * @param data The data to compress\n * @param opts The compression options\n * @returns The deflated version of the data\n */\nexport function deflateSync(data, opts) {\n    if (opts === void 0) { opts = {}; }\n    return dopt(data, opts, 0, 0);\n}\n/**\n * Streaming DEFLATE decompression\n */\nvar Inflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates an inflation stream\n     * @param cb The callback to call whenever data is inflated\n     */\n    function Inflate(cb) {\n        this.s = {};\n        this.p = new u8(0);\n        this.ondata = cb;\n    }\n    Inflate.prototype.e = function (c) {\n        if (this.d)\n            throw 'stream finished';\n        if (!this.ondata)\n            throw 'no stream handler';\n        var l = this.p.length;\n        var n = new u8(l + c.length);\n        n.set(this.p), n.set(c, l), this.p = n;\n    };\n    Inflate.prototype.c = function (final) {\n        this.d = this.s.i = final || false;\n        var bts = this.s.b;\n        var dt = inflt(this.p, this.o, this.s);\n        this.ondata(slc(dt, bts, this.s.b), this.d);\n        this.o = slc(dt, this.s.b - 32768), this.s.b = this.o.length;\n        this.p = slc(this.p, (this.s.p / 8) >> 0), this.s.p &= 7;\n    };\n    /**\n     * Pushes a chunk to be inflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the final chunk\n     */\n    Inflate.prototype.push = function (chunk, final) {\n        this.e(chunk), this.c(final);\n    };\n    return Inflate;\n}());\nexport { Inflate };\n/**\n * Asynchronous streaming DEFLATE decompression\n */\nvar AsyncInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous inflation stream\n     * @param cb The callback to call whenever data is deflated\n     */\n    function AsyncInflate(cb) {\n        this.ondata = cb;\n        astrmify([\n            bInflt,\n            function () { return [astrm, Inflate]; }\n        ], this, 0, function () {\n            var strm = new Inflate();\n            onmessage = astrm(strm);\n        }, 7);\n    }\n    return AsyncInflate;\n}());\nexport { AsyncInflate };\nexport function inflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bInflt\n    ], function (ev) { return pbf(inflateSync(ev.data[0], gu8(ev.data[1]))); }, 1, cb);\n}\n/**\n * Expands DEFLATE data with no wrapper\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\nexport function inflateSync(data, out) {\n    return inflt(data, out);\n}\n// before you yell at me for not just using extends, my reason is that TS inheritance is hard to workerize.\n/**\n * Streaming GZIP compression\n */\nvar Gzip = /*#__PURE__*/ (function () {\n    function Gzip(opts, cb) {\n        this.c = crc();\n        this.l = 0;\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be GZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gzip.prototype.push = function (chunk, final) {\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Gzip.prototype.p = function (c, f) {\n        this.c.p(c);\n        this.l += c.length;\n        var raw = dopt(c, this.o, this.v && gzhl(this.o), f && 8, !f);\n        if (this.v)\n            gzh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 8, this.c.d()), wbytes(raw, raw.length - 4, this.l);\n        this.ondata(raw, f);\n    };\n    return Gzip;\n}());\nexport { Gzip };\n/**\n * Asynchronous streaming GZIP compression\n */\nvar AsyncGzip = /*#__PURE__*/ (function () {\n    function AsyncGzip(opts, cb) {\n        astrmify([\n            bDflt,\n            gze,\n            function () { return [astrm, Deflate, Gzip]; }\n        ], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n            var strm = new Gzip(ev.data);\n            onmessage = astrm(strm);\n        }, 8);\n    }\n    return AsyncGzip;\n}());\nexport { AsyncGzip };\nexport function gzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bDflt,\n        gze,\n        function () { return [gzipSync]; }\n    ], function (ev) { return pbf(gzipSync(ev.data[0], ev.data[1])); }, 2, cb);\n}\n/**\n * Compresses data with GZIP\n * @param data The data to compress\n * @param opts The compression options\n * @returns The gzipped version of the data\n */\nexport function gzipSync(data, opts) {\n    if (opts === void 0) { opts = {}; }\n    var c = crc(), l = data.length;\n    c.p(data);\n    var d = dopt(data, opts, gzhl(opts), 8), s = d.length;\n    return gzh(d, opts), wbytes(d, s - 8, c.d()), wbytes(d, s - 4, l), d;\n}\n/**\n * Streaming GZIP decompression\n */\nvar Gunzip = /*#__PURE__*/ (function () {\n    /**\n     * Creates a GUNZIP stream\n     * @param cb The callback to call whenever data is inflated\n     */\n    function Gunzip(cb) {\n        this.v = 1;\n        Inflate.call(this, cb);\n    }\n    /**\n     * Pushes a chunk to be GUNZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gunzip.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        if (this.v) {\n            var s = gzs(this.p);\n            if (s >= this.p.length && !final)\n                return;\n            this.p = this.p.subarray(s), this.v = 0;\n        }\n        if (final) {\n            if (this.p.length < 8)\n                throw 'invalid gzip stream';\n            this.p = this.p.subarray(0, -8);\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n    };\n    return Gunzip;\n}());\nexport { Gunzip };\n/**\n * Asynchronous streaming GZIP decompression\n */\nvar AsyncGunzip = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous GUNZIP stream\n     * @param cb The callback to call whenever data is deflated\n     */\n    function AsyncGunzip(cb) {\n        this.ondata = cb;\n        astrmify([\n            bInflt,\n            guze,\n            function () { return [astrm, Inflate, Gunzip]; }\n        ], this, 0, function () {\n            var strm = new Gunzip();\n            onmessage = astrm(strm);\n        }, 9);\n    }\n    return AsyncGunzip;\n}());\nexport { AsyncGunzip };\nexport function gunzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bInflt,\n        guze,\n        function () { return [gunzipSync]; }\n    ], function (ev) { return pbf(gunzipSync(ev.data[0])); }, 3, cb);\n}\n/**\n * Expands GZIP data\n * @param data The data to decompress\n * @param out Where to write the data. GZIP already encodes the output size, so providing this doesn't save memory.\n * @returns The decompressed version of the data\n */\nexport function gunzipSync(data, out) {\n    return inflt(data.subarray(gzs(data), -8), out || new u8(gzl(data)));\n}\n/**\n * Streaming Zlib compression\n */\nvar Zlib = /*#__PURE__*/ (function () {\n    function Zlib(opts, cb) {\n        this.c = adler();\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be zlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Zlib.prototype.push = function (chunk, final) {\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Zlib.prototype.p = function (c, f) {\n        this.c.p(c);\n        var raw = dopt(c, this.o, this.v && 2, f && 4, !f);\n        if (this.v)\n            zlh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 4, this.c.d());\n        this.ondata(raw, f);\n    };\n    return Zlib;\n}());\nexport { Zlib };\n/**\n * Asynchronous streaming Zlib compression\n */\nvar AsyncZlib = /*#__PURE__*/ (function () {\n    function AsyncZlib(opts, cb) {\n        astrmify([\n            bDflt,\n            zle,\n            function () { return [astrm, Deflate, Zlib]; }\n        ], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n            var strm = new Zlib(ev.data);\n            onmessage = astrm(strm);\n        }, 10);\n    }\n    return AsyncZlib;\n}());\nexport { AsyncZlib };\nexport function zlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bDflt,\n        zle,\n        function () { return [zlibSync]; }\n    ], function (ev) { return pbf(zlibSync(ev.data[0], ev.data[1])); }, 4, cb);\n}\n/**\n * Compress data with Zlib\n * @param data The data to compress\n * @param opts The compression options\n * @returns The zlib-compressed version of the data\n */\nexport function zlibSync(data, opts) {\n    if (opts === void 0) { opts = {}; }\n    var a = adler();\n    a.p(data);\n    var d = dopt(data, opts, 2, 4);\n    return zlh(d, opts), wbytes(d, d.length - 4, a.d()), d;\n}\n/**\n * Streaming Zlib decompression\n */\nvar Unzlib = /*#__PURE__*/ (function () {\n    /**\n     * Creates a Zlib decompression stream\n     * @param cb The callback to call whenever data is inflated\n     */\n    function Unzlib(cb) {\n        this.v = 1;\n        Inflate.call(this, cb);\n    }\n    /**\n     * Pushes a chunk to be unzlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Unzlib.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        if (this.v) {\n            if (this.p.length < 2 && !final)\n                return;\n            this.p = this.p.subarray(2), this.v = 0;\n        }\n        if (final) {\n            if (this.p.length < 4)\n                throw 'invalid zlib stream';\n            this.p = this.p.subarray(0, -4);\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n    };\n    return Unzlib;\n}());\nexport { Unzlib };\n/**\n * Asynchronous streaming Zlib decompression\n */\nvar AsyncUnzlib = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous Zlib decompression stream\n     * @param cb The callback to call whenever data is deflated\n     */\n    function AsyncUnzlib(cb) {\n        this.ondata = cb;\n        astrmify([\n            bInflt,\n            zule,\n            function () { return [astrm, Inflate, Unzlib]; }\n        ], this, 0, function () {\n            var strm = new Unzlib();\n            onmessage = astrm(strm);\n        }, 11);\n    }\n    return AsyncUnzlib;\n}());\nexport { AsyncUnzlib };\nexport function unzlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return cbify(data, opts, [\n        bInflt,\n        zule,\n        function () { return [unzlibSync]; }\n    ], function (ev) { return pbf(unzlibSync(ev.data[0], gu8(ev.data[1]))); }, 5, cb);\n}\n/**\n * Expands Zlib data\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\nexport function unzlibSync(data, out) {\n    return inflt((zlv(data), data.subarray(2, -4)), out);\n}\n// Default algorithm for compression (used because having a known output size allows faster decompression)\nexport { gzip as compress, AsyncGzip as AsyncCompress };\n// Default algorithm for compression (used because having a known output size allows faster decompression)\nexport { gzipSync as compressSync, Gzip as Compress };\n/**\n * Streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar Decompress = /*#__PURE__*/ (function () {\n    /**\n     * Creates a decompression stream\n     * @param cb The callback to call whenever data is decompressed\n     */\n    function Decompress(cb) {\n        this.G = Gunzip;\n        this.I = Inflate;\n        this.Z = Unzlib;\n        this.ondata = cb;\n    }\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Decompress.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            throw 'no stream handler';\n        if (!this.s) {\n            if (this.p && this.p.length) {\n                var n = new u8(this.p.length + chunk.length);\n                n.set(this.p), n.set(chunk, this.p.length);\n            }\n            else\n                this.p = chunk;\n            if (this.p.length > 2) {\n                var _this_1 = this;\n                var cb = function () { _this_1.ondata.apply(_this_1, arguments); };\n                this.s = (this.p[0] == 31 && this.p[1] == 139 && this.p[2] == 8)\n                    ? new this.G(cb)\n                    : ((this.p[0] & 15) != 8 || (this.p[0] >> 4) > 7 || ((this.p[0] << 8 | this.p[1]) % 31))\n                        ? new this.I(cb)\n                        : new this.Z(cb);\n                this.s.push(this.p, final);\n                this.p = null;\n            }\n        }\n        else\n            this.s.push(chunk, final);\n    };\n    return Decompress;\n}());\nexport { Decompress };\n/**\n * Asynchronous streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar AsyncDecompress = /*#__PURE__*/ (function () {\n    /**\n   * Creates an asynchronous decompression stream\n   * @param cb The callback to call whenever data is decompressed\n   */\n    function AsyncDecompress(cb) {\n        this.G = AsyncGunzip;\n        this.I = AsyncInflate;\n        this.Z = AsyncUnzlib;\n        this.ondata = cb;\n    }\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    AsyncDecompress.prototype.push = function (chunk, final) {\n        Decompress.prototype.push.call(this, chunk, final);\n    };\n    return AsyncDecompress;\n}());\nexport { AsyncDecompress };\nexport function decompress(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzip(data, opts, cb)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflate(data, opts, cb)\n            : unzlib(data, opts, cb);\n}\n/**\n * Expands compressed GZIP, Zlib, or raw DEFLATE data, automatically detecting the format\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\nexport function decompressSync(data, out) {\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzipSync(data, out)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflateSync(data, out)\n            : unzlibSync(data, out);\n}\n// flatten a directory structure\nvar fltn = function (d, p, t, o) {\n    for (var k in d) {\n        var val = d[k], n = p + k;\n        if (val instanceof u8)\n            t[n] = [val, o];\n        else if (Array.isArray(val))\n            t[n] = [val[0], mrg(o, val[1])];\n        else\n            fltn(val, n + '/', t, o);\n    }\n};\n/**\n * Converts a string into a Uint8Array for use with compression/decompression methods\n * @param str The string to encode\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless decoding a binary string.\n * @returns The string encoded in UTF-8/Latin-1 binary\n */\nexport function strToU8(str, latin1) {\n    var l = str.length;\n    if (!latin1 && typeof TextEncoder != 'undefined')\n        return new TextEncoder().encode(str);\n    var ar = new u8(str.length + (str.length >>> 1));\n    var ai = 0;\n    var w = function (v) { ar[ai++] = v; };\n    for (var i = 0; i < l; ++i) {\n        if (ai + 5 > ar.length) {\n            var n = new u8(ai + 8 + ((l - i) << 1));\n            n.set(ar);\n            ar = n;\n        }\n        var c = str.charCodeAt(i);\n        if (c < 128 || latin1)\n            w(c);\n        else if (c < 2048)\n            w(192 | (c >>> 6)), w(128 | (c & 63));\n        else if (c > 55295 && c < 57344)\n            c = 65536 + (c & 1023 << 10) | (str.charCodeAt(++i) & 1023),\n                w(240 | (c >>> 18)), w(128 | ((c >>> 12) & 63)), w(128 | ((c >>> 6) & 63)), w(128 | (c & 63));\n        else\n            w(224 | (c >>> 12)), w(128 | ((c >>> 6) & 63)), w(128 | (c & 63));\n    }\n    return slc(ar, 0, ai);\n}\n/**\n * Converts a Uint8Array to a string\n * @param dat The data to decode to string\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless encoding to binary string.\n * @returns The original UTF-8/Latin-1 string\n */\nexport function strFromU8(dat, latin1) {\n    var r = '';\n    if (!latin1 && typeof TextDecoder != 'undefined')\n        return new TextDecoder().decode(dat);\n    for (var i = 0; i < dat.length;) {\n        var c = dat[i++];\n        if (c < 128 || latin1)\n            r += String.fromCharCode(c);\n        else if (c < 224)\n            r += String.fromCharCode((c & 31) << 6 | (dat[i++] & 63));\n        else if (c < 240)\n            r += String.fromCharCode((c & 15) << 12 | (dat[i++] & 63) << 6 | (dat[i++] & 63));\n        else\n            c = ((c & 15) << 18 | (dat[i++] & 63) << 12 | (dat[i++] & 63) << 6 | (dat[i++] & 63)) - 65536,\n                r += String.fromCharCode(55296 | (c >> 10), 56320 | (c & 1023));\n    }\n    return r;\n}\n;\n// skip local zip header\nvar slzh = function (d, b) { return b + 30 + b2(d, b + 26) + b2(d, b + 28); };\n// read zip header\nvar zh = function (d, b, z) {\n    var fnl = b2(d, b + 28), fn = strFromU8(d.subarray(b + 46, b + 46 + fnl), !(b2(d, b + 8) & 2048)), es = b + 46 + fnl;\n    var _a = z ? z64e(d, es) : [b4(d, b + 20), b4(d, b + 24), b4(d, b + 42)], sc = _a[0], su = _a[1], off = _a[2];\n    return [b2(d, b + 10), sc, su, fn, es + b2(d, b + 30) + b2(d, b + 32), off];\n};\n// read zip64 extra field\nvar z64e = function (d, b) {\n    for (; b2(d, b) != 1; b += 4 + b2(d, b + 2))\n        ;\n    return [b4(d, b + 12), b4(d, b + 4), b4(d, b + 20)];\n};\n// write zip header\nvar wzh = function (d, b, c, cmp, su, fn, u, o, ce, t) {\n    var fl = fn.length, l = cmp.length;\n    wbytes(d, b, ce != null ? 0x2014B50 : 0x4034B50), b += 4;\n    if (ce != null)\n        d[b] = 20, b += 2;\n    d[b] = 20, b += 2; // spec compliance? what's that?\n    d[b++] = (t == 8 && (o.level == 1 ? 6 : o.level < 6 ? 4 : o.level == 9 ? 2 : 0)), d[b++] = u && 8;\n    d[b] = t, b += 2;\n    var dt = new Date(o.mtime || Date.now()), y = dt.getFullYear() - 1980;\n    if (y < 0 || y > 119)\n        throw 'date not in range 1980-2099';\n    wbytes(d, b, ((y << 24) * 2) | ((dt.getMonth() + 1) << 21) | (dt.getDate() << 16) | (dt.getHours() << 11) | (dt.getMinutes() << 5) | (dt.getSeconds() >>> 1));\n    b += 4;\n    wbytes(d, b, c);\n    wbytes(d, b + 4, l);\n    wbytes(d, b + 8, su);\n    wbytes(d, b + 12, fl), b += 16; // skip extra field, comment\n    if (ce != null)\n        wbytes(d, b += 10, ce), b += 4;\n    d.set(fn, b);\n    b += fl;\n    if (ce == null)\n        d.set(cmp, b);\n};\n// write zip footer (end of central directory)\nvar wzf = function (o, b, c, d, e) {\n    wbytes(o, b, 0x6054B50); // skip disk\n    wbytes(o, b + 8, c);\n    wbytes(o, b + 10, c);\n    wbytes(o, b + 12, d);\n    wbytes(o, b + 16, e);\n};\nexport function zip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        throw 'no callback';\n    var r = {};\n    fltn(data, '', r, opts);\n    var k = Object.keys(r);\n    var lft = k.length, o = 0, tot = 0;\n    var slft = lft, files = new Array(lft);\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var cbf = function () {\n        var out = new u8(tot + 22), oe = o, cdl = tot - o;\n        tot = 0;\n        for (var i = 0; i < slft; ++i) {\n            var f = files[i];\n            try {\n                wzh(out, tot, f.c, f.d, f.m, f.n, f.u, f.p, null, f.t);\n                wzh(out, o, f.c, f.d, f.m, f.n, f.u, f.p, tot, f.t), o += 46 + f.n.length, tot += 30 + f.n.length + f.d.length;\n            }\n            catch (e) {\n                return cb(e, null);\n            }\n        }\n        wzf(out, o, files.length, cdl, oe);\n        cb(null, out);\n    };\n    if (!lft)\n        cbf();\n    var _loop_1 = function (i) {\n        var fn = k[i];\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var c = crc(), m = file.length;\n        c.p(file);\n        var n = strToU8(fn), s = n.length;\n        var t = p.level == 0 ? 0 : 8;\n        var cbl = function (e, d) {\n            if (e) {\n                tAll();\n                cb(e, null);\n            }\n            else {\n                var l = d.length;\n                files[i] = {\n                    t: t,\n                    d: d,\n                    m: m,\n                    c: c.d(),\n                    u: fn.length != l,\n                    n: n,\n                    p: p\n                };\n                o += 30 + s + l;\n                tot += 76 + 2 * s + l;\n                if (!--lft)\n                    cbf();\n            }\n        };\n        if (n.length > 65535)\n            cbl('filename too long', null);\n        if (!t)\n            cbl(null, file);\n        else if (m < 160000) {\n            try {\n                cbl(null, deflateSync(file, p));\n            }\n            catch (e) {\n                cbl(e, null);\n            }\n        }\n        else\n            term.push(deflate(file, p, cbl));\n    };\n    // Cannot use lft because it can decrease\n    for (var i = 0; i < slft; ++i) {\n        _loop_1(i);\n    }\n    return tAll;\n}\n/**\n * Synchronously creates a ZIP file. Prefer using `zip` for better performance\n * with more than one file.\n * @param data The directory structure for the ZIP archive\n * @param opts The main options, merged with per-file options\n * @returns The generated ZIP archive\n */\nexport function zipSync(data, opts) {\n    if (opts === void 0) { opts = {}; }\n    var r = {};\n    var files = [];\n    fltn(data, '', r, opts);\n    var o = 0;\n    var tot = 0;\n    for (var fn in r) {\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var t = p.level == 0 ? 0 : 8;\n        var n = strToU8(fn), s = n.length;\n        if (n.length > 65535)\n            throw 'filename too long';\n        var d = t ? deflateSync(file, p) : file, l = d.length;\n        var c = crc();\n        c.p(file);\n        files.push({\n            t: t,\n            d: d,\n            m: file.length,\n            c: c.d(),\n            u: fn.length != s,\n            n: n,\n            o: o,\n            p: p\n        });\n        o += 30 + s + l;\n        tot += 76 + 2 * s + l;\n    }\n    var out = new u8(tot + 22), oe = o, cdl = tot - o;\n    for (var i = 0; i < files.length; ++i) {\n        var f = files[i];\n        wzh(out, f.o, f.c, f.d, f.m, f.n, f.u, f.p, null, f.t);\n        wzh(out, o, f.c, f.d, f.m, f.n, f.u, f.p, f.o, f.t), o += 46 + f.n.length;\n    }\n    wzf(out, o, files.length, cdl, oe);\n    return out;\n}\n/**\n * Asynchronously decompresses a ZIP archive\n * @param data The raw compressed ZIP file\n * @param cb The callback to call with the decompressed files\n * @returns A function that can be used to immediately terminate the unzipping\n */\nexport function unzip(data, cb) {\n    if (typeof cb != 'function')\n        throw 'no callback';\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var files = {};\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558) {\n            cb('invalid zip file', null);\n            return;\n        }\n    }\n    ;\n    var lft = b2(data, e + 8);\n    if (!lft)\n        cb(null, {});\n    var c = lft;\n    var o = b4(data, e + 16);\n    var z = o == 4294967295;\n    if (z) {\n        e = b4(data, e - 12);\n        if (b4(data, e) != 0x6064B50)\n            throw 'invalid zip file';\n        c = lft = b4(data, e + 32);\n        o = b4(data, e + 48);\n    }\n    var _loop_2 = function (i) {\n        var _a = zh(data, o, z), c_1 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n        o = no;\n        var cbl = function (e, d) {\n            if (e) {\n                tAll();\n                cb(e, null);\n            }\n            else {\n                files[fn] = d;\n                if (!--lft)\n                    cb(null, files);\n            }\n        };\n        if (!c_1)\n            cbl(null, slc(data, b, b + sc));\n        else if (c_1 == 8) {\n            var infl = data.subarray(b, b + sc);\n            if (sc < 320000) {\n                try {\n                    cbl(null, inflateSync(infl, new u8(su)));\n                }\n                catch (e) {\n                    cbl(e, null);\n                }\n            }\n            else\n                term.push(inflate(infl, { size: su }, cbl));\n        }\n        else\n            cbl('unknown compression type ' + c_1, null);\n    };\n    for (var i = 0; i < c; ++i) {\n        _loop_2(i);\n    }\n    return tAll;\n}\n/**\n * Synchronously decompresses a ZIP archive. Prefer using `unzip` for better\n * performance with more than one file.\n * @param data The raw compressed ZIP file\n * @returns The decompressed files\n */\nexport function unzipSync(data) {\n    var files = {};\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558)\n            throw 'invalid zip file';\n    }\n    ;\n    var c = b2(data, e + 8);\n    if (!c)\n        return {};\n    var o = b4(data, e + 16);\n    var z = o == 4294967295;\n    if (z) {\n        e = b4(data, e - 12);\n        if (b4(data, e) != 0x6064B50)\n            throw 'invalid zip file';\n        c = b4(data, e + 32);\n        o = b4(data, e + 48);\n    }\n    for (var i = 0; i < c; ++i) {\n        var _a = zh(data, o, z), c_2 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n        o = no;\n        if (!c_2)\n            files[fn] = slc(data, b, b + sc);\n        else if (c_2 == 8)\n            files[fn] = inflateSync(data.subarray(b, b + sc), new u8(su));\n        else\n            throw 'unknown compression type ' + c_2;\n    }\n    return files;\n}\n","// Generated by CoffeeScript 1.4.0\n\n/**\n * @license\n * PNG.js\n * Copyright (c) 2011 Devon Govett\n * MIT LICENSE\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\n * software and associated documentation files (the \"Software\"), to deal in the Software\n * without restriction, including without limitation the rights to use, copy, modify, merge,\n * publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons\n * to whom the Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or\n * substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { unzlibSync } from \"./fflate.js\";\nimport { globalObject } from \"./globalObject.js\";\n\nvar PNG = (function() {\n  var APNG_BLEND_OP_OVER,\n    APNG_BLEND_OP_SOURCE,\n    APNG_DISPOSE_OP_BACKGROUND,\n    APNG_DISPOSE_OP_NONE,\n    APNG_DISPOSE_OP_PREVIOUS,\n    makeImage,\n    scratchCanvas,\n    scratchCtx;\n\n  APNG_DISPOSE_OP_NONE = 0;\n\n  APNG_DISPOSE_OP_BACKGROUND = 1;\n\n  APNG_DISPOSE_OP_PREVIOUS = 2;\n\n  APNG_BLEND_OP_SOURCE = 0;\n\n  APNG_BLEND_OP_OVER = 1;\n\n  function PNG(data) {\n    var chunkSize,\n      colors,\n      palLen,\n      delayDen,\n      delayNum,\n      frame,\n      i,\n      index,\n      key,\n      section,\n      palShort,\n      text,\n      _i,\n      _j,\n      _ref;\n    this.data = data;\n    this.pos = 8;\n    this.palette = [];\n    this.imgData = [];\n    this.transparency = {};\n    this.animation = null;\n    this.text = {};\n    frame = null;\n    while (true) {\n      chunkSize = this.readUInt32();\n      section = function() {\n        var _i, _results;\n        _results = [];\n        for (i = _i = 0; _i < 4; i = ++_i) {\n          _results.push(String.fromCharCode(this.data[this.pos++]));\n        }\n        return _results;\n      }\n        .call(this)\n        .join(\"\");\n      switch (section) {\n        case \"IHDR\":\n          this.width = this.readUInt32();\n          this.height = this.readUInt32();\n          this.bits = this.data[this.pos++];\n          this.colorType = this.data[this.pos++];\n          this.compressionMethod = this.data[this.pos++];\n          this.filterMethod = this.data[this.pos++];\n          this.interlaceMethod = this.data[this.pos++];\n          break;\n        case \"acTL\":\n          this.animation = {\n            numFrames: this.readUInt32(),\n            numPlays: this.readUInt32() || Infinity,\n            frames: []\n          };\n          break;\n        case \"PLTE\":\n          this.palette = this.read(chunkSize);\n          break;\n        case \"fcTL\":\n          if (frame) {\n            this.animation.frames.push(frame);\n          }\n          this.pos += 4;\n          frame = {\n            width: this.readUInt32(),\n            height: this.readUInt32(),\n            xOffset: this.readUInt32(),\n            yOffset: this.readUInt32()\n          };\n          delayNum = this.readUInt16();\n          delayDen = this.readUInt16() || 100;\n          frame.delay = (1000 * delayNum) / delayDen;\n          frame.disposeOp = this.data[this.pos++];\n          frame.blendOp = this.data[this.pos++];\n          frame.data = [];\n          break;\n        case \"IDAT\":\n        case \"fdAT\":\n          if (section === \"fdAT\") {\n            this.pos += 4;\n            chunkSize -= 4;\n          }\n          data = (frame != null ? frame.data : void 0) || this.imgData;\n          for (\n            i = _i = 0;\n            0 <= chunkSize ? _i < chunkSize : _i > chunkSize;\n            i = 0 <= chunkSize ? ++_i : --_i\n          ) {\n            data.push(this.data[this.pos++]);\n          }\n          break;\n        case \"tRNS\":\n          this.transparency = {};\n          switch (this.colorType) {\n            case 3:\n              palLen = this.palette.length / 3;\n              this.transparency.indexed = this.read(chunkSize);\n              if (this.transparency.indexed.length > palLen)\n                throw new Error(\"More transparent colors than palette size\");\n              /*\n               * According to the PNG spec trns should be increased to the same size as palette if shorter\n               */\n              //palShort = 255 - this.transparency.indexed.length;\n              palShort = palLen - this.transparency.indexed.length;\n              if (palShort > 0) {\n                for (\n                  i = _j = 0;\n                  0 <= palShort ? _j < palShort : _j > palShort;\n                  i = 0 <= palShort ? ++_j : --_j\n                ) {\n                  this.transparency.indexed.push(255);\n                }\n              }\n              break;\n            case 0:\n              this.transparency.grayscale = this.read(chunkSize)[0];\n              break;\n            case 2:\n              this.transparency.rgb = this.read(chunkSize);\n          }\n          break;\n        case \"tEXt\":\n          text = this.read(chunkSize);\n          index = text.indexOf(0);\n          key = String.fromCharCode.apply(String, text.slice(0, index));\n          this.text[key] = String.fromCharCode.apply(\n            String,\n            text.slice(index + 1)\n          );\n          break;\n        case \"IEND\":\n          if (frame) {\n            this.animation.frames.push(frame);\n          }\n          this.colors = function() {\n            switch (this.colorType) {\n              case 0:\n              case 3:\n              case 4:\n                return 1;\n              case 2:\n              case 6:\n                return 3;\n            }\n          }.call(this);\n          this.hasAlphaChannel = (_ref = this.colorType) === 4 || _ref === 6;\n          colors = this.colors + (this.hasAlphaChannel ? 1 : 0);\n          this.pixelBitlength = this.bits * colors;\n          this.colorSpace = function() {\n            switch (this.colors) {\n              case 1:\n                return \"DeviceGray\";\n              case 3:\n                return \"DeviceRGB\";\n            }\n          }.call(this);\n          this.imgData = new Uint8Array(this.imgData);\n          return;\n        default:\n          this.pos += chunkSize;\n      }\n      this.pos += 4;\n      if (this.pos > this.data.length) {\n        throw new Error(\"Incomplete or corrupt PNG file\");\n      }\n    }\n  }\n\n  PNG.prototype.read = function(bytes) {\n    var i, _i, _results;\n    _results = [];\n    for (\n      i = _i = 0;\n      0 <= bytes ? _i < bytes : _i > bytes;\n      i = 0 <= bytes ? ++_i : --_i\n    ) {\n      _results.push(this.data[this.pos++]);\n    }\n    return _results;\n  };\n\n  PNG.prototype.readUInt32 = function() {\n    var b1, b2, b3, b4;\n    b1 = this.data[this.pos++] << 24;\n    b2 = this.data[this.pos++] << 16;\n    b3 = this.data[this.pos++] << 8;\n    b4 = this.data[this.pos++];\n    return b1 | b2 | b3 | b4;\n  };\n\n  PNG.prototype.readUInt16 = function() {\n    var b1, b2;\n    b1 = this.data[this.pos++] << 8;\n    b2 = this.data[this.pos++];\n    return b1 | b2;\n  };\n\n  PNG.prototype.decodePixels = function(data) {\n    var pixelBytes = this.pixelBitlength / 8;\n    var fullPixels = new Uint8Array(this.width * this.height * pixelBytes);\n    var pos = 0;\n    var _this = this;\n\n    if (data == null) {\n      data = this.imgData;\n    }\n    if (data.length === 0) {\n      return new Uint8Array(0);\n    }\n\n    data = unzlibSync(data);\n    function pass(x0, y0, dx, dy) {\n      var abyte,\n        c,\n        col,\n        i,\n        left,\n        length,\n        p,\n        pa,\n        paeth,\n        pb,\n        pc,\n        pixels,\n        row,\n        scanlineLength,\n        upper,\n        upperLeft,\n        _i,\n        _j,\n        _k,\n        _l,\n        _m;\n      var w = Math.ceil((_this.width - x0) / dx),\n        h = Math.ceil((_this.height - y0) / dy);\n      var isFull = _this.width == w && _this.height == h;\n      scanlineLength = pixelBytes * w;\n      pixels = isFull ? fullPixels : new Uint8Array(scanlineLength * h);\n      length = data.length;\n      row = 0;\n      c = 0;\n      while (row < h && pos < length) {\n        switch (data[pos++]) {\n          case 0:\n            for (i = _i = 0; _i < scanlineLength; i = _i += 1) {\n              pixels[c++] = data[pos++];\n            }\n            break;\n          case 1:\n            for (i = _j = 0; _j < scanlineLength; i = _j += 1) {\n              abyte = data[pos++];\n              left = i < pixelBytes ? 0 : pixels[c - pixelBytes];\n              pixels[c++] = (abyte + left) % 256;\n            }\n            break;\n          case 2:\n            for (i = _k = 0; _k < scanlineLength; i = _k += 1) {\n              abyte = data[pos++];\n              col = (i - (i % pixelBytes)) / pixelBytes;\n              upper =\n                row &&\n                pixels[\n                  (row - 1) * scanlineLength +\n                    col * pixelBytes +\n                    (i % pixelBytes)\n                ];\n              pixels[c++] = (upper + abyte) % 256;\n            }\n            break;\n          case 3:\n            for (i = _l = 0; _l < scanlineLength; i = _l += 1) {\n              abyte = data[pos++];\n              col = (i - (i % pixelBytes)) / pixelBytes;\n              left = i < pixelBytes ? 0 : pixels[c - pixelBytes];\n              upper =\n                row &&\n                pixels[\n                  (row - 1) * scanlineLength +\n                    col * pixelBytes +\n                    (i % pixelBytes)\n                ];\n              pixels[c++] = (abyte + Math.floor((left + upper) / 2)) % 256;\n            }\n            break;\n          case 4:\n            for (i = _m = 0; _m < scanlineLength; i = _m += 1) {\n              abyte = data[pos++];\n              col = (i - (i % pixelBytes)) / pixelBytes;\n              left = i < pixelBytes ? 0 : pixels[c - pixelBytes];\n              if (row === 0) {\n                upper = upperLeft = 0;\n              } else {\n                upper =\n                  pixels[\n                    (row - 1) * scanlineLength +\n                      col * pixelBytes +\n                      (i % pixelBytes)\n                  ];\n                upperLeft =\n                  col &&\n                  pixels[\n                    (row - 1) * scanlineLength +\n                      (col - 1) * pixelBytes +\n                      (i % pixelBytes)\n                  ];\n              }\n              p = left + upper - upperLeft;\n              pa = Math.abs(p - left);\n              pb = Math.abs(p - upper);\n              pc = Math.abs(p - upperLeft);\n              if (pa <= pb && pa <= pc) {\n                paeth = left;\n              } else if (pb <= pc) {\n                paeth = upper;\n              } else {\n                paeth = upperLeft;\n              }\n              pixels[c++] = (abyte + paeth) % 256;\n            }\n            break;\n          default:\n            throw new Error(\"Invalid filter algorithm: \" + data[pos - 1]);\n        }\n        if (!isFull) {\n          var fullPos = ((y0 + row * dy) * _this.width + x0) * pixelBytes;\n          var partPos = row * scanlineLength;\n          for (i = 0; i < w; i += 1) {\n            for (var j = 0; j < pixelBytes; j += 1)\n              fullPixels[fullPos++] = pixels[partPos++];\n            fullPos += (dx - 1) * pixelBytes;\n          }\n        }\n        row++;\n      }\n    }\n    if (_this.interlaceMethod == 1) {\n      /*\n          1 6 4 6 2 6 4 6\n          7 7 7 7 7 7 7 7\n          5 6 5 6 5 6 5 6\n          7 7 7 7 7 7 7 7\n          3 6 4 6 3 6 4 6\n          7 7 7 7 7 7 7 7\n          5 6 5 6 5 6 5 6\n          7 7 7 7 7 7 7 7\n        */\n      pass(0, 0, 8, 8); // 1\n      /* NOTE these seem to follow the pattern:\n       * pass(x, 0, 2*x, 2*x);\n       * pass(0, x,   x, 2*x);\n       * with x being 4, 2, 1.\n       */\n      pass(4, 0, 8, 8); // 2\n      pass(0, 4, 4, 8); // 3\n\n      pass(2, 0, 4, 4); // 4\n      pass(0, 2, 2, 4); // 5\n\n      pass(1, 0, 2, 2); // 6\n      pass(0, 1, 1, 2); // 7\n    } else {\n      pass(0, 0, 1, 1);\n    }\n    return fullPixels;\n  };\n\n  PNG.prototype.decodePalette = function() {\n    var c, i, length, palette, pos, ret, transparency, _i, _ref, _ref1;\n    palette = this.palette;\n    transparency = this.transparency.indexed || [];\n    ret = new Uint8Array((transparency.length || 0) + palette.length);\n    pos = 0;\n    length = palette.length;\n    c = 0;\n    for (i = _i = 0, _ref = length; _i < _ref; i = _i += 3) {\n      ret[pos++] = palette[i];\n      ret[pos++] = palette[i + 1];\n      ret[pos++] = palette[i + 2];\n      ret[pos++] = (_ref1 = transparency[c++]) != null ? _ref1 : 255;\n    }\n    return ret;\n  };\n\n  PNG.prototype.copyToImageData = function(imageData, pixels) {\n    var alpha, colors, data, i, input, j, k, length, palette, v, _ref;\n    colors = this.colors;\n    palette = null;\n    alpha = this.hasAlphaChannel;\n    if (this.palette.length) {\n      palette =\n        (_ref = this._decodedPalette) != null\n          ? _ref\n          : (this._decodedPalette = this.decodePalette());\n      colors = 4;\n      alpha = true;\n    }\n    data = imageData.data || imageData;\n    length = data.length;\n    input = palette || pixels;\n    i = j = 0;\n    if (colors === 1) {\n      while (i < length) {\n        k = palette ? pixels[i / 4] * 4 : j;\n        v = input[k++];\n        data[i++] = v;\n        data[i++] = v;\n        data[i++] = v;\n        data[i++] = alpha ? input[k++] : 255;\n        j = k;\n      }\n    } else {\n      while (i < length) {\n        k = palette ? pixels[i / 4] * 4 : j;\n        data[i++] = input[k++];\n        data[i++] = input[k++];\n        data[i++] = input[k++];\n        data[i++] = alpha ? input[k++] : 255;\n        j = k;\n      }\n    }\n  };\n\n  PNG.prototype.decode = function() {\n    var ret;\n    ret = new Uint8Array(this.width * this.height * 4);\n    this.copyToImageData(ret, this.decodePixels());\n    return ret;\n  };\n\n  var hasBrowserCanvas = function() {\n    if (Object.prototype.toString.call(globalObject) === \"[object Window]\") {\n      try {\n        scratchCanvas = globalObject.document.createElement(\"canvas\");\n        scratchCtx = scratchCanvas.getContext(\"2d\");\n      } catch (e) {\n        return false;\n      }\n      return true;\n    }\n    return false;\n  };\n\n  hasBrowserCanvas();\n\n  makeImage = function(imageData) {\n    if (hasBrowserCanvas() === true) {\n      var img;\n      scratchCtx.width = imageData.width;\n      scratchCtx.height = imageData.height;\n      scratchCtx.clearRect(0, 0, imageData.width, imageData.height);\n      scratchCtx.putImageData(imageData, 0, 0);\n      img = new Image();\n      img.src = scratchCanvas.toDataURL();\n      return img;\n    }\n    throw new Error(\"This method requires a Browser with Canvas-capability.\");\n  };\n\n  PNG.prototype.decodeFrames = function(ctx) {\n    var frame, i, imageData, pixels, _i, _len, _ref, _results;\n    if (!this.animation) {\n      return;\n    }\n    _ref = this.animation.frames;\n    _results = [];\n    for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {\n      frame = _ref[i];\n      imageData = ctx.createImageData(frame.width, frame.height);\n      pixels = this.decodePixels(new Uint8Array(frame.data));\n      this.copyToImageData(imageData, pixels);\n      frame.imageData = imageData;\n      _results.push((frame.image = makeImage(imageData)));\n    }\n    return _results;\n  };\n\n  PNG.prototype.renderFrame = function(ctx, number) {\n    var frame, frames, prev;\n    frames = this.animation.frames;\n    frame = frames[number];\n    prev = frames[number - 1];\n    if (number === 0) {\n      ctx.clearRect(0, 0, this.width, this.height);\n    }\n    if (\n      (prev != null ? prev.disposeOp : void 0) === APNG_DISPOSE_OP_BACKGROUND\n    ) {\n      ctx.clearRect(prev.xOffset, prev.yOffset, prev.width, prev.height);\n    } else if (\n      (prev != null ? prev.disposeOp : void 0) === APNG_DISPOSE_OP_PREVIOUS\n    ) {\n      ctx.putImageData(prev.imageData, prev.xOffset, prev.yOffset);\n    }\n    if (frame.blendOp === APNG_BLEND_OP_SOURCE) {\n      ctx.clearRect(frame.xOffset, frame.yOffset, frame.width, frame.height);\n    }\n    return ctx.drawImage(frame.image, frame.xOffset, frame.yOffset);\n  };\n\n  PNG.prototype.animate = function(ctx) {\n    var doFrame,\n      frameNumber,\n      frames,\n      numFrames,\n      numPlays,\n      _ref,\n      _this = this;\n    frameNumber = 0;\n    (_ref = this.animation),\n      (numFrames = _ref.numFrames),\n      (frames = _ref.frames),\n      (numPlays = _ref.numPlays);\n    return (doFrame = function() {\n      var f, frame;\n      f = frameNumber++ % numFrames;\n      frame = frames[f];\n      _this.renderFrame(ctx, f);\n      if (numFrames > 1 && frameNumber / numFrames < numPlays) {\n        return (_this.animation._timeout = setTimeout(doFrame, frame.delay));\n      }\n    })();\n  };\n\n  PNG.prototype.stopAnimation = function() {\n    var _ref;\n    return clearTimeout(\n      (_ref = this.animation) != null ? _ref._timeout : void 0\n    );\n  };\n\n  PNG.prototype.render = function(canvas) {\n    var ctx, data;\n    if (canvas._png) {\n      canvas._png.stopAnimation();\n    }\n    canvas._png = this;\n    canvas.width = this.width;\n    canvas.height = this.height;\n    ctx = canvas.getContext(\"2d\");\n    if (this.animation) {\n      this.decodeFrames(ctx);\n      return this.animate(ctx);\n    } else {\n      data = ctx.createImageData(this.width, this.height);\n      this.copyToImageData(data, this.decodePixels());\n      return ctx.putImageData(data, 0, 0);\n    }\n  };\n\n  return PNG;\n})();\n\nexport { PNG };\n"],"names":["$c1414453fbe7536f$var$make_poss","$c1414453fbe7536f$var$inner_button","$c1414453fbe7536f$var$outer_button","$c1414453fbe7536f$var$outer_radius","n","w","padding","startp","p","i","_ctx","x1","y1","$c1414453fbe7536f$var$poss","$c1414453fbe7536f$var$button_positions","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_step","_iterator","Symbol","iterator","next","done","y","value","_step1","_iterator1","x","push","concat","$8TSCy","toConsumableArray","err","return","$c1414453fbe7536f$export$cb9a9c16393b82b3","asyncToGenerator","$parcel$interopDefault","$2TvXO","mark","_callee1","layers","lays","doc","l","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","layer1","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","_value","inner_dims","outer_dims","_doc","alt1","dims","r1","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","_value1","Promise","all","$rzmg6","map","layer","_callee","_param","blob","alt","size","img","canv","ctx","r","objectWithoutProperties","full","$c1414453fbe7536f$var$loadImage","sent","document","createElement","width","height","getContext","ellipse","Math","PI","clip","imageSmoothingEnabled","pixel","drawImage","toDataURL","_ctx1","$bTduF","jsPDF","unit","format","compress","putOnlyUsedFonts","addImage","apply","length","t0","t1","setLineWidth","circle","t2","url","URL","createObjectURL","res","rej","Image","addEventListener","e","error","src","finally","revokeObjectURL","$8a7f4c4f22f62a9a$var$PubSub","context","Error","topics","this","subscribe","topic","callback","once","hasOwnProperty","token","random","toString","unsubscribe","Object","keys","publish","args","Array","prototype","slice","call","arguments","tokens","sub","ex","$dr7rv","globalObject","console","$1SBbN","message","forEach","getTopics","$8a7f4c4f22f62a9a$export$1bc649ab427a02ba","parameters","supported","split","indexOf","id","objectNumber","$8a7f4c4f22f62a9a$var$Pattern","gState","matrix","$8a7f4c4f22f62a9a$export$7235f0ad083cb4c6","type","coords","colors","$8a7f4c4f22f62a9a$export$549f717800d2b57f","boundingBox","xStep","yStep","stream","cloneIndex","$8a7f4c4f22f62a9a$export$ba1e2ffc633a60f5","options1","precision","orientation","format1","compressPdf","filters1","userUnit","floatPrecision","defaultPathOperation","encryptionOptions","encryption","userPassword","ownerPassword","userPermissions","abs","filters","toLowerCase","usedFonts","API","internal","__private__","PubSub","pdfVersion","getPdfVersion","setPdfVersion","pageFormats","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","b10","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","c10","dl","letter","legal","ledger","tabloid","getPageFormats","getPageFormat","ApiMode","COMPAT","ADVANCED","apiMode","advancedAPI","saveGraphicsState","out","Matrix","scaleFactor1","getPageHeight","setFontSize","getFontSize","compatAPI","restoreGraphicsState","combineFontStyleAndFontWeight","fontStyle","fontWeight","body","doSwitch","isAdvancedAPI","hpf","advancedApiModeTrap","methodName","roundToPrecision","number","parmPrecision","tmpPrecision","isNaN","toFixed","replace","f2","f3","scale","transformY","transformScaleY","setPrecision","parseInt","creationDate","fileId","getFileId","setFileId","test","toUpperCase","charAt","floor","join","$4kTuK","PDFSecurity","convertDateToPDFDate","parmDate","tzoffset","getTimezoneOffset","tzsign","tzhour","tzmin","timeZoneString","padd2","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","convertPDFDateToDate","parmPDFDate","year","substr","month","date","hour","minutes","seconds","Date","setCreationDate","tmpCreationDateString","getCreationDate","result","currentPage","padd2Hex","hexString","offsets","content1","contentLength","additionalObjects","pages","hasCustomDestination","outputDestination","resetDocument","rootDictionaryObjId","newObjectDeferred","resourceDictionaryObjId","setCustomOutputDestination","destination","setOutputDestination","resetCustomOutputDestination","string","write","getArrayBuffer","data","len","ab","ArrayBuffer","u8","Uint8Array","charCodeAt","standardFonts","getStandardFonts","activeFontSize","fontSize","zoomMode","R2L","setR2L","getR2L","pageMode","setZoomMode","zoom","validZoomModes","getZoomMode","layoutMode","setPageMode","pmode","getPageMode","setLayoutMode","layout","getLayoutMode","setDisplayMode","documentProperties","title","subject","author","keywords","creator","getDocumentProperty","key","getDocumentProperties","setDocumentProperties","setProperties","properties","property","setDocumentProperty","activeFontKey","pageX","pageY","pageMatrix","fonts","fontmap","fontStateStack","patterns","patternMap","gStates","gStatesMap","activeGState","page1","pagesContext","events1","hotfixes","renderTargets","renderTargetMap","renderTargetStack","sx","shy","shx","sy","tx","ty","_matrix","defineProperty","get","set","atan2","decompose","separator","multiply","a","b","c","d","f","scaleX","sqrt","shear","scaleY","translate","rotate","skew","inversed","quot","aInv","bInv","cInv","dInv","applyToPoint","pt","Point","applyToRectangle","rect","pt1","pt2","h","Rectangle","clone","matrixMult","m1","m2","identityMatrix","unitMatrix","addPattern","pattern","patternKey","ShadingPattern","TilingPattern","addShadingPattern","beginTilingPattern","beginNewRenderTarget","endTilingPattern","pop","restore","newObject","oid","newObjectDeferredBegin","doOutput","newAdditionalObject","obj","objId","content","decodeColorString","color","colorEncoded","floatVal","parseFloat","colorAsRGB","encodeColorString","options","ch1","ch2","ch3","ch4","letterArray","pdfColorType","rgbColor","$cb1DL","RGBColor","ok","toHex","hex","getFilters","putStream","data1","alreadyAppliedFilters","addLength1","valueOfLength1","objectId","encryptor","processedData","keyValues","additionalKeyValues","filterAsString","processDataByFilters","reverseChain","isArray","j","decodeParmsArray","k","putPage","page","pageNumber","pageObjectNumber","pageContentsObjId","contentsObjId","mediaBox","bottomLeftX","bottomLeftY","topRightX","topRightY","cropBox","bleedBox","trimBox","artBox","pageContext","pageContent","putPages","pageObjectNumbers","kids","putFont","font","isAlreadyPutted","$boyZE","toPDFName","postScriptName","encoding","putFonts","fontKey","putXObject","xObject","putXObjects","xObjectKey","interpolateAndEncodeRGBStream","numberSamples","t","tValues","dT","offset","unshift","index","aColor","bColor","round","trim","putShadingPattern","funcObjectNumber","putTilingPattern","deferredResourceDictionaryIds","resourcesObjectId","patternObjectId","resourcesOid","objectOid","putPatterns","putGState","putGStates","gStateKey","putXobjectDict","putEncryptionDict","v","toHexString","U","O","P","putFontDict","putShadingPatternDict","putTilingPatternDict","putGStatesDict","putResourceDictionary","objectIds","putResources","Number","MAX_SAFE_INTEGER","putAdditionalObjects","addFontToFontDictionary","fontName","addFont","isStandardFont","metadata","instance","addFonts","arrayOfFonts","parts","dictionary","SAFE","fn","foo","stack","m","alert","bar","to8bitStream","text","flags","sourceEncoding","encodingBlock","outputEncoding","newtext","isUnicode","ch","bch","autoencode","codePages","String","fromCharCode","noBOM","pdfEscape","beginPage","_setPage","_addPage","parmFormat","parmOrientation","dimensions","warn","min","lineWidth","strokeColor","lineCapID","lineJoinID","_deletePage","splice","setPage","getNumberOfPages","getFont","fontNameLowerCase","disableWarning","noFallback","putInfo","version","putCatalog","tmpRootDictionaryObjId","pcn","putTrailer","putHeader","putXRef","buildDocument","offsetOfXRef","getBlob","Blob","output","filename","save","dataURI","pdfDocument","$3MIN7","btoa","unescape","encodeURIComponent","pdfObjectUrl","integrity","htmlForNewWindow","JSON","stringify","nW","open","htmlForPDFjsNewWindow","pdfJsUrl","PDFjsNewWindow","scope","documentElement","querySelector","onload","contentWindow","PDFViewerApplication","htmlForDataURLNewWindow","dataURLNewWindow","safari","location","href","hasHotfix","hotfixName","getEncryptor","getPageInfo","pageNumberOneBased","getPageInfoByObjId","getCurrentPageInfo","addPage","insertPage","beforePage","movePage","targetPage","tmpPages","tmpPagesContext","deletePage","text1","transform","payload","da1","angle","align","charSpace","maxWidth","horizontalScale","transformationMatrix","tmp","xtra","isHex","lineHeight","lineHeightFactor","scaleFactor","ESC","s","TabLen","transformTextToSpecialArray","curDa","sa","da","shift","processTextByFunction","processingFunction","tmpResult","textIsOfTypeString","tmpTextIsOfTypeString","sa1","curDa1","len1","match","descent","baseline","splitTextToSize","reduce","acc","textLine","mutex","rotationDirection","cos","s1","sin","activeCharSpace","setCharSpace","getCharSpace","lang","renderingMode","parmRenderingMode","stroke","usedRenderingMode","lineWidths","leading","pageWidth","pageSize","getWidth","activeFont","assign","wordSpacingPerLine","newY","getStringUnitWidth","doKerning","newX","prevWidth","getHorizontalCoordinate","getVerticalCoordinate","doReversing","posX","posY","reverse","activeFontEncoding","posX1","posY1","STRING","ARRAY","variant","wordSpacing","generatePosition","parmPosX","parmPosY","parmTransformationMatrix","position","lineIndex","result1","textColor","rule","clipEvenOdd","discardPath","isValidStyle","style","setDefaultPathOperation","operator","getStyle","op","close","fill","fillWithOptionalPattern","fillEvenOdd","fillStroke","fillStrokeEvenOdd","fillWithPattern","putStyle","cloneTilingPattern","patternData","patternId","clipRuleFromStyle","setGState","moveTo","lineTo","curveTo","x2","y2","x3","y3","line","lines","closed","scalex","scaley","leg","x4","y4","path","triangle","roundedRect","rx","ry","MyArc","SQRT2","lx","ly","setFont","getFontEntry","getFontList","list","encodingOptions","getLineWidth","setLineDash","setLineDashPattern","dashArray","dashPhase","getLineHeight","setLineHeightFactor","getLineHeightFactor","getHorizontalCoordinateString","getVerticalCoordinateString","getStrokeColor","getDrawColor","setStrokeColor","setDrawColor","fillColor","getFillColor","setFillColor","getTextColor","setTextColor","CapJoinStyles","butt","but","miter","rounded","projecting","project","square","bevel","setLineCap","setLineJoin","setLineMiterLimit","setMiterLimit","GState","addGState","equals","duplicate","fontState","setCurrentTransformationMatrix","comment","_x","enumerable","_y","_type","_w","_h","RenderTarget","getPageWidth","setPageWidth","setPageHeight","endFormObject","newXObject","xObjectId","plugin","beginFormObject","doFormObject","getFormObject","returnPromise","$4ce0y","saveAs","unload","setTimeout","resolve","reject","events","newEvents","eventname","handler_and_args","getCoordinateString","collections","setWidth","getHeight","setHeight","getPDFVersion","configurable","other","ignore","typeOf","count","$30e326129d9fbcea$var$download","name","opts","xhr","XMLHttpRequest","responseType","$30e326129d9fbcea$export$2bc2a80e311129ac","response","onerror","send","$30e326129d9fbcea$var$corsEnabled","status","$30e326129d9fbcea$var$click","node","dispatchEvent","MouseEvent","evt","createEvent","initMouseEvent","window","HTMLAnchorElement","webkitURL","download","rel","origin","target","navigator","msSaveOrOpenBlob","autoBom","$30e326129d9fbcea$var$bom","popup","innerText","force","isSafari","HTMLElement","isChromeIOS","userAgent","FileReader","reader","onloadend","readAsDataURL","url1","$9c8391ec6865d40d$export$ded1884231baf037","$parcel$global","self","$15e7ae9a272c0d04$var$consoleLog","log","$15e7ae9a272c0d04$export$e896d9a1b4631fa1","str","$8dd7c8d9a0679f53$export$b278fa1959b09b13","color_string","channels","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","feldspar","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslateblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","violetred","wheat","white","whitesmoke","yellow","yellowgreen","color_defs","re","example","process","bits","processor","bits1","exec","g","toRGB","$2c1899678870381a$export$1406ac7a6dfd7b7a","$2c1899678870381a$export$a32219e24f8d1e2","atob","bind","$328413d12767a925$var$permissionOptions","print","modify","copy","$328413d12767a925$export$db2a6070c3c51d98","permissions","protection","perm","paddedUserPassword","paddedOwnerPassword","processOwnerPassword","encryptionKey","$e6TyE","md5Bin","lsbFirstWord","hexToBytes","$d0Usu","rc4","$a45cb8d7c861b3ec$var$md5cycle","$a45cb8d7c861b3ec$var$ff","$a45cb8d7c861b3ec$var$gg","$a45cb8d7c861b3ec$var$hh","$a45cb8d7c861b3ec$var$ii","$a45cb8d7c861b3ec$var$add32","$a45cb8d7c861b3ec$var$cmn","q","$a45cb8d7c861b3ec$var$md51","state","$a45cb8d7c861b3ec$var$md5blk","substring","tail","md5blks","$a45cb8d7c861b3ec$var$hex_chr","$a45cb8d7c861b3ec$var$rhex","$a45cb8d7c861b3ec$var$singleToByteString","$a45cb8d7c861b3ec$export$edca17d0e3c2a6ab","$a45cb8d7c861b3ec$var$md5Check","$a45cb8d7c861b3ec$var$hex","lsw","$979711eee542dca9$export$50ce5028793cc2e","lastKey","lastState","num","$84bd148d30b2b9c5$export$d54c4e959dd5e099","strLength","charCode","$24f87a6f86a8996f$export$a143d493d941bafc","$24f87a6f86a8996f$export$f99ded8fe4b79145","$24f87a6f86a8996f$var$customInspectSymbol","$24f87a6f86a8996f$var$Buffer","$24f87a6f86a8996f$var$K_MAX_LENGTH","$24f87a6f86a8996f$var$createBuffer","RangeError","buf","setPrototypeOf","arg","encodingOrOffset","TypeError","$24f87a6f86a8996f$var$allocUnsafe","$24f87a6f86a8996f$var$from","isEncoding","$24f87a6f86a8996f$var$byteLength","actual","$24f87a6f86a8996f$var$fromString","isView","arrayView","$24f87a6f86a8996f$var$isInstance","$24f87a6f86a8996f$var$fromArrayBuffer","buffer","byteOffset","byteLength","$24f87a6f86a8996f$var$fromArrayLike","$24f87a6f86a8996f$var$fromArrayView","SharedArrayBuffer","valueOf","from","isBuffer","$24f87a6f86a8996f$var$checked","$24f87a6f86a8996f$var$numberIsNaN","$24f87a6f86a8996f$var$fromObject","toPrimitive","$24f87a6f86a8996f$var$assertSize","array","mustMatch","loweredCase","$24f87a6f86a8996f$var$utf8ToBytes","$24f87a6f86a8996f$var$base64ToBytes","$24f87a6f86a8996f$var$slowToString","start","end","$24f87a6f86a8996f$var$hexSlice","$24f87a6f86a8996f$var$utf8Slice","$24f87a6f86a8996f$var$asciiSlice","$24f87a6f86a8996f$var$latin1Slice","$24f87a6f86a8996f$var$base64Slice","$24f87a6f86a8996f$var$utf16leSlice","$24f87a6f86a8996f$var$swap","$24f87a6f86a8996f$var$bidirectionalIndexOf","val","dir","$24f87a6f86a8996f$var$arrayIndexOf","lastIndexOf","arr","i1","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","found","$24f87a6f86a8996f$var$hexWrite","remaining","strLen","parsed","$24f87a6f86a8996f$var$utf8Write","$24f87a6f86a8996f$var$blitBuffer","$24f87a6f86a8996f$var$asciiWrite","byteArray","$24f87a6f86a8996f$var$asciiToBytes","$24f87a6f86a8996f$var$base64Write","$24f87a6f86a8996f$var$ucs2Write","units","hi","lo","$24f87a6f86a8996f$var$utf16leToBytes","$5d11t","fromByteArray","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","codePoints","$24f87a6f86a8996f$var$MAX_ARGUMENTS_LENGTH","$24f87a6f86a8996f$var$decodeCodePointsArray","TYPED_ARRAY_SUPPORT","proto","$24f87a6f86a8996f$var$typedArraySupport","poolSize","alloc","$24f87a6f86a8996f$var$alloc","allocUnsafe","allocUnsafeSlow","_isBuffer","compare","pos","swap16","swap32","swap64","toLocaleString","inspect","max","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","$24f87a6f86a8996f$var$hexSliceLookupTable","bytes","$24f87a6f86a8996f$var$checkOffset","ext","$24f87a6f86a8996f$var$checkInt","$24f87a6f86a8996f$var$wrtBigUInt64LE","$24f87a6f86a8996f$var$checkIntBI","BigInt","$24f87a6f86a8996f$var$wrtBigUInt64BE","$24f87a6f86a8996f$var$checkIEEE754","$24f87a6f86a8996f$var$writeFloat","littleEndian","noAssert","$7rddL","$24f87a6f86a8996f$var$writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","$24f87a6f86a8996f$var$defineBigIntMethod","$24f87a6f86a8996f$var$validateNumber","first","last","$24f87a6f86a8996f$var$boundsError","pow","readBigUInt64BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","limit","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","code","$24f87a6f86a8996f$var$errors","$24f87a6f86a8996f$var$E","sym","getMessage","Base1","Base","NodeError","assertThisInitialized","_this","writable","$24f87a6f86a8996f$var$addNumericalSeparator","range","ERR_OUT_OF_RANGE","$24f87a6f86a8996f$var$checkBounds","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","input","msg","received","isInteger","$24f87a6f86a8996f$var$INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","$24f87a6f86a8996f$var$base64clean","dst","constructor","alphabet","table","i16","$24f87a6f86a8996f$var$BufferBigIntNotDefined","$3caef5c332c7293f$export$d622b2ad8d90c771","$3caef5c332c7293f$export$6100ba28696e12de","b64","lens","$3caef5c332c7293f$var$getLens","validLen","placeHoldersLen","$3caef5c332c7293f$var$Arr","$3caef5c332c7293f$var$_byteLength","curByte","$3caef5c332c7293f$var$revLookup","uint8","extraBytes","maxChunkLength","len2","$3caef5c332c7293f$var$encodeChunk","$3caef5c332c7293f$var$lookup","$3caef5c332c7293f$var$code","$3caef5c332c7293f$var$i","$3caef5c332c7293f$var$len","$56a54f6ebabce67d$export$aafa59e2e03f2942","$56a54f6ebabce67d$export$68d8715fc104d294","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","LN2","jsPDFAPI","__addimage__","UNKNOWN","imageFileTypeHeaders","PNG","TIFF","JPEG","JPEG2000","GIF87a","GIF89a","WEBP","BMP","getImageFileTypeByImageData","imageData","fallbackFormat","headerSchemata","compareResult","fileType","Uint8ClampedArray","isArrayBufferView","putImage","image","filter","colorSpace","color_spaces","INDEXED","palette","sMask","DEVICE_CMYK","bitsPerComponent","decodeParameters","transparency","predictor","arrayBufferToBinaryString","putResourcesCallback","images","putXObjectsDictCallback","initialize","getImages","getImageIndex","isImageTypeSupported","isDOMElement","object","nodeType","getImageDataFromElement","element","nodeName","hasAttribute","getAttribute","tmpImageData","loadFile","mimeType","checkImagesForAlias","alias","determineWidthAndHeight","writeImageToPDF","rotation","coord","vcoord","f4","rotationTransformationMatrix","DEVICE_RGB","DEVICE_GRAY","CAL_GREY","CAL_RGB","LAB","ICC_BASED","PATTERN","SEPARATION","DEVICE_N","decode","DCT_DECODE","FLATE_DECODE","LZW_DECODE","JPX_DECODE","JBIG2_DECODE","ASCII85_DECODE","ASCII_HEX_DECODE","RUN_LENGTH_DECODE","CCITT_FAX_DECODE","image_compression","NONE","FAST","MEDIUM","SLOW","sHashCode","hash","validateStringAsBase64","possibleBase64String","extractImageFromDataUrl","dataUrl","dataUrlParts","extractedInfo","charset","supportsArrayBuffer","isArrayBuffer","Uint32Array","Int8Array","Int16Array","Uint16Array","Int32Array","Float32Array","Float64Array","binaryStringToUint8Array","binary_string","compression","processImageData","dataAsBinaryString","convertBase64ToBinaryString","generateAliasFromImageData","checkCompressValue","stringData","throwError","base64Info","rawData","getImageProperties","hasCompressionJS","compressBytes","applyPngFilterMethod","filterNone","filterSub","filterUp","filterAverage","filterPaeth","paethPredictor","getFilterMethods","getIndexOfSmallestSum","$20yeu","zlibSync","lineLength","colorsPerPixel","level","filter_method","dat","prevLine","filter_methods","results","ind","left","up","upLeft","paeth","pLeft","pUp","pUpLeft","arrays","sum","pv","cv","processPNG","trns","pal","smask","pixels","alphaData","imgData","hasColors","$8DFJa","colorType","pixelBitlength","decodePixels","pbl","pDiff","indexed","trans","total","getPredictorFromCompression","$176622c6c12b4bff$var$ch2","$176622c6c12b4bff$var$u8","$176622c6c12b4bff$var$u16","$176622c6c12b4bff$var$u32","$176622c6c12b4bff$var$fleb","$176622c6c12b4bff$var$fdeb","$176622c6c12b4bff$var$clim","$176622c6c12b4bff$var$freb","eb","$176622c6c12b4bff$var$_a","$176622c6c12b4bff$var$fl","$176622c6c12b4bff$var$revfl","$176622c6c12b4bff$var$_b","$176622c6c12b4bff$var$fd","$176622c6c12b4bff$var$revfd","$176622c6c12b4bff$var$rev","$176622c6c12b4bff$var$i","$176622c6c12b4bff$var$x","$176622c6c12b4bff$var$hMap","cd","mb","co","le","rvb","sv","r_1","$176622c6c12b4bff$var$flt","$176622c6c12b4bff$var$fdt","$176622c6c12b4bff$var$flm","$176622c6c12b4bff$var$flrm","$176622c6c12b4bff$var$fdm","$176622c6c12b4bff$var$fdrm","$176622c6c12b4bff$var$max","$176622c6c12b4bff$var$bits","o","$176622c6c12b4bff$var$bits16","$176622c6c12b4bff$var$shft","$176622c6c12b4bff$var$slc","$176622c6c12b4bff$var$inflt","st","sl","noBuf","noSt","cbuf","bl","nbuf","final","bt","lm","dm","lbt","dbt","tbts","l1","hLit","hcLen","tl","ldt","clt","clb","clbmsk","clm","lt","dt","lms","dms","mxa","add","dsym","$176622c6c12b4bff$var$wbits","$176622c6c12b4bff$var$wbits16","$176622c6c12b4bff$var$hTree","sort","i0","i2","maxSym","tr","mbt","$176622c6c12b4bff$var$ln","lft","cst","i2_1","i2_2","i2_3","$176622c6c12b4bff$var$lc","cl","cli","cln","cls","$176622c6c12b4bff$var$clen","cf","$176622c6c12b4bff$var$wfblk","$176622c6c12b4bff$var$wblk","syms","lf","df","li","bs","_a","dlt","mlb","_b","ddt","mdb","_c","lclt","nlc","_d","lcdt","ndc","lcfreq","_e","lct","mlcb","nlcc","ll","flen","ftlen","dtlen","llm","lcts","it","clct","$176622c6c12b4bff$var$deo","$176622c6c12b4bff$var$et","$176622c6c12b4bff$var$dflt","lvl","plvl","pre","post","lst","opt","msk_1","prev","head","bs1_1","ceil","bs2_1","hsh","lc_1","wi","hv","imod","pimod","rem","ch_1","dif","maxn","maxd","ml","nl","mmd","md","ti","lin","din","$176622c6c12b4bff$var$crct","$176622c6c12b4bff$var$crc","cr","$176622c6c12b4bff$var$adler","$176622c6c12b4bff$var$dopt","mem","$176622c6c12b4bff$var$mrg","$176622c6c12b4bff$var$wcln","fnStr","td","ks","st_1","spInd","$176622c6c12b4bff$var$ch","$176622c6c12b4bff$var$wrkr","fns","init","cb","td_1","transfer","u","Worker","onmessage","postMessage","$176622c6c12b4bff$var$wk","$176622c6c12b4bff$var$cbfs","$176622c6c12b4bff$var$bInflt","$176622c6c12b4bff$export$90366d8b308ba94a","$176622c6c12b4bff$var$pbf","$176622c6c12b4bff$var$gu8","$176622c6c12b4bff$var$guze","$176622c6c12b4bff$var$gzs","$176622c6c12b4bff$var$gzl","$176622c6c12b4bff$var$zule","$176622c6c12b4bff$var$zlv","$176622c6c12b4bff$var$astrm","strm","ondata","ev","$176622c6c12b4bff$var$astrmify","terminate","$176622c6c12b4bff$var$wbytes","$176622c6c12b4bff$var$gzh","mtime","now","flg","zs","$176622c6c12b4bff$var$gzhl","$176622c6c12b4bff$var$zlh","lv","fl","$176622c6c12b4bff$export$ae157b6234afe138","chunk","$176622c6c12b4bff$export$d1de70a877d6e43c","bts","$176622c6c12b4bff$export$fff8358d6dbaa9cc","$176622c6c12b4bff$export$8e4b66d280bf8342","raw","$176622c6c12b4bff$export$4cb607de6db70415","$176622c6c12b4bff$export$d5adcdd968132151","$176622c6c12b4bff$export$4187ccf2467013b9","$176622c6c12b4bff$export$f87121a6d50aff25","$176622c6c12b4bff$export$af2424f875ff1b17","$176622c6c12b4bff$export$cf6668790220dcad","$176622c6c12b4bff$export$9ec8134f0f1b9fc6","$176622c6c12b4bff$export$578fe199ef655b76","G","I","Z","_this_1","$176622c6c12b4bff$export$ae2c1d81988d4b43","$64a2557afa7537b4$export$1f536085c24cc947","makeImage","scratchCanvas","scratchCtx","chunkSize","palLen","delayDen","delayNum","frame","section","palShort","_i1","_j","_ref","animation","readUInt32","_i","_results","compressionMethod","filterMethod","interlaceMethod","numFrames","numPlays","frames","xOffset","yOffset","readUInt16","delay","disposeOp","blendOp","grayscale","rgb","hasAlphaChannel","pixelBytes","fullPixels","pass","x0","y0","dx","dy","abyte","col","pa","pb","pc","row","scanlineLength","upper","upperLeft","_k","_l","_m","isFull","fullPos","partPos","unzlibSync","decodePalette","_ref1","copyToImageData","alpha","_decodedPalette","hasBrowserCanvas","clearRect","putImageData","decodeFrames","_len","createImageData","renderFrame","animate","doFrame","frameNumber","_timeout","stopAnimation","clearTimeout","render","canvas","_png"],"version":3,"file":"genpdf.cc04e253.js.map"}